{"ast":null,"code":"import _objectSpread from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,Fragment,useState}from'react';import systemContext from'../../context/system/systemContext';import TagDescriptor from'./tagDescriptor';import tagDescriptorContext from'../../context/tagdescriptor/tagDescriptorContext';import ReactPaginate from'react-paginate';var TagDescriptorList=function TagDescriptorList(){var sContext=useContext(systemContext);var systemSelected=sContext.systemSelected;var tContext=useContext(tagDescriptorContext);var searchtagdescriptors=tContext.searchtagdescriptors,getTagsDescriptors=tContext.getTagsDescriptors;var _useState=useState({offset:0,perPage:10,currentPage:0,pageCount:0,data:[]}),_useState2=_slicedToArray(_useState,2),pag=_useState2[0],setPag=_useState2[1];useEffect(function(){var listTagsDescriptors=function listTagsDescriptors(){if(systemSelected){getTagsDescriptors(systemSelected._id);}};listTagsDescriptors();// eslint-disable-next-line\n},[systemSelected]);useEffect(function(){if(systemSelected){setPag(_objectSpread({},pag,{pageCount:Math.ceil(searchtagdescriptors.length/pag.perPage),data:searchtagdescriptors,offset:0,currentPage:0}));}// eslint-disable-next-line\n},[searchtagdescriptors]);if(!systemSelected){return/*#__PURE__*/React.createElement(\"h2\",null,\"Seleccione un sistema\");}if(!searchtagdescriptors){return/*#__PURE__*/React.createElement(\"p\",null,\"No hay documentos para el sistema seleccionado\");}var handlePageClick=function handlePageClick(e){var selectedPage=e.selected;var offset=selectedPage*pag.perPage;setPag(_objectSpread({},pag,{currentPage:selectedPage,offset:offset}));};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Tags descriptors del sistema: \",systemSelected.name),/*#__PURE__*/React.createElement(\"ul\",null,searchtagdescriptors.length===0?/*#__PURE__*/React.createElement(\"li\",{className:\"tarea\"},/*#__PURE__*/React.createElement(\"p\",null,\"No hay documentos para el sistema seleccionado\")):pag.data.slice(pag.offset,pag.offset+pag.perPage).map(function(tgd){return/*#__PURE__*/React.createElement(TagDescriptor,{tagdescriptor:tgd});})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReactPaginate,{previousLabel:\"<\",nextLabel:\">\",breakLabel:\"...\",breakClassName:\"break-me\",pageCount:pag.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:handlePageClick,containerClassName:\"pagination\",subContainerClassName:\"pages pagination\",activeClassName:\"active\"})));};export default TagDescriptorList;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/tagsdescriptors/tagDescriptorList.js"],"names":["React","useEffect","useContext","Fragment","useState","systemContext","TagDescriptor","tagDescriptorContext","ReactPaginate","TagDescriptorList","sContext","systemSelected","tContext","searchtagdescriptors","getTagsDescriptors","offset","perPage","currentPage","pageCount","data","pag","setPag","listTagsDescriptors","_id","Math","ceil","length","handlePageClick","e","selectedPage","selected","name","slice","map","tgd"],"mappings":"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","sourcesContent":["import React, {useEffect, useContext, Fragment, useState} from 'react';\nimport systemContext from '../../context/system/systemContext'\nimport TagDescriptor from './tagDescriptor'\nimport tagDescriptorContext from '../../context/tagdescriptor/tagDescriptorContext';\nimport ReactPaginate from 'react-paginate';\n\n\n\nconst TagDescriptorList = () => {\n\n    const sContext = useContext(systemContext)\n    const {systemSelected} = sContext\n    \n    const tContext = useContext(tagDescriptorContext)\n    const {searchtagdescriptors, getTagsDescriptors} = tContext\n\n    const [pag, setPag] = useState(\n            {\n                offset:0,\n                perPage:10,\n                currentPage:0,\n                pageCount:0,\n                data:[]\n            })\n    \n\n    useEffect(() => {\n        const listTagsDescriptors = ()=>{\n            if (systemSelected){\n                getTagsDescriptors(systemSelected._id)\n            }\n        }\n        listTagsDescriptors()\n        // eslint-disable-next-line\n    }, [systemSelected])\n\n    useEffect(() => {\n        if (systemSelected){\n            setPag(\n                {...pag,\n                    pageCount: Math.ceil(searchtagdescriptors.length/pag.perPage),\n                    data:searchtagdescriptors,\n                    offset:0,\n                    currentPage:0\n                })\n            \n        }\n        // eslint-disable-next-line\n    }, [searchtagdescriptors])\n\n    if(!systemSelected) {\n        return <h2>Seleccione un sistema</h2>\n    }\n    \n    if (!searchtagdescriptors){\n        return <p>No hay documentos para el sistema seleccionado</p>\n    }\n\n    const handlePageClick = (e) => {\n        const selectedPage = e.selected;\n        const offset = selectedPage * pag.perPage;\n        setPag(\n            {...pag,\n                currentPage: selectedPage,\n                offset:offset\n            })\n\n    };\n\n    return ( \n        <Fragment>\n            <h2>Tags descriptors del sistema: {systemSelected.name}</h2>\n            <ul>\n                {(searchtagdescriptors.length===0)?\n                    (<li className=\"tarea\"><p>No hay documentos para el sistema seleccionado</p></li>)\n                :\n                    pag.data.slice(pag.offset,pag.offset+pag.perPage).map(tgd =>(\n                        <TagDescriptor\n                            tagdescriptor={tgd}\n                        />\n                    ))\n                }\n            </ul>\n            <div>\n                <ReactPaginate\n                    previousLabel={\"<\"}\n                    nextLabel={\">\"}\n                    breakLabel={\"...\"}\n                    breakClassName={\"break-me\"}\n                    pageCount={pag.pageCount}\n                    marginPagesDisplayed={2}\n                    pageRangeDisplayed={5}\n                    onPageChange={handlePageClick}\n                    containerClassName={\"pagination\"}\n                    subContainerClassName={\"pages pagination\"}\n                    activeClassName={\"active\"}/>\n            </div>\n        </Fragment>\n     );\n}\n \nexport default TagDescriptorList;"]},"metadata":{},"sourceType":"module"}