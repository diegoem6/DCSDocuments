{"ast":null,"code":"var _jsxFileName = \"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/tagsdescriptors/newTagDescriptor.js\";\nimport React, { Fragment, useState, useContext, useEffect } from 'react';\nimport tagDescriptorContext from '../../context/tagdescriptor/tagDescriptorContext';\nimport systemContext from '../../context/system/systemContext';\nimport SunEditor from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\n\nimport { UPDATE_TAGDESCRIPTOR } from '../../types';\n\nconst NewTagDescriptor = () => {\n  const tdContext = useContext(tagDescriptorContext);\n  const {\n    error,\n    createTagDescriptor,\n    showError,\n    tagdescriptor,\n    updateTagDescriptor\n  } = tdContext;\n  const sContext = useContext(systemContext);\n  const {\n    systemSelected\n  } = sContext;\n  const [tagname, setTagname] = useState('');\n  const [description, setDescription] = useState('');\n  useEffect(() => {\n    if (tagdescriptor !== null && tagdescriptor.length > 0) {\n      const [currentTagDescriptor] = tagdescriptor;\n      setTagname(currentTagDescriptor.tagname);\n      setDescription(currentTagDescriptor.description);\n    } else {\n      setTagname('');\n      setDescription('');\n    }\n  }, []);\n  if (!systemSelected) return null;\n\n  const onChangeTagDescriptor = e => {\n    setTagname(e.target.value);\n  };\n\n  const onChangeRichText = value => {\n    setDescription(value);\n  };\n\n  const onSubmitTagDescriptor = e => {\n    e.preventDefault(); //hacer validaciones y reseteo de form\n\n    if (tagname.trim() === '' || description.trim() === '') {\n      //alert(description.trim())\n      //alert(tagname.trim())\n      showError();\n      return;\n    } // llamo a agregar proyecto\n\n\n    let newTagDescriptor = {};\n    newTagDescriptor.tagname = tagname;\n    newTagDescriptor.description = description;\n    newTagDescriptor.system = systemSelected._id;\n\n    if (tagdescriptor !== null && tagdescriptor.length > 0) {\n      const [currentTagDescriptor] = tagdescriptor;\n      newTagDescriptor._id = currentTagDescriptor._id;\n      updateTagDescriptor(newTagDescriptor);\n    } else {\n      createTagDescriptor(newTagDescriptor);\n    }\n\n    setDescription(\"\");\n    setTagname(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Nuevo tags descriptor en el sistema: \", systemSelected.name), error ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mensaje error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, \"El nombre del formulario no puede estar vac\\xEDo\") : null, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"formulario-nuevo-proyecto\",\n    onSubmit: onSubmitTagDescriptor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input-text\",\n    placeholder: \"Tag name\",\n    name: \"tagname\",\n    value: tagname,\n    onChange: onChangeTagDescriptor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(SunEditor, {\n    placeholder: \"descripci\\xF3n del tag\",\n    name: \"description\",\n    setOptions: {\n      height: 300\n    },\n    setContents: description,\n    onChange: onChangeRichText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }), tagdescriptor !== null && tagdescriptor.length > 0 ? /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Guardar Tag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 30\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Agregar Tag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 30\n    }\n  })));\n};\n\nexport default NewTagDescriptor;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/tagsdescriptors/newTagDescriptor.js"],"names":["React","Fragment","useState","useContext","useEffect","tagDescriptorContext","systemContext","SunEditor","UPDATE_TAGDESCRIPTOR","NewTagDescriptor","tdContext","error","createTagDescriptor","showError","tagdescriptor","updateTagDescriptor","sContext","systemSelected","tagname","setTagname","description","setDescription","length","currentTagDescriptor","onChangeTagDescriptor","e","target","value","onChangeRichText","onSubmitTagDescriptor","preventDefault","trim","newTagDescriptor","system","_id","name","height"],"mappings":"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","sourcesContent":["import React,{Fragment, useState, useContext, useEffect} from 'react';\nimport tagDescriptorContext from '../../context/tagdescriptor/tagDescriptorContext' \nimport systemContext from '../../context/system/systemContext' \nimport SunEditor from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\nimport { UPDATE_TAGDESCRIPTOR } from '../../types';\n\nconst NewTagDescriptor = () => {\n    \n    const tdContext = useContext(tagDescriptorContext)\n    const {error, createTagDescriptor, showError, tagdescriptor, updateTagDescriptor} = tdContext\n\n    const sContext = useContext(systemContext)\n    const {systemSelected} = sContext\n\n    const [tagname, setTagname] = useState('')\n    const [description, setDescription] = useState('')\n    \n        \n        \n \n    useEffect(() => {\n        if (tagdescriptor !== null && tagdescriptor.length>0){\n            const [currentTagDescriptor] = tagdescriptor\n            setTagname(currentTagDescriptor.tagname)\n            setDescription(currentTagDescriptor.description)\n            \n        }else{\n            setTagname('')\n            setDescription('')\n        }\n    }, [])\n\n    if (!systemSelected) return null\n\n    const onChangeTagDescriptor = (e)=>{\n        setTagname(e.target.value)\n    }\n\n    const onChangeRichText = (value)=>{\n        setDescription(value)\n    }\n\n    const onSubmitTagDescriptor = (e)=>{\n        e.preventDefault();\n\n        //hacer validaciones y reseteo de form\n        if (tagname.trim() === '' || description.trim()===''){\n            //alert(description.trim())\n            //alert(tagname.trim())\n            showError()\n            return;\n        }\n\n        // llamo a agregar proyecto\n        let newTagDescriptor = {}\n        newTagDescriptor.tagname = tagname\n        newTagDescriptor.description = description\n        newTagDescriptor.system = systemSelected._id\n        \n\n        if (tagdescriptor !== null && tagdescriptor.length>0){\n            const [currentTagDescriptor] = tagdescriptor\n            newTagDescriptor._id = currentTagDescriptor._id\n            updateTagDescriptor(newTagDescriptor)    \n        }else{\n            createTagDescriptor(newTagDescriptor)\n        }\n        \n        setDescription(\"\")\n        setTagname(\"\")\n    }\n    return ( \n        <Fragment>\n                <h2>Nuevo tags descriptor en el sistema: {systemSelected.name}</h2>\n                    {error? <p className=\"mensaje error\">El nombre del formulario no puede estar vacío</p> : null}\n                    <form   \n                        className=\"formulario-nuevo-proyecto\"\n                        onSubmit = {onSubmitTagDescriptor}\n                        >\n                        <input  \n                            type=\"text\"\n                            className=\"input-text\"\n                            placeholder=\"Tag name\"\n                            name=\"tagname\"\n                            value ={tagname}\n                            onChange = {onChangeTagDescriptor}\n                        />\n                        \n                        <SunEditor \n                            placeholder=\"descripción del tag\"\n                            name=\"description\"\n                            setOptions={{\n                                height: 300}}\n                            setContents ={description}\n                            onChange = {onChangeRichText}\n                        /> \n                        {/* <textarea \n                            name=\"description\"\n                            value ={description}\n                            onChange = {onChangeTagDescriptor}\n                        > \n\n                        </textarea>*/}\n                        {(tagdescriptor !== null && tagdescriptor.length>0) ?\n                    \n                            (<input \n                                type=\"submit\"\n                                className=\"btn btn-primario btn-block\"\n                                value = \"Guardar Tag\"\n                            /> )\n                            :\n                            (<input \n                                type=\"submit\"\n                                className=\"btn btn-primario btn-block\"\n                                value = \"Agregar Tag\"\n                            /> )\n                        }\n                          \n                    </form>\n                \n        </Fragment>\n     );\n}\n \nexport default NewTagDescriptor;"]},"metadata":{},"sourceType":"module"}