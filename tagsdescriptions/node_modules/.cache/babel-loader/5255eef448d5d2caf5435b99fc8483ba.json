{"ast":null,"code":"var _jsxFileName = \"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/tagsdescriptors/searchTagDescriptor.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport tagDescriptorContext from '../../context/tagdescriptor/tagDescriptorContext';\nimport systemContext from '../../context/system/systemContext';\nimport * as fs from \"fs\";\nimport { Document, Packer, Paragraph, TextRun } from \"docx\";\n\nconst SearchTagDescriptor = () => {\n  const tdContext = useContext(tagDescriptorContext);\n  const {\n    showForm,\n    searchTagsDescriptors,\n    createDocument\n  } = tdContext;\n  const sContext = useContext(systemContext);\n  const {\n    systemSelected\n  } = sContext;\n  const [search, setSearch] = useState('');\n  useEffect(() => {\n    setSearch(''); // eslint-disable-next-line\n  }, [systemSelected]);\n  if (!systemSelected) return null;\n\n  const onClickNewTagDescription = () => {\n    showForm();\n  };\n\n  const onClickCreateDocument = async () => {\n    const doc = new Document();\n    doc.addSection({\n      properties: {},\n      children: [new Paragraph({\n        children: [new TextRun(\"Hello World\"), new TextRun({\n          text: \"Foo Bar\",\n          bold: true\n        }), new TextRun({\n          text: \"\\tGithub is the best\",\n          bold: true\n        })]\n      })]\n    });\n    console.log(doc);\n    const buffer = await Packer.toBuffer(doc);\n    console.log(buffer);\n    fs.writeFileSync(\"My Document.docx\", buffer, err => {\n      if (err) {\n        alert(\"An error ocurred creating the file \" + err.message);\n      }\n    });\n  };\n\n  const onChange = e => {\n    setSearch(e.target.value);\n    searchTagsDescriptors(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formulario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input-text\",\n    placeholder: \"buscar tag descriptor\",\n    name: \"search\",\n    value: search,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secundario btn-submit btn-block\",\n    onClick: onClickNewTagDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Nuevo tag descriptor\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secundario btn-submit btn-block\",\n    onClick: onClickCreateDocument,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Generar documento\")));\n};\n\nexport default SearchTagDescriptor;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/tagsdescriptors/searchTagDescriptor.js"],"names":["React","useContext","useState","useEffect","tagDescriptorContext","systemContext","fs","Document","Packer","Paragraph","TextRun","SearchTagDescriptor","tdContext","showForm","searchTagsDescriptors","createDocument","sContext","systemSelected","search","setSearch","onClickNewTagDescription","onClickCreateDocument","doc","addSection","properties","children","text","bold","console","log","buffer","toBuffer","writeFileSync","err","alert","message","onChange","e","target","value"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\nimport tagDescriptorContext from '../../context/tagdescriptor/tagDescriptorContext' \nimport systemContext from '../../context/system/systemContext';\nimport * as fs from \"fs\";\nimport { Document, Packer, Paragraph, TextRun } from \"docx\";\n\nconst SearchTagDescriptor = () => {\n    \n    const tdContext = useContext(tagDescriptorContext)\n    const {showForm, searchTagsDescriptors, createDocument} = tdContext\n\n    const sContext = useContext(systemContext)\n    const {systemSelected} = sContext\n\n    \n    const [search, setSearch ] = useState('')\n\n    useEffect(() => {\n        setSearch('')\n        // eslint-disable-next-line\n    }, [systemSelected])\n\n    if (!systemSelected) return null\n\n   \n\n    const onClickNewTagDescription = ()=>{\n        showForm()\n    }\n    const onClickCreateDocument = async ()=>{\n       \n            const doc = new Document();\n\n            doc.addSection({\n                properties: {},\n                children: [\n                    new Paragraph({\n                        children: [\n                            new TextRun(\"Hello World\"),\n                            new TextRun({\n                                text: \"Foo Bar\",\n                                bold: true,\n                            }),\n                            new TextRun({\n                                text: \"\\tGithub is the best\",\n                                bold: true,\n                            }),\n                        ],\n                    }),\n                ],\n            });\n            console.log(doc)\n\n            const buffer = await Packer.toBuffer(doc)\n            console.log(buffer)\n\n            \n            fs.writeFileSync(\"My Document.docx\", buffer, (err) => {\n                    if (err) {\n                        alert(\"An error ocurred creating the file \" + err.message);\n                    }\n                }\n            );\n\n           \n    }\n    \n    const onChange = (e)=>{\n        setSearch(e.target.value)\n        searchTagsDescriptors(e.target.value)\n    }\n    return (  \n        <div className=\"formulario\">\n            <div \n                className=\"contenedor-input\">\n                <input \n                    type=\"text\"\n                    className=\"input-text\"\n                    placeholder=\"buscar tag descriptor\"\n                    name=\"search\"\n                    value={search}\n                    onChange = {onChange}\n                />\n            </div>\n            <div \n                className=\"contenedor-input\"\n            >\n                <button\n                        type=\"button\"\n                        className=\"btn btn-secundario btn-submit btn-block\"\n                        onClick = {onClickNewTagDescription}\n                    >Nuevo tag descriptor</button>\n            </div>\n            <div \n                className=\"contenedor-input\"\n            >\n                <button\n                        type=\"button\"\n                        className=\"btn btn-secundario btn-submit btn-block\"\n                        onClick = {onClickCreateDocument}\n                    >Generar documento</button>\n            </div>\n       </div>\n    );\n}\n \nexport default SearchTagDescriptor;"]},"metadata":{},"sourceType":"module"}