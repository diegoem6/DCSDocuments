{"ast":null,"code":"var _jsxFileName = \"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/context/system/systemState.js\";\nimport React, { useReducer } from 'react';\nimport systemContext from './systemContext';\nimport systemReducer from './systemReducer';\nimport { ADD_SYSTEM, GET_SYSTEMS, UPDATE_SYSTEM, SELECT_SYSTEM, DELETE_SYSTEM, DESELECT_SYSTEM } from '../../types/index';\nimport axiosClient from '../../config/axios';\n\nconst SystemState = props => {\n  const initialState = {\n    systems: [],\n    systemSelected: null,\n    active: false\n  };\n  const [state, dispatch] = useReducer(systemReducer, initialState);\n\n  const addSystem = async system => {\n    try {\n      const res = await axiosClient.post('/api/systems', system);\n      dispatch({\n        type: ADD_SYSTEM,\n        payload: res.data\n      });\n      getSystems(system.asset);\n    } catch (error) {}\n  };\n\n  const getSystems = async asset => {\n    try {\n      const res = await axiosClient.get('/api/systems', {\n        params: {\n          asset\n        }\n      });\n      dispatch({\n        type: GET_SYSTEMS,\n        payload: res.data.systems\n      });\n    } catch (error) {}\n  };\n\n  const updateSystem = async system => {\n    try {\n      const id = system._id;\n      const res = await axiosClient.put(`/api/systems/${id}`, system);\n      dispatch({\n        type: UPDATE_SYSTEM\n      });\n      getSystems(system.asset);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const deleteSystem = async system => {\n    try {\n      const id = system._id;\n      const idAsset = system.asset;\n      const res = await axiosClient.delete(`/api/systems/${id}`, {\n        params: {\n          idAsset\n        }\n      });\n      dispatch({\n        type: DELETE_SYSTEM,\n        payload: system\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const selectSystem = system => {\n    dispatch({\n      type: SELECT_SYSTEM,\n      payload: system\n    });\n  };\n\n  const deselectSystem = () => {\n    dispatch({\n      type: DESELECT_SYSTEM\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(systemContext.Provider, {\n    value: {\n      systems: state.systems,\n      systemSelected: state.systemSelected,\n      active: state.active,\n      getSystems,\n      updateSystem,\n      addSystem,\n      selectSystem,\n      deleteSystem,\n      deselectSystem\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default SystemState;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/context/system/systemState.js"],"names":["React","useReducer","systemContext","systemReducer","ADD_SYSTEM","GET_SYSTEMS","UPDATE_SYSTEM","SELECT_SYSTEM","DELETE_SYSTEM","DESELECT_SYSTEM","axiosClient","SystemState","props","initialState","systems","systemSelected","active","state","dispatch","addSystem","system","res","post","type","payload","data","getSystems","asset","error","get","params","updateSystem","id","_id","put","console","log","deleteSystem","idAsset","delete","selectSystem","deselectSystem","children"],"mappings":"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","sourcesContent":["import React, {useReducer} from 'react';\nimport systemContext from './systemContext'\nimport systemReducer from './systemReducer'\n\nimport {\n    ADD_SYSTEM, \n    GET_SYSTEMS,\n    UPDATE_SYSTEM,\n    SELECT_SYSTEM,\n    DELETE_SYSTEM,\n    DESELECT_SYSTEM\n} from '../../types/index'\nimport axiosClient from '../../config/axios';\n\nconst SystemState = (props) => {\n\n    const initialState = {\n        systems:[],\n        systemSelected:null,\n        active:false\n    }\n\n    const [state, dispatch] = useReducer(systemReducer,initialState)\n\n    const addSystem = async (system)=>{\n        try {\n            const res = await axiosClient.post('/api/systems', system)\n            dispatch({\n                type:ADD_SYSTEM,\n                payload: res.data\n            })\n            getSystems(system.asset)\n        } catch (error) {\n            \n        }\n\n    }\n    const getSystems = async (asset) =>{\n        try {\n            const res = await axiosClient.get('/api/systems', {params:{asset}})\n            dispatch({\n                type:GET_SYSTEMS,\n                payload: res.data.systems\n            })\n\n        } catch (error) {\n            \n        }\n    }\n\n    const updateSystem = async (system) =>{\n        try {\n            const id = system._id\n            const res = await axiosClient.put(`/api/systems/${id}`,system)\n            \n            dispatch({\n                type:UPDATE_SYSTEM\n            })\n\n            getSystems(system.asset)\n\n        } catch (error) {\n            console.log(error)\n\n        }\n    }\n\n    const deleteSystem = async (system) =>{\n        try {\n            const id = system._id\n            const idAsset = system.asset\n            const res = await axiosClient.delete(`/api/systems/${id}`, {params:{idAsset}})\n            \n            dispatch({\n                type:DELETE_SYSTEM,\n                payload:system\n            })\n        } catch (error) {\n            console.log(error)\n\n        }\n    }\n\n    const selectSystem = (system) =>{\n        dispatch({\n            type:SELECT_SYSTEM,\n            payload: system\n        })\n    }\n\n    const deselectSystem = () =>{\n        dispatch({\n            type:DESELECT_SYSTEM\n        })\n    }\n\n    return ( \n        <systemContext.Provider\n            value ={{\n                systems:state.systems,\n                systemSelected: state.systemSelected,\n                active:state.active,\n                getSystems,\n                updateSystem,\n                addSystem,\n                selectSystem,\n                deleteSystem,\n                deselectSystem\n            }}\n        >\n            {props.children}\n        </systemContext.Provider>\n     );\n}\n \nexport default SystemState;"]},"metadata":{},"sourceType":"module"}