{"ast":null,"code":"var _jsxFileName = \"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/auth/newUser.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport alertContext from '../../context/alerts/alertContext';\nimport authContext from '../../context/auth/authContext';\n\nconst Newuser = props => {\n  const [user, setuser] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    rpassword: \"\"\n  });\n  const aContext = useContext(alertContext);\n  const {\n    alert,\n    showAlert\n  } = aContext;\n  const auContext = useContext(authContext);\n  const {\n    authenticated,\n    message,\n    createUser,\n    resetMessage\n  } = auContext;\n  const {\n    name,\n    email,\n    password,\n    rpassword\n  } = user;\n  useEffect(() => {\n    if (authenticated) {\n      props.history.push('/');\n    }\n\n    if (message) {\n      showAlert(message.msg, message.category);\n      resetMessage();\n    } // eslint-disable-next-line\n\n  }, [authenticated, message, props.history]);\n\n  const onChange = e => {\n    setuser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (name.trim() === \"\" || email.trim() === \"\" || password.trim() === \"\" || rpassword.trim() === \"\") {\n      showAlert(\"Todos los campos son obligatorios\", \"alerta-error\");\n      return;\n    }\n\n    if (password.length < 6) {\n      showAlert(\"El password debe tener al menos 6 caracteres\", \"alerta-error\");\n      return;\n    }\n\n    if (password !== rpassword) {\n      showAlert(\"Los passwords deben ser iguales\", \"alerta-error\");\n      return;\n    }\n\n    createUser({\n      name,\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, alert ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alert.category}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 20\n    }\n  }, alert.msg, \" \") : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Nueva cuenta\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nombre\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"Nombre\",\n    onChange: onChange,\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    onChange: onChange,\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    onChange: onChange,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, \"Confirmar password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"rpassword\",\n    name: \"rpassword\",\n    placeholder: \"Repeti tu password\",\n    onChange: onChange,\n    value: rpassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Registrar cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: '/',\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"> Volver a Login\")));\n};\n\nexport default Newuser;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/auth/newUser.js"],"names":["React","useState","useContext","useEffect","Link","alertContext","authContext","Newuser","props","user","setuser","name","email","password","rpassword","aContext","alert","showAlert","auContext","authenticated","message","createUser","resetMessage","history","push","msg","category","onChange","e","target","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React,{useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport alertContext from '../../context/alerts/alertContext'\nimport authContext from '../../context/auth/authContext'\n\nconst Newuser = (props) => {\n    const [user, setuser] = useState({\n        name:\"\", \n        email: \"\" ,\n        password: \"\",\n        rpassword:\"\"\n      });\n    \n\n      const aContext = useContext(alertContext)\n      const {alert, showAlert} = aContext\n\n      const auContext = useContext(authContext)\n      const {authenticated, message, createUser, resetMessage} = auContext\n\n      const {name, email, password, rpassword} = user;\n    \n\n      useEffect(()=>{\n          if(authenticated){\n            props.history.push('/')\n          }\n          if (message){\n            showAlert(message.msg,message.category)\n            resetMessage()\n          }\n          // eslint-disable-next-line\n      },[authenticated, message, props.history])\n\n      const onChange = (e) => {\n            setuser({\n              ...user, \n              [e.target.name] : e.target.value\n            })\n      };\n    \n      const onSubmit = (e) => {\n        \n        e.preventDefault();\n        if (name.trim()===\"\"||\n            email.trim()===\"\"||\n            password.trim()===\"\"||\n            rpassword.trim()===\"\"){\n                \n                showAlert(\"Todos los campos son obligatorios\",\"alerta-error\")\n                return;\n        }\n          \n        if (password.length < 6){\n            showAlert(\"El password debe tener al menos 6 caracteres\",\"alerta-error\")\n            return;\n        }\n\n        if (password !== rpassword){\n            showAlert(\"Los passwords deben ser iguales\",\"alerta-error\")\n          return;\n        }\n        createUser({\n          name,\n          email,\n          password\n        })\n      };\n    \n      return (\n        <div className=\"form-usuario\">\n          {alert? (<div className={`alerta ${alert.category}`}>{alert.msg} </div>)\n                    :null}\n          <div className=\"contenedor-form sombra-dark\">\n            <h1>Nueva cuenta</h1>\n    \n            <form \n                onSubmit = {onSubmit}\n            >\n                <div className=\"campo-form\">\n                <label htmlFor=\"nombre\">Nombre</label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  placeholder=\"Nombre\"\n                  onChange={onChange}\n                  value={name}\n                />\n              </div>\n\n              <div className=\"campo-form\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  onChange={onChange}\n                  value={email}\n                />\n              </div>\n    \n              <div className=\"campo-form\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  onChange={onChange}\n                  value={password}\n                />\n              </div>\n\n              <div className=\"campo-form\">\n                <label htmlFor=\"confirmar\">Confirmar password</label>\n                <input\n                  type=\"password\"\n                  id=\"rpassword\"\n                  name=\"rpassword\"\n                  placeholder=\"Repeti tu password\"\n                  onChange={onChange}\n                  value={rpassword}\n                />\n              </div>\n    \n              <div className=\"campo-form\">\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primario btn-block\"\n                  value=\"Registrar cuenta\"\n                />\n              </div>\n            </form>\n            <Link \n                to={'/'}\n                className=\"enlace-cuenta\">\n            >\n                Volver a Login\n            </Link>\n          </div>\n        </div>\n      );\n}\n \n \nexport default Newuser;"]},"metadata":{},"sourceType":"module"}