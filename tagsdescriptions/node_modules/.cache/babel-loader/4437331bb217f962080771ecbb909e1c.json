{"ast":null,"code":"import _defineProperty from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from\"react\";import{Link}from'react-router-dom';import authContext from\"../../context/auth/authContext\";import alertContext from\"../../context/alerts/alertContext\";var Login=function Login(props){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(e){setUser(_objectSpread({},user,_defineProperty({},e.target.name,e.target.value)));};var aContext=useContext(alertContext);var alert=aContext.alert,showAlert=aContext.showAlert;var auContext=useContext(authContext);var loginUser=auContext.loginUser,authenticated=auContext.authenticated,message=auContext.message,resetMessage=auContext.resetMessage;useEffect(function(){if(message){showAlert(message.msg,message.category);resetMessage();}// eslint-disable-next-line\n},[message]);useEffect(function(){if(authenticated){props.history.push('/menu');}// eslint-disable-next-line\n},[authenticated,props.history]);var onSubmit=function onSubmit(e){e.preventDefault();if(email.trim()===\"\"||password.trim()===\"\"){showAlert(\"Todos los campos son obligatorios\",\"alerta-error\");return;}loginUser({email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alert?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alert.category)},alert.msg,\" \"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Iniciar Sesi\\xF3n\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",onChange:onChange,value:email})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Password\",onChange:onChange,value:password})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Iniciar Sesi\\xF3n\"}))),/*#__PURE__*/React.createElement(Link,{to:'/newuser',className:\"enlace-cuenta\"},\"> Obtener cuenta\")));};export default Login;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/auth/login.js"],"names":["React","useState","useContext","useEffect","Link","authContext","alertContext","Login","props","email","password","user","setUser","onChange","e","target","name","value","aContext","alert","showAlert","auContext","loginUser","authenticated","message","resetMessage","msg","category","history","push","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport { Link } from 'react-router-dom'\nimport authContext from \"../../context/auth/authContext\";\nimport alertContext from \"../../context/alerts/alertContext\";\n\nconst Login = (props) => {\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const {email, password} = user;\n\n  const onChange = (e) => {\n    setUser({\n          ...user, \n          [e.target.name] : e.target.value\n        })\n  };\n   const aContext = useContext(alertContext)\n   const {alert, showAlert} = aContext\n   const auContext = useContext(authContext);\n   const {loginUser, authenticated, message, resetMessage} = auContext\n\n\n   useEffect(()=>{\n      if (message){\n        showAlert(message.msg,message.category)\n        resetMessage()\n      }\n      // eslint-disable-next-line\n   },[message])\n\n   useEffect(()=>{\n       if(authenticated){\n         props.history.push('/menu')\n       }\n       // eslint-disable-next-line\n   },[authenticated, props.history])\n\n   const onSubmit = (e) => {\n     e.preventDefault()\n       if (email.trim()===\"\" || password.trim()===\"\"){\n         showAlert(\"Todos los campos son obligatorios\",\"alerta-error\")\n         return;\n       }\n       loginUser({\n         email,\n         password\n       })\n     };\n\n  return (\n    <div className=\"form-usuario\">\n     \n     {alert? (<div className={`alerta ${alert.category}`}>{alert.msg} </div>)\n                    :null}\n           \n      <div className=\"contenedor-form sombra-dark\">\n        <h1>Iniciar Sesión</h1>\n\n        <form \n            onSubmit = {onSubmit}\n        >\n          <div className=\"campo-form\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              onChange={onChange}\n              value={email}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              onChange={onChange}\n              value={password}\n            />\n          </div>\n\n          <div className=\"campo-form\">\n            <input\n              type=\"submit\"\n              className=\"btn btn-primario btn-block\"\n              value=\"Iniciar Sesión\"\n            />\n          </div>\n        </form>\n        <Link \n            to={'/newuser'}\n            className=\"enlace-cuenta\">\n        >\n            Obtener cuenta\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}