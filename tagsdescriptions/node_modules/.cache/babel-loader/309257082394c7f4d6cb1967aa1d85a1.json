{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) {\n      __webpack_require__.d(ns, key, function (key) {\n        return value[key];\n      }.bind(null, key));\n    }\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 35);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (false) {\n    var throwOnDirectAccess, ReactIs;\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = __webpack_require__(33)();\n  }\n  /***/\n\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var dialog = {\n      name: 'dialog',\n\n      /**\n       * @description Constructor\n       * @param {Object} core Core object \n       */\n      add: function add(core) {\n        var context = core.context;\n        context.dialog = {\n          kind: '',\n          updateModal: false,\n          _closeSignal: false\n        };\n        /** dialog */\n\n        var dialog_div = core.util.createElement('DIV');\n        dialog_div.className = 'se-dialog sun-editor-common';\n        var dialog_back = core.util.createElement('DIV');\n        dialog_back.className = 'se-dialog-back';\n        dialog_back.style.display = 'none';\n        var dialog_area = core.util.createElement('DIV');\n        dialog_area.className = 'se-dialog-inner';\n        dialog_area.style.display = 'none';\n        dialog_div.appendChild(dialog_back);\n        dialog_div.appendChild(dialog_area);\n        context.dialog.modalArea = dialog_div;\n        context.dialog.back = dialog_back;\n        context.dialog.modal = dialog_area;\n        /** add event listeners */\n\n        context.dialog.modal.addEventListener('mousedown', this.onMouseDown_dialog.bind(core));\n        context.dialog.modal.addEventListener('click', this.onClick_dialog.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(dialog_div);\n        /** empty memory */\n\n        dialog_div = null, dialog_back = null, dialog_area = null;\n      },\n\n      /**\n       * @description Event to control the behavior of closing the dialog\n       * @param {MouseEvent} e Event object\n       */\n      onMouseDown_dialog: function onMouseDown_dialog(e) {\n        if (/se-dialog-inner/.test(e.target.className)) {\n          this.context.dialog._closeSignal = true;\n        } else {\n          this.context.dialog._closeSignal = false;\n        }\n      },\n\n      /**\n       * @description Event to close the window when the outside area of the dialog or close button is click\n       * @param {MouseEvent} e Event object\n       */\n      onClick_dialog: function onClick_dialog(e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n          this.plugins.dialog.close.call(this);\n        }\n      },\n\n      /**\n       * @description Open a Dialog plugin\n       * @param {String} kind Dialog plugin name\n       * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n       */\n      open: function open(kind, update) {\n        if (this.modalForm) return false;\n\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        this.plugins.dialog._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.dialog.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.context.dialog.updateModal = update;\n\n        if (this.context.option.popupDisplay === 'full') {\n          this.context.dialog.modalArea.style.position = 'fixed';\n        } else {\n          this.context.dialog.modalArea.style.position = 'absolute';\n        }\n\n        this.context.dialog.kind = kind;\n        this.modalForm = this.context[kind].modal;\n        var focusElement = this.context[kind].focusElement;\n        if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n        this.context.dialog.modalArea.style.display = 'block';\n        this.context.dialog.back.style.display = 'block';\n        this.context.dialog.modal.style.display = 'block';\n        this.modalForm.style.display = 'block';\n        if (focusElement) focusElement.focus();\n      },\n      _bindClose: null,\n\n      /**\n       * @description Close a Dialog plugin\n       * The plugin's \"init\" method is called.\n       */\n      close: function close() {\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        var kind = this.context.dialog.kind;\n        this.modalForm.style.display = 'none';\n        this.context.dialog.back.style.display = 'none';\n        this.context.dialog.modalArea.style.display = 'none';\n        this.context.dialog.updateModal = false;\n        this.plugins[kind].init.call(this);\n        this.context.dialog.kind = '';\n        this.modalForm = null;\n        this.focus();\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        window.SUNEDITOR_MODULES = {};\n      }\n\n      window.SUNEDITOR_MODULES.dialog = dialog;\n    }\n\n    return dialog;\n  });\n  /***/\n\n},\n/* 2 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'en',\n      toolbar: {\n        default: 'Default',\n        save: 'Save',\n        font: 'Font',\n        formats: 'Formats',\n        fontSize: 'Size',\n        bold: 'Bold',\n        underline: 'Underline',\n        italic: 'Italic',\n        strike: 'Strike',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Remove Format',\n        fontColor: 'Font Color',\n        hiliteColor: 'Highlight Color',\n        indent: 'Indent',\n        outdent: 'Outdent',\n        align: 'Align',\n        alignLeft: 'Align left',\n        alignRight: 'Align right',\n        alignCenter: 'Align center',\n        alignJustify: 'Align justify',\n        list: 'List',\n        orderList: 'Ordered list',\n        unorderList: 'Unordered list',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Solid',\n        hr_dotted: 'Dotted',\n        hr_dashed: 'Dashed',\n        table: 'Table',\n        link: 'Link',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        fullScreen: 'Full screen',\n        showBlocks: 'Show blocks',\n        codeView: 'Code view',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Line height',\n        paragraphStyle: 'Paragraph style',\n        textStyle: 'Text style'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insert Link',\n          url: 'URL to link',\n          text: 'Text to display',\n          newWindowCheck: 'Open in new window'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Mathematical Notation',\n          fontSizeLabel: 'Font Size',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Insert image',\n          file: 'Select from files',\n          url: 'Image URL',\n          altText: 'Alternative text'\n        },\n        videoBox: {\n          title: 'Insert Video',\n          url: 'Media embed URL, YouTube'\n        },\n        caption: 'Insert description',\n        close: 'Close',\n        submitButton: 'Submit',\n        revertButton: 'Revert',\n        proportion: 'Constrain proportions',\n        basic: 'Basic',\n        left: 'Left',\n        right: 'Right',\n        center: 'Center',\n        width: 'Width',\n        height: 'Height',\n        size: 'Size',\n        ratio: 'Ratio'\n      },\n      controller: {\n        edit: 'Edit',\n        unlink: 'Unlink',\n        remove: 'Remove',\n        insertRowAbove: 'Insert row above',\n        insertRowBelow: 'Insert row below',\n        deleteRow: 'Delete row',\n        insertColumnBefore: 'Insert column before',\n        insertColumnAfter: 'Insert column after',\n        deleteColumn: 'Delete column',\n        fixedColumnWidth: 'Fixed column width',\n        resize100: 'Resize 100%',\n        resize75: 'Resize 75%',\n        resize50: 'Resize 50%',\n        resize25: 'Resize 25%',\n        autoSize: 'Auto size',\n        mirrorHorizontal: 'Mirror, Horizontal',\n        mirrorVertical: 'Mirror, Vertical',\n        rotateLeft: 'Rotate left',\n        rotateRight: 'Rotate right',\n        maxSize: 'Max size',\n        minSize: 'Min size',\n        tableHeader: 'Table header',\n        mergeCells: 'Merge cells',\n        splitCells: 'Split Cells',\n        HorizontalSplit: 'Horizontal split',\n        VerticalSplit: 'Vertical split'\n      },\n      menu: {\n        spaced: 'Spaced',\n        bordered: 'Bordered',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Shadow'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.en = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 3 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2018 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  __webpack_exports__[\"a\"] = {\n    name: 'colorPicker',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function add(core) {\n      var context = core.context;\n      context.colorPicker = {\n        colorListHTML: '',\n        _colorInput: '',\n        _defaultColor: '#000',\n        _styleProperty: 'color',\n        _currentColor: '',\n        _colorList: []\n      };\n      /** set submenu */\n\n      var listDiv = this.createColorList(core, this._makeColorList);\n      /** caching */\n\n      context.colorPicker.colorListHTML = listDiv;\n      /** empty memory */\n\n      listDiv = null;\n    },\n\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\n    createColorList: function createColorList(core, makeColor) {\n      var option = core.context.option;\n      var lang = core.lang;\n      var colorList = !option.colorList || option.colorList.length === 0 ? ['#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c', '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'] : option.colorList;\n      var colorArr = [];\n      var list = '<div class=\"se-list-inner\">';\n\n      for (var i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n        if (!color) continue;\n\n        if (typeof color === 'string') {\n          colorArr.push(color);\n          if (i < len - 1) continue;\n        }\n\n        if (colorArr.length > 0) {\n          list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\n          colorArr = [];\n        }\n\n        if (typeof color === 'object') {\n          list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\n        }\n      }\n\n      list += '' + '<form class=\"se-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' + '<button type=\"submit\" class=\"se-btn-primary se-tooltip _se_color_picker_submit\">' + core.icons.checked + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.submitButton + '</span></span>' + '</button>' + '<button type=\"button\" class=\"se-btn se-tooltip _se_color_picker_remove\">' + core.icons.erase + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.removeFormat + '</span></span>' + '</button>' + '</form>' + '</div>';\n      return list;\n    },\n\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\n    _makeColorList: function _makeColorList(colorList) {\n      var list = '';\n      list += '<ul class=\"se-color-pallet\">';\n\n      for (var i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n\n        if (typeof color === 'string') {\n          list += '<li>' + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n        }\n      }\n\n      list += '</ul>';\n      return list;\n    },\n\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\n    init: function init(node, color) {\n      var colorPicker = this.plugins.colorPicker;\n      var fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n      fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n      var colorList = this.context.colorPicker._colorList;\n\n      if (colorList) {\n        for (var i = 0, len = colorList.length; i < len; i++) {\n          if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\n            this.util.addClass(colorList[i], 'active');\n          } else {\n            this.util.removeClass(colorList[i], 'active');\n          }\n        }\n      }\n\n      colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n    },\n\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setCurrentColor: function setCurrentColor(hexColorStr) {\n      this.context.colorPicker._currentColor = hexColorStr;\n      this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n    },\n\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setInputText: function setInputText(hexColorStr) {\n      hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\n      this.context.colorPicker._colorInput.value = hexColorStr;\n      this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n    },\n\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\n    getColorInNode: function getColorInNode(node) {\n      var findColor = '';\n      var styleProperty = this.context.colorPicker._styleProperty;\n\n      while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n        if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\n        node = node.parentNode;\n      }\n\n      return findColor;\n    },\n\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\n    isHexColor: function isHexColor(str) {\n      return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n    },\n\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\n    rgb2hex: function rgb2hex(rgb) {\n      var rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : '';\n    },\n\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\n    colorName2hex: function colorName2hex(colorName) {\n      if (/^#/.test(colorName)) return colorName;\n      var temp = this.util.createElement('div');\n      temp.style.display = 'none';\n      temp.style.color = colorName;\n\n      var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n        return parseInt(a, 10);\n      });\n\n      this.util.removeItem(temp);\n      return colors.length >= 3 ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n    }\n  };\n  /***/\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var resizing = {\n      name: 'resizing',\n\n      /**\n       * @description Constructor\n       * Require context properties when resizing module\n          inputX: Element,\n          inputY: Element,\n          _container: null,\n          _cover: null,\n          _element: null,\n          _element_w: 1,\n          _element_h: 1,\n          _element_l: 0,\n          _element_t: 0,\n          _defaultSizeX: 'auto',\n          _defaultSizeY: 'auto',\n          _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n          _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n          _proportionChecked: true,\n          // -- select function --\n          _resizing: context.option.imageResizing,\n          _resizeDotHide: !context.option.imageHeightShow,\n          _rotation: context.option.imageRotation,\n          _onlyPercentage: context.option.imageSizeOnlyPercentage,\n          _ratio: false,\n          _ratioX: 1,\n          _ratioY: 1\n          _captionShow: true,\n          // -- when used caption (_captionShow: true) --\n          _caption: null,\n          _captionChecked: false,\n          captionCheckEl: null,\n       * @param {Object} core Core object \n       */\n      add: function add(core) {\n        var icons = core.icons;\n        var context = core.context;\n        context.resizing = {\n          _resizeClientX: 0,\n          _resizeClientY: 0,\n          _resize_plugin: '',\n          _resize_w: 0,\n          _resize_h: 0,\n          _origin_w: 0,\n          _origin_h: 0,\n          _rotateVertical: false,\n          _resize_direction: '',\n          _move_path: null,\n          _isChange: false,\n          alignIcons: {\n            basic: icons.align_justify,\n            left: icons.align_left,\n            right: icons.align_right,\n            center: icons.align_center\n          }\n        };\n        /** resize controller, button */\n\n        var resize_div_container = this.setController_resize.call(core);\n        context.resizing.resizeContainer = resize_div_container;\n        context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n        context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n        context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n        var resize_button = this.setController_button.call(core);\n        context.resizing.resizeButton = resize_button;\n        resize_button.addEventListener('mousedown', function (e) {\n          e.stopPropagation();\n        }, false);\n        var resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n        context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n        context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n        context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n        context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n        context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n        context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n        context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n        context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n        /** add event listeners */\n\n        resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(resize_div_container);\n        context.element.relative.appendChild(resize_button);\n        /** empty memory */\n\n        resize_div_container = null, resize_button = null, resize_handles = null;\n      },\n\n      /** resize controller, button (image, iframe) */\n      setController_resize: function setController_resize() {\n        var resize_container = this.util.createElement('DIV');\n        resize_container.className = 'se-controller se-resizing-container';\n        resize_container.style.display = 'none';\n        resize_container.innerHTML = '' + '<div class=\"se-modal-resize\"></div>' + '<div class=\"se-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"se-resize-display\"></div>' + '</div>';\n        return resize_container;\n      },\n      setController_button: function setController_button() {\n        var lang = this.lang;\n        var icons = this.icons;\n        var resize_button = this.util.createElement(\"DIV\");\n        resize_button.className = \"se-controller se-controller-resizing\";\n        resize_button.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"se-btn-group _se_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' + '<span>100%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' + '<span>75%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' + '<span>50%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' + icons.auto_size + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' + icons.mirror_horizontal + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' + icons.mirror_vertical + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' + '</button></li>' + '</ul>' + '</div>' + '</div>' + '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' + icons.caption + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' + icons.revert + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' + icons.modify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>';\n        return resize_button;\n      },\n\n      /**\n       * @description Gets the width size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeX: function _module_getSizeX(contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!container || !cover || !element) return '';\n        return !/%$/.test(element.style.width) ? element.style.width : (this.util.getNumber(container.style.width, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Gets the height size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeY: function _module_getSizeY(contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!container || !cover || !element) return '';\n        return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (this.util.getNumber(container.style.height, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Object} pluginObj Plugin object\n       */\n      _module_setModifyInputSize: function _module_setModifyInputSize(contextPlugin, pluginObj) {\n        var percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n        contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n        var x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n        if (x === contextPlugin._defaultSizeX) x = '';\n        if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n        contextPlugin.inputX.value = x;\n        pluginObj.setInputSize.call(this, 'x');\n\n        if (!contextPlugin._onlyPercentage) {\n          var y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n          if (y === contextPlugin._defaultSizeY) y = '';\n          if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n          contextPlugin.inputY.value = y;\n        }\n\n        contextPlugin.inputX.disabled = percentageRotation ? true : false;\n        contextPlugin.inputY.disabled = percentageRotation ? true : false;\n        contextPlugin.proportion.disabled = percentageRotation ? true : false;\n        pluginObj.setRatio.call(this);\n      },\n\n      /**\n       * @description It is called in \"setInputSize\" (input tag keyupEvent), \n       * checks the value entered in the input tag, \n       * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {String} xy 'x': width, 'y': height\n       */\n      _module_setInputSize: function _module_setInputSize(contextPlugin, xy) {\n        if (contextPlugin._onlyPercentage) {\n          if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n          return;\n        }\n\n        if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n          var xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          var yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          if (xUnit !== yUnit) return;\n          var dec = xUnit === '%' ? 2 : 0;\n\n          if (xy === 'x') {\n            contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n          } else {\n            contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n          }\n        }\n      },\n\n      /**\n       * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n       * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_setRatio: function _module_setRatio(contextPlugin) {\n        var xValue = contextPlugin.inputX.value;\n        var yValue = contextPlugin.inputY.value;\n\n        if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n          var xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          var yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n\n          if (xUnit !== yUnit) {\n            contextPlugin._ratio = false;\n          } else if (!contextPlugin._ratio) {\n            var x = this.util.getNumber(xValue, 0);\n            var y = this.util.getNumber(yValue, 0);\n            contextPlugin._ratio = true;\n            contextPlugin._ratioX = x / y;\n            contextPlugin._ratioY = y / x;\n          }\n        } else {\n          contextPlugin._ratio = false;\n        }\n      },\n\n      /**\n       * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_sizeRevert: function _module_sizeRevert(contextPlugin) {\n        if (contextPlugin._onlyPercentage) {\n          contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n        } else {\n          contextPlugin.inputX.value = contextPlugin._origin_w;\n          contextPlugin.inputY.value = contextPlugin._origin_h;\n        }\n      },\n\n      /**\n       * @description Save the size data (element.setAttribute(\"data-size\"))\n       * Used at the \"setSize\" method\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_saveCurrentSize: function _module_saveCurrentSize(contextPlugin) {\n        var x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n        var y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        contextPlugin._element.setAttribute('data-size', x + ',' + y);\n\n        if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n      },\n\n      /**\n       * @description Call the resizing module\n       * @param {Element} targetElement Resizing target element\n       * @param {string} plugin Plugin name\n       * @returns {Object} Size of resizing div {w, h, t, l}\n       */\n      call_controller_resize: function call_controller_resize(targetElement, plugin) {\n        var contextResizing = this.context.resizing;\n        var contextPlugin = this.context[plugin];\n        contextResizing._resize_plugin = plugin;\n        var resizeContainer = contextResizing.resizeContainer;\n        var resizeDiv = contextResizing.resizeDiv;\n        var offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n        var isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n        var w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n        var h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n        var t = offset.top;\n        var l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n        resizeContainer.style.top = t + 'px';\n        resizeContainer.style.left = l + 'px';\n        resizeContainer.style.width = w + 'px';\n        resizeContainer.style.height = h + 'px';\n        resizeDiv.style.top = '0px';\n        resizeDiv.style.left = '0px';\n        resizeDiv.style.width = w + 'px';\n        resizeDiv.style.height = h + 'px';\n        var align = targetElement.getAttribute('data-align') || 'basic';\n        align = align === 'none' ? 'basic' : align; // text\n\n        var container = this.util.getParentElement(targetElement, this.util.isComponent);\n        var cover = this.util.getParentElement(targetElement, 'FIGURE');\n        var displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n        var displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n        this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')'); // resizing display\n\n        contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n        var resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n        var resizeHandles = contextResizing.resizeHandles;\n\n        for (var i = 0, len = resizeHandles.length; i < len; i++) {\n          resizeHandles[i].style.display = resizeDotShow;\n        }\n\n        if (contextPlugin._resizing) {\n          var rotations = contextResizing.rotationButtons;\n          rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n        } // align icon\n\n\n        var alignList = contextResizing.alignMenuList;\n        this.util.changeElement(contextResizing.alignButton.querySelector('svg'), contextResizing.alignIcons[align]);\n\n        for (var _i = 0, _len = alignList.length; _i < _len; _i++) {\n          if (alignList[_i].getAttribute('data-value') === align) this.util.addClass(alignList[_i], 'on');else this.util.removeClass(alignList[_i], 'on');\n        } // percentage active\n\n\n        var pButtons = contextResizing.percentageButtons;\n        var value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + '' : '';\n\n        for (var _i2 = 0, _len2 = pButtons.length; _i2 < _len2; _i2++) {\n          if (pButtons[_i2].getAttribute('data-value') === value) {\n            this.util.addClass(pButtons[_i2], 'active');\n          } else {\n            this.util.removeClass(pButtons[_i2], 'active');\n          }\n        } // caption display, active\n\n\n        if (!contextPlugin._captionShow) {\n          contextResizing.captionButton.style.display = 'none';\n        } else {\n          contextResizing.captionButton.style.display = '';\n\n          if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n            this.util.addClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = true;\n          } else {\n            this.util.removeClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = false;\n          }\n        }\n\n        this._resizingName = plugin;\n        this.util.toggleDisabledButtons(true, this.resizingDisabledButtons);\n        this.controllersOn(contextResizing.resizeContainer, contextResizing.resizeButton, this.util.toggleDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin); // button group\n\n        var overLeft = this.context.element.wysiwygFrame.offsetWidth - l - contextResizing.resizeButton.offsetWidth;\n        contextResizing.resizeButton.style.top = h + t + 60 + 'px';\n        contextResizing.resizeButton.style.left = l + (overLeft < 0 ? overLeft : 0) + 'px';\n\n        if (overLeft < 0) {\n          contextResizing.resizeButton.firstElementChild.style.left = 20 - overLeft + 'px';\n        } else {\n          contextResizing.resizeButton.firstElementChild.style.left = '20px';\n        }\n\n        contextResizing._resize_w = w;\n        contextResizing._resize_h = h;\n        var originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n        contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n        contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n        return {\n          w: w,\n          h: h,\n          t: t,\n          l: l\n        };\n      },\n      _closeAlignMenu: null,\n\n      /**\n       * @description Open align submenu of module\n       */\n      openAlignMenu: function openAlignMenu() {\n        this.util.addClass(this.context.resizing.alignButton, 'on');\n        this.context.resizing.alignMenu.style.display = 'block';\n\n        this.plugins.resizing._closeAlignMenu = function () {\n          this.util.removeClass(this.context.resizing.alignButton, 'on');\n          this.context.resizing.alignMenu.style.display = 'none';\n          this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n          this.plugins.resizing._closeAlignMenu = null;\n        }.bind(this);\n\n        this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n      },\n\n      /**\n       * @description Return HTML string of caption(FIGCAPTION) element\n       * @returns {String}\n       */\n      create_caption: function create_caption() {\n        var caption = this.util.createElement('FIGCAPTION');\n        caption.setAttribute('contenteditable', true);\n        caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n        return caption;\n      },\n\n      /**\n       * @description Cover the target element with a FIGURE element.\n       * @param {Element} element Target element\n       */\n      set_cover: function set_cover(element) {\n        var cover = this.util.createElement('FIGURE');\n        cover.appendChild(element);\n        return cover;\n      },\n\n      /**\n       * @description Create a container for the resizing component and insert the element.\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {String} className Class name of container (fixed: se-component)\n       * @returns {Element} Created container element\n       */\n      set_container: function set_container(cover, className) {\n        var container = this.util.createElement('DIV');\n        container.className = 'se-component ' + className;\n        container.setAttribute('contenteditable', false);\n        container.appendChild(cover);\n        return container;\n      },\n\n      /**\n       * @description Click event of resizing toolbar\n       * Performs the action of the clicked toolbar button.\n       * @param {MouseEvent} e Event object\n       */\n      onClick_resizeButton: function onClick_resizeButton(e) {\n        e.stopPropagation();\n        var target = e.target;\n        var command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n        if (!command) return;\n        var value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        var pluginName = this.context.resizing._resize_plugin;\n        var currentContext = this.context[pluginName];\n        var contextEl = currentContext._element;\n        var currentModule = this.plugins[pluginName];\n        e.preventDefault();\n\n        if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n          this.plugins.resizing._closeAlignMenu();\n\n          if (command === 'onalign') return;\n        }\n\n        switch (command) {\n          case 'auto':\n            currentModule.setAutoSize.call(this);\n            currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n            break;\n\n          case 'percent':\n            var percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n            if (this.context.resizing._rotateVertical) {\n              var percentage = contextEl.getAttribute('data-percentage');\n              if (percentage) percentY = percentage.split(',')[1];\n            }\n\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? '' : percentY);\n            currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n            break;\n\n          case 'mirror':\n            var r = contextEl.getAttribute('data-rotate') || '0';\n            var x = contextEl.getAttribute('data-rotateX') || '';\n            var y = contextEl.getAttribute('data-rotateY') || '';\n\n            if (value === 'h' && !this.context.resizing._rotateVertical || value === 'v' && this.context.resizing._rotateVertical) {\n              y = y ? '' : '180';\n            } else {\n              x = x ? '' : '180';\n            }\n\n            contextEl.setAttribute('data-rotateX', x);\n            contextEl.setAttribute('data-rotateY', y);\n\n            this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n            break;\n\n          case 'rotate':\n            var contextResizing = this.context.resizing;\n            var slope = contextEl.getAttribute('data-rotate') * 1 + value * 1;\n            var deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n            contextEl.setAttribute('data-rotate', deg);\n            contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n            this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n            currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n            break;\n\n          case 'onalign':\n            this.plugins.resizing.openAlignMenu.call(this);\n            return;\n\n          case 'align':\n            var alignValue = value === 'basic' ? 'none' : value;\n            currentModule.setAlign.call(this, alignValue, null, null, null);\n            currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n            break;\n\n          case 'caption':\n            var caption = !currentContext._captionChecked;\n            currentModule.openModify.call(this, true);\n            currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n\n            if (pluginName === 'image') {\n              currentModule.update_image.call(this, false, false, false);\n            } else if (pluginName === 'video') {\n              this.context.dialog.updateModal = true;\n              currentModule.submitAction.call(this);\n            }\n\n            if (caption) {\n              var captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                return current.nodeType === 3;\n              });\n\n              if (!captionText) {\n                currentContext._caption.focus();\n              } else {\n                this.setRange(captionText, 0, captionText, captionText.textContent.length);\n              }\n\n              this.controllersOff();\n            } else {\n              currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n              currentModule.openModify.call(this, true);\n            }\n\n            break;\n\n          case 'revert':\n            currentModule.setOriginSize.call(this);\n            currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n            break;\n\n          case 'update':\n            currentModule.openModify.call(this);\n            this.controllersOff();\n            break;\n\n          case 'delete':\n            currentModule.destroy.call(this);\n            break;\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\n       * @description Initialize the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       */\n      resetTransform: function resetTransform(element) {\n        var size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n        this.context.resizing._rotateVertical = false;\n        element.style.maxWidth = '';\n        element.style.transform = '';\n        element.style.transformOrigin = '';\n        element.setAttribute('data-rotate', '');\n        element.setAttribute('data-rotateX', '');\n        element.setAttribute('data-rotateY', '');\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n      },\n\n      /**\n       * @description Set the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       * @param {Number|null} width Element's width size\n       * @param {Number|null} height Element's height size\n       */\n      setTransformSize: function setTransformSize(element, width, height) {\n        var percentage = element.getAttribute('data-percentage');\n        var isVertical = this.context.resizing._rotateVertical;\n        var deg = element.getAttribute('data-rotate') * 1;\n        var transOrigin = '';\n\n        if (percentage && !isVertical) {\n          percentage = percentage.split(',');\n\n          if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n            this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n          } else {\n            this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n          }\n        } else {\n          var cover = this.util.getParentElement(element, 'FIGURE');\n          var offsetW = width || element.offsetWidth;\n          var offsetH = height || element.offsetHeight;\n          var w = (isVertical ? offsetH : offsetW) + 'px';\n          var h = (isVertical ? offsetW : offsetH) + 'px';\n\n          this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n          this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n\n          cover.style.width = w;\n          cover.style.height = !!this.context[this.context.resizing._resize_plugin]._caption ? '' : h;\n\n          if (isVertical) {\n            var transW = offsetW / 2 + 'px ' + offsetW / 2 + 'px 0';\n            var transH = offsetH / 2 + 'px ' + offsetH / 2 + 'px 0';\n            transOrigin = deg === 90 || deg === -270 ? transH : transW;\n          }\n        }\n\n        element.style.transformOrigin = transOrigin;\n\n        this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n\n        if (isVertical) element.style.maxWidth = 'none';else element.style.maxWidth = '';\n        this.plugins.resizing.setCaptionPosition.call(this, element);\n      },\n      _setTransForm: function _setTransForm(element, r, x, y) {\n        var width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n        var translate = '';\n\n        if (/[1-9]/.test(r) && (x || y)) {\n          translate = x ? 'Y' : 'X';\n\n          switch (r) {\n            case '90':\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            case '270':\n              width *= -1;\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-90':\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-270':\n              width *= -1;\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            default:\n              translate = '';\n          }\n        }\n\n        if (r % 180 === 0) {\n          element.style.maxWidth = '';\n        }\n\n        element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n      },\n\n      /**\n       * @description The position of the caption is set automatically.\n       * @param {Element} element Target element (not caption element)\n       */\n      setCaptionPosition: function setCaptionPosition(element) {\n        var figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n\n        if (figcaption) {\n          figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n        }\n      },\n\n      /**\n       * @description Mouse down event of resize handles\n       * @param {MouseEvent} e Event object \n       */\n      onMouseDown_resize_handle: function onMouseDown_resize_handle(e) {\n        var contextResizing = this.context.resizing;\n        var direction = contextResizing._resize_direction = e.target.classList[0];\n        e.stopPropagation();\n        e.preventDefault();\n        var pluginName = this.context.resizing._resize_plugin;\n        var contextEl = this.context[pluginName]._element;\n        var currentModule = this.plugins[pluginName];\n        contextResizing._resizeClientX = e.clientX;\n        contextResizing._resizeClientY = e.clientY;\n        this.context.element.resizeBackground.style.display = 'block';\n        contextResizing.resizeButton.style.display = 'none';\n        contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n        var closureFunc_bind = function closureFunc(e) {\n          if (e.type === 'keydown' && e.keyCode !== 27) return;\n          var change = contextResizing._isChange;\n          contextResizing._isChange = false;\n          this.removeDocEvent('mousemove', resizing_element_bind);\n          this.removeDocEvent('mouseup', closureFunc_bind);\n          this.removeDocEvent('keydown', closureFunc_bind);\n\n          if (e.type === 'keydown') {\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n\n            this.plugins[this.context.resizing._resize_plugin].init.call(this);\n          } else {\n            // element resize\n            this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n            if (change) this.history.push(false);\n          }\n\n          currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, contextResizing._resize_plugin));\n        }.bind(this);\n\n        var resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n        this.addDocEvent('mousemove', resizing_element_bind);\n        this.addDocEvent('mouseup', closureFunc_bind);\n        this.addDocEvent('keydown', closureFunc_bind);\n      },\n\n      /**\n       * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n       * The size of the module's \"div\" is adjusted according to the mouse move event.\n       * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n       * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n       * @param {MouseEvent} e Event object\n       */\n      resizing_element: function resizing_element(contextResizing, direction, plugin, e) {\n        var clientX = e.clientX;\n        var clientY = e.clientY;\n        var resultW = plugin._element_w;\n        var resultH = plugin._element_h;\n        var w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n        var h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n        var wh = plugin._element_h / plugin._element_w * w;\n        if (/t/.test(direction)) contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + 'px';\n        if (/l/.test(direction)) contextResizing.resizeDiv.style.left = plugin._element_w - w + 'px';\n\n        if (/r|l/.test(direction)) {\n          contextResizing.resizeDiv.style.width = w + 'px';\n          resultW = w;\n        }\n\n        if (/^(t|b)[^h]$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = wh + 'px';\n          resultH = wh;\n        } else if (/^(t|b)h$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = h + 'px';\n          resultH = h;\n        }\n\n        contextResizing._resize_w = resultW;\n        contextResizing._resize_h = resultH;\n        this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n        contextResizing._isChange = true;\n      },\n\n      /**\n       * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n       * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n       */\n      cancel_controller_resize: function cancel_controller_resize(direction) {\n        var isVertical = this.context.resizing._rotateVertical;\n        this.controllersOff();\n        this.context.element.resizeBackground.style.display = 'none';\n\n        var w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n        var h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n        if (!isVertical && !/%$/.test(w)) {\n          var padding = 16;\n          var limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n          if (this.util.getNumber(w, 0) > limit) {\n            h = this._w.Math.round(h / w * limit);\n            w = limit;\n          }\n        }\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, w, h, false, direction);\n\n        this.plugins[this.context.resizing._resize_plugin].init.call(this);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        window.SUNEDITOR_MODULES = {};\n      }\n\n      window.SUNEDITOR_MODULES.resizing = resizing;\n    }\n\n    return resizing;\n  });\n  /***/\n\n},\n/* 5 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'align',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var icons = core.icons;\n      var context = core.context;\n      context.align = {\n        targetButton: targetElement,\n        _alignList: null,\n        currentAlign: '',\n        icons: {\n          justify: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.align._alignList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var lang = this.lang;\n      var icons = this.icons;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-submenu se-list-inner se-list-align\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"se-list-icon\">' + icons.align_right + '</span>' + lang.toolbar.alignRight + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function active(element) {\n      var targetButton = this.context.align.targetButton;\n      var target = targetButton.querySelector('svg');\n\n      if (!element) {\n        this.util.changeElement(target, this.context.align.icons.left);\n        targetButton.removeAttribute('data-focus');\n      } else if (this.util.isFormatElement(element)) {\n        var textAlign = element.style.textAlign;\n\n        if (textAlign) {\n          this.util.changeElement(target, this.context.align.icons[textAlign]);\n          targetButton.setAttribute('data-focus', textAlign);\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding submenu\n     */\n    on: function on() {\n      var alignContext = this.context.align;\n      var alignList = alignContext._alignList;\n      var currentAlign = alignContext.targetButton.getAttribute('data-focus') || 'left';\n\n      if (currentAlign !== alignContext.currentAlign) {\n        for (var i = 0, len = alignList.length; i < len; i++) {\n          if (currentAlign === alignList[i].getAttribute('data-value')) {\n            this.util.addClass(alignList[i], 'active');\n          } else {\n            this.util.removeClass(alignList[i], 'active');\n          }\n        }\n\n        alignContext.currentAlign = currentAlign;\n      }\n    },\n    pickup: function pickup(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      var selectedFormsts = this.getSelectedElements();\n\n      for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n        this.util.setStyle(selectedFormsts[i], 'textAlign', value === 'left' ? '' : value);\n      }\n\n      this.effectNode = null;\n      this.submenuOff();\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 7 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'math',\n    display: 'dialog',\n    add: function add(core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      var context = core.context;\n      context.math = {\n        focusElement: null,\n        previewElement: null,\n        fontSizeElement: null,\n        _mathExp: null,\n        _renderer: null\n      };\n      /** math dialog */\n\n      var math_dialog = this.setDialog.call(core);\n      context.math.modal = math_dialog;\n      context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n      context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n      context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n\n      context.math._renderer = function (exp) {\n        return this.src.renderToString(exp, this.options);\n      }.bind(core.context.option.katex);\n\n      context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(context.math), false);\n      context.math.focusElement.addEventListener('change', this._renderMathExp.bind(context.math), false);\n      context.math.fontSizeElement.addEventListener('change', function (e) {\n        this.fontSize = e.target.value;\n      }.bind(context.math.previewElement.style), false);\n      /** math controller */\n\n      var math_controller = this.setController_MathButton.call(core);\n      context.math.mathController = math_controller;\n      context.math._mathExp = null;\n      math_controller.addEventListener('mousedown', function (e) {\n        e.stopPropagation();\n      }, false);\n      /** add event listeners */\n\n      math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\n      math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n      /** append html */\n\n      context.dialog.modal.appendChild(math_dialog);\n      context.element.relative.appendChild(math_controller);\n      /** empty memory */\n\n      math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function setDialog() {\n      var lang = this.lang;\n      var dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form class=\"editor_math\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' + '<select class=\"se-input-select se-math-size\">' + '<option value=\"1em\">1</option>' + '<option value=\"1.5em\">1.5</option>' + '<option value=\"2em\">2</option>' + '<option value=\"2.5em\">2.5</option>' + '</select>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' + '<p class=\"se-math-preview\"></p>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function setController_MathButton() {\n      var lang = this.lang;\n      var math_btn = this.util.createElement('DIV');\n      math_btn.className = 'se-controller se-controller-link';\n      math_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>' + '';\n      return math_btn;\n    },\n    open: function open() {\n      this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n    _renderMathExp: function _renderMathExp(e) {\n      this.previewElement.innerHTML = this._renderer(e.target.value);\n    },\n    submit: function submit(e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      var submitAction = function () {\n        if (this.context.math.focusElement.value.trim().length === 0) return false;\n        var contextMath = this.context.math;\n        var mathExp = contextMath.focusElement.value;\n        var katexEl = contextMath.previewElement.querySelector('.katex');\n        if (!katexEl) return false;\n        katexEl.setAttribute('contenteditable', false);\n        katexEl.setAttribute('data-exp', mathExp);\n        katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n        katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n        if (!this.context.dialog.updateModal) {\n          var selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(katexEl);\n            this.insertNode(oFormat);\n          } else {\n            this.insertNode(katexEl);\n          }\n\n          var empty = this.util.createTextNode(this.util.zeroWidthSpace);\n          katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n          this.setRange(katexEl, 0, katexEl, 1);\n        } else {\n          var findParent = function findParent(child, className) {\n            if (child.classList.contains(className)) return child;\n            var parent = child.parentNode;\n            if (parent === document.body) return;\n\n            if (parent.classList.contains(className)) {\n              return parent;\n            } else {\n              findParent(parent, className);\n            }\n          };\n\n          var containerEl = findParent(contextMath._mathExp, 'katex');\n          containerEl.parentNode.replaceChild(katexEl, containerEl);\n          this.setRange(katexEl, 0, katexEl, 1);\n        }\n\n        contextMath.focusElement.value = '';\n        contextMath.fontSizeElement.value = '1em';\n        contextMath.previewElement.style.fontSize = '1em';\n        contextMath.previewElement.innerHTML = '';\n        return true;\n      }.bind(this);\n\n      try {\n        if (submitAction()) {\n          this.plugins.dialog.close.call(this); // history stack\n\n          this.history.push(false);\n        }\n      } catch (e) {\n        this.plugins.dialog.close.call(this);\n      } finally {\n        this.closeLoading();\n      }\n\n      return false;\n    },\n    active: function active(element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n          this.controllersOff();\n        }\n      } else if (element.getAttribute('data-exp')) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n          this.setRange(element, 0, element, 1);\n          this.plugins.math.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    on: function on(update) {\n      if (!update) {\n        this.plugins.math.init.call(this);\n      } else {\n        var contextMath = this.context.math;\n\n        if (contextMath._mathExp) {\n          var exp = contextMath._mathExp.getAttribute('data-exp');\n\n          var fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n          this.context.dialog.updateModal = true;\n          contextMath.focusElement.value = exp;\n          contextMath.fontSizeElement.value = fontSize;\n          contextMath.previewElement.innerHTML = contextMath._renderer(exp);\n          contextMath.previewElement.style.fontSize = fontSize;\n        }\n      }\n    },\n    call_controller: function call_controller(mathTag) {\n      this.context.math._mathExp = mathTag;\n      var mathBtn = this.context.math.mathController;\n      var offset = this.util.getOffset(mathTag, this.context.element.wysiwygFrame);\n      mathBtn.style.top = offset.top + mathTag.offsetHeight + 10 + 'px';\n      mathBtn.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      mathBtn.style.display = 'block';\n      var overLeft = this.context.element.wysiwygFrame.offsetWidth - (mathBtn.offsetLeft + mathBtn.offsetWidth);\n\n      if (overLeft < 0) {\n        mathBtn.style.left = mathBtn.offsetLeft + overLeft + 'px';\n        mathBtn.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        mathBtn.firstElementChild.style.left = '20px';\n      }\n\n      this.controllersOn(mathBtn, mathTag, 'math');\n    },\n    onClick_mathController: function onClick_mathController(e) {\n      e.stopPropagation();\n      var command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.context.math.focusElement.value = this.context.math._mathExp.getAttribute('data-exp');\n        this.plugins.dialog.open.call(this, 'math', true);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.math._mathExp);\n        this.context.math._mathExp = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n    init: function init() {\n      var contextMath = this.context.math;\n      contextMath.mathController.style.display = 'none';\n      contextMath._mathExp = null;\n      contextMath.focusElement.value = '';\n      contextMath.previewElement.innerHTML = '';\n    }\n  };\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'blockquote',\n    display: 'command',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.blockquote = {\n        targetButton: targetElement,\n        tag: core.util.createElement('BLOCKQUOTE')\n      };\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function active(element) {\n      if (!element) {\n        this.util.removeClass(this.context.blockquote.targetButton, 'active');\n      } else if (/blockquote/i.test(element.nodeName)) {\n        this.util.addClass(this.context.blockquote.targetButton, 'active');\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding core\n     */\n    action: function action() {\n      var currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n      if (currentBlockquote) {\n        this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n      } else {\n        this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n      }\n    }\n  };\n  /***/\n},\n/* 9 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'font',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.font = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _fontList: null,\n        currentFont: ''\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('.se-list-font-family').addEventListener('click', this.pickup.bind(core));\n      context.font._fontList = listDiv.querySelectorAll('ul li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var lang = this.lang;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      var font, text, i, len;\n      var fontList = !option.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : option.font;\n      var list = '<div class=\"se-submenu se-list-inner se-list-font-family\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (i = 0, len = fontList.length; i < len; i++) {\n        font = fontList[i];\n        text = font.split(',')[0];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding core\n    */\n    active: function active(element) {\n      var target = this.context.font.targetText;\n      var tooltip = this.context.font.targetTooltip;\n\n      if (!element) {\n        var font = this.lang.toolbar.font;\n        this.util.changeTxt(target, font);\n        this.util.changeTxt(tooltip, font);\n      } else if (element.style && element.style.fontFamily.length > 0) {\n        var selectFont = element.style.fontFamily.replace(/[\"']/g, '');\n        this.util.changeTxt(target, selectFont);\n        this.util.changeTxt(tooltip, selectFont);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var fontContext = this.context.font;\n      var fontList = fontContext._fontList;\n      var currentFont = fontContext.targetText.textContent;\n\n      if (currentFont !== fontContext.currentFont) {\n        for (var i = 0, len = fontList.length; i < len; i++) {\n          if (currentFont === fontList[i].getAttribute('data-value')) {\n            this.util.addClass(fontList[i], 'active');\n          } else {\n            this.util.removeClass(fontList[i], 'active');\n          }\n        }\n\n        fontContext.currentFont = currentFont;\n      }\n    },\n    pickup: function pickup(e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      var value = e.target.getAttribute('data-value');\n\n      if (value) {\n        var newNode = this.util.createElement('SPAN');\n        newNode.style.fontFamily = value;\n        this.nodeChange(newNode, ['font-family'], null, null);\n      } else {\n        this.nodeChange(null, ['font-family'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontColor',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      var context = core.context;\n      context.fontColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.fontColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var colorArea = this.context.colorPicker.colorListHTML;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @overriding submenu\r\n    */\n    on: function on() {\n      var contextPicker = this.context.colorPicker;\n      var contextFontColor = this.context.fontColor;\n      contextPicker._colorInput = contextFontColor.colorInput;\n      contextPicker._defaultColor = '#333333';\n      contextPicker._styleProperty = 'color';\n      contextPicker._colorList = contextFontColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @overriding _colorPicker\r\n    */\n    onChangeInput: function onChangeInput(e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function submit() {\n      this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function pickup(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function remove() {\n      this.nodeChange(null, ['color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function applyColor(color) {\n      if (!color) return;\n      var newNode = this.util.createElement('SPAN');\n      newNode.style.color = color;\n      this.nodeChange(newNode, ['color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontSize',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.fontSize = {\n        targetText: targetElement.querySelector('.txt'),\n        _sizeList: null,\n        currentSize: ''\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.fontSize._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var lang = this.lang;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      var sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n      var list = '<div class=\"se-list-inner se-list-font-size\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (var i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding core\n    */\n    active: function active(element) {\n      if (!element) {\n        this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n      } else if (element.style && element.style.fontSize.length > 0) {\n        this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var fontSizeContext = this.context.fontSize;\n      var sizeList = fontSizeContext._sizeList;\n      var currentSize = fontSizeContext.targetText.textContent;\n\n      if (currentSize !== fontSizeContext.currentSize) {\n        for (var i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        fontSizeContext.currentSize = currentSize;\n      }\n    },\n    pickup: function pickup(e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      var value = e.target.getAttribute('data-value');\n\n      if (value) {\n        var newNode = this.util.createElement('SPAN');\n        newNode.style.fontSize = value;\n        this.nodeChange(newNode, ['font-size'], null, null);\n      } else {\n        this.nodeChange(null, ['font-size'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.formatBlock = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _formatList: null,\n        currentFormat: ''\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var lang_toolbar = this.lang.toolbar;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      var defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n      var formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n      var list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n\n      for (var i = 0, len = formatList.length, format, tagName, command, _name, h, attrs, className; i < len; i++) {\n        format = formatList[i];\n\n        if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n          tagName = format.toLowerCase();\n          command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n          h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n          _name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n          className = '';\n          attrs = '';\n        } else {\n          tagName = format.tag.toLowerCase();\n          command = format.command;\n          _name = format.name || tagName;\n          className = format.class;\n          attrs = className ? ' class=\"' + className + '\"' : '';\n        }\n\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + _name + '\">' + '<' + tagName + attrs + '>' + _name + '</' + tagName + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding core\n    */\n    active: function active(element) {\n      var formatTitle = this.lang.toolbar.formats;\n      var target = this.context.formatBlock.targetText;\n      var tooltip = this.context.formatBlock.targetTooltip;\n\n      if (!element) {\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n      } else if (this.util.isFormatElement(element)) {\n        var formatContext = this.context.formatBlock;\n        var formatList = formatContext._formatList;\n        var nodeName = element.nodeName.toLowerCase();\n        var className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n        for (var i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n            formatTitle = f.title;\n            break;\n          }\n        }\n\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n        target.setAttribute('data-value', nodeName);\n        target.setAttribute('data-class', className);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var formatContext = this.context.formatBlock;\n      var formatList = formatContext._formatList;\n      var target = formatContext.targetText;\n      var currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n      if (currentFormat !== formatContext.currentFormat) {\n        for (var i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n            this.util.addClass(f, 'active');\n          } else {\n            this.util.removeClass(f, 'active');\n          }\n        }\n\n        formatContext.currentFormat = currentFormat;\n      }\n    },\n    pickUp: function pickUp(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var command = null,\n          value = null,\n          tag = null,\n          className = '';\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        value = target.getAttribute('data-value');\n        className = target.getAttribute('data-class');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return; // blockquote\n\n      if (command === 'range') {\n        var rangeElement = tag.cloneNode(false);\n        this.applyRangeFormatElement(rangeElement);\n      } // free, replace\n      else {\n          var range = this.getRange();\n          var startOffset = range.startOffset;\n          var endOffset = range.endOffset;\n          var util = this.util;\n          var selectedFormsts = this.getSelectedElementsAndComponents(false);\n          if (selectedFormsts.length === 0) return;\n          var first = selectedFormsts[0];\n          var last = selectedFormsts[selectedFormsts.length - 1];\n          var firstPath = util.getNodePath(range.startContainer, first, null, null);\n          var lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n          var rlist = this.detachList(selectedFormsts, false);\n          if (rlist.sc) first = rlist.sc;\n          if (rlist.ec) last = rlist.ec; // change format tag\n\n          this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n          var modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n          if (command === 'free') {\n            (function () {\n              var len = modifiedFormsts.length - 1;\n              var parentNode = modifiedFormsts[len].parentNode;\n              var freeElement = tag.cloneNode(false);\n              var focusElement = freeElement;\n\n              for (var i = len, f, html, before, next, inner, isComp, _first = true; i >= 0; i--) {\n                f = modifiedFormsts[i];\n                if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n                isComp = util.isComponent(f);\n                html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n                before = util.getParentElement(f, function (current) {\n                  return current.parentNode === parentNode;\n                });\n\n                if (parentNode !== f.parentNode || isComp) {\n                  if (util.isFormatElement(parentNode)) {\n                    parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                    parentNode = parentNode.parentNode;\n                  } else {\n                    parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                    parentNode = f.parentNode;\n                  }\n\n                  next = freeElement.nextSibling;\n\n                  if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                    freeElement.innerHTML += '<BR>' + next.innerHTML;\n                    util.removeItem(next);\n                  }\n\n                  freeElement = tag.cloneNode(false);\n                  _first = true;\n                }\n\n                inner = freeElement.innerHTML;\n                freeElement.innerHTML = (_first || !html || !inner || /<br>$/i.test(html) ? html : html + '<BR>') + inner;\n\n                if (i === 0) {\n                  parentNode.insertBefore(freeElement, f);\n                  next = f.nextSibling;\n\n                  if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                    freeElement.innerHTML += '<BR>' + next.innerHTML;\n                    util.removeItem(next);\n                  }\n\n                  var prev = freeElement.previousSibling;\n\n                  if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                    prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                    util.removeItem(freeElement);\n                  }\n                }\n\n                if (!isComp) util.removeItem(f);\n                if (!!html) _first = false;\n              }\n\n              _this3.setRange(focusElement, 0, focusElement, 0);\n            })();\n          } // replace format\n          else {\n              for (var i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                node = modifiedFormsts[i];\n\n                if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                  newFormat = tag.cloneNode(false);\n                  util.copyFormatAttributes(newFormat, node);\n                  newFormat.innerHTML = node.innerHTML;\n                  node.parentNode.replaceChild(newFormat, node);\n                }\n\n                if (i === 0) first = newFormat || node;\n                if (i === len - 1) last = newFormat || node;\n                newFormat = null;\n              }\n\n              this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            } // history stack\n\n\n          this.history.push(false);\n        }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'hiliteColor',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      var context = core.context;\n      context.hiliteColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var colorArea = this.context.colorPicker.colorListHTML;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @overriding submenu\r\n    */\n    on: function on() {\n      var contextPicker = this.context.colorPicker;\n      var contextHiliteColor = this.context.hiliteColor;\n      contextPicker._colorInput = contextHiliteColor.colorInput;\n      contextPicker._defaultColor = '#FFFFFF';\n      contextPicker._styleProperty = 'backgroundColor';\n      contextPicker._colorList = contextHiliteColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @overriding _colorPicker\r\n    */\n    onChangeInput: function onChangeInput(e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function submit() {\n      this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function pickup(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function remove() {\n      this.nodeChange(null, ['background-color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function applyColor(color) {\n      if (!color) return;\n      var newNode = this.util.createElement('SPAN');\n      newNode.style.backgroundColor = color;\n      this.nodeChange(newNode, ['background-color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 14 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      /** set submenu */\n      var listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var lang = this.lang;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner se-list-line\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"solid\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_solid + '</span></span>' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"dotted\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_dotted + '</span></span>' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"dashed\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_dashed + '</span></span>' + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n    appendHr: function appendHr(className) {\n      var oHr = this.util.createElement('HR');\n      oHr.className = className;\n      this.focus();\n      var oNode = this.insertComponent(oHr, false);\n      this.setRange(oNode, 0, oNode, 0);\n    },\n    horizontalRulePick: function horizontalRulePick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 20197 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.lineHeight = {\n        _sizeList: null,\n        currentSize: -1\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var lang = this.lang;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      var sizeList = !option.lineHeights ? [{\n        text: '1',\n        value: 1\n      }, {\n        text: '1.15',\n        value: 1.15\n      }, {\n        text: '1.5',\n        value: 1.5\n      }, {\n        text: '2',\n        value: 2\n      }] : option.lineHeights;\n      var list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (var i = 0, len = sizeList.length, text, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var lineHeightContext = this.context.lineHeight;\n      var sizeList = lineHeightContext._sizeList;\n      var currentSize = this.util.getFormatElement(this.getSelectionNode()).style.lineHeight + '';\n\n      if (currentSize !== lineHeightContext.currentSize) {\n        for (var i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        lineHeightContext.currentSize = currentSize;\n      }\n    },\n    pickup: function pickup(e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      var value = e.target.getAttribute('data-value') || '';\n      var formats = this.getSelectedElements();\n\n      for (var i = 0, len = formats.length; i < len; i++) {\n        formats[i].style.lineHeight = value;\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'list',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.list = {\n        targetButton: targetElement,\n        _list: null,\n        currentList: '',\n        icons: {\n          bullets: core.icons.list_bullets,\n          number: core.icons.list_number\n        }\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.list._list = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var lang = this.lang;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\">' + this.icons.list_number + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.orderList + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\">' + this.icons.list_bullets + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.unorderList + '</span></span>' + '</button></li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n    * @overriding core\n    */\n    active: function active(element) {\n      var button = this.context.list.targetButton;\n      var icon = button.querySelector('svg');\n      var util = this.util;\n\n      if (!element) {\n        button.removeAttribute('data-focus');\n        util.changeElement(icon, this.context.list.icons.number);\n        util.removeClass(button, 'active');\n      } else if (util.isList(element)) {\n        var nodeName = element.nodeName;\n        button.setAttribute('data-focus', nodeName);\n        util.addClass(button, 'active');\n\n        if (/UL/i.test(nodeName)) {\n          util.changeElement(icon, this.context.list.icons.bullets);\n        } else {\n          util.changeElement(icon, this.context.list.icons.number);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var listContext = this.context.list;\n      var list = listContext._list;\n      var currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n      if (currentList !== listContext.currentList) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          if (currentList === list[i].getAttribute('data-command')) {\n            this.util.addClass(list[i], 'active');\n          } else {\n            this.util.removeClass(list[i], 'active');\n          }\n        }\n\n        listContext.currentList = currentList;\n      }\n    },\n    editList: function editList(command, selectedCells, detach) {\n      var selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n      if (!selectedFormats || selectedFormats.length === 0) return;\n      var util = this.util;\n      util.sortByDepth(selectedFormats, true); // merge\n\n      var firstSel = selectedFormats[0];\n      var lastSel = selectedFormats[selectedFormats.length - 1];\n      var topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n      var bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n      var range = this.getRange();\n      var originRange = {\n        sc: range.startContainer,\n        so: range.startOffset,\n        ec: range.endContainer,\n        eo: range.endOffset\n      };\n      var isRemove = true;\n\n      var _loop = function _loop(i, len) {\n        if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n          return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n        }.bind(util)))) {\n          isRemove = false;\n          return \"break\";\n        }\n      };\n\n      for (var i = 0, len = selectedFormats.length; i < len; i++) {\n        var _ret = _loop(i, len);\n\n        if (_ret === \"break\") break;\n      }\n\n      if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n        if (detach) {\n          for (var _i3 = 0, _len3 = selectedFormats.length; _i3 < _len3; _i3++) {\n            for (var j = _i3 - 1; j >= 0; j--) {\n              if (selectedFormats[j].contains(selectedFormats[_i3])) {\n                selectedFormats.splice(_i3, 1);\n                _i3--;\n                _len3--;\n                break;\n              }\n            }\n          }\n        }\n\n        var currentFormat = util.getRangeFormatElement(firstSel);\n        var cancel = currentFormat && currentFormat.tagName === command;\n        var rangeArr, tempList;\n\n        var passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        if (!cancel) tempList = util.createElement(command);\n\n        for (var _i4 = 0, _len4 = selectedFormats.length, r, o; _i4 < _len4; _i4++) {\n          o = util.getRangeFormatElement(selectedFormats[_i4], passComponent);\n          if (!o || !util.isList(o)) continue;\n\n          if (!r) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[_i4], 'LI')]\n            };\n          } else {\n            if (r !== o) {\n              if (detach && util.isListCell(o.parentNode)) {\n                this.plugins.list._detachNested.call(this, rangeArr.f);\n              } else {\n                this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n              }\n\n              o = selectedFormats[_i4].parentNode;\n              if (!cancel) tempList = util.createElement(command);\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[_i4], 'LI')]\n              };\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[_i4], 'LI'));\n            }\n          }\n\n          if (_i4 === _len4 - 1) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n          }\n        }\n      } else {\n        var topElParent = topEl ? topEl.parentNode : topEl;\n        var bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n        topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n        bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n        var mergeTop = topEl && topEl.tagName === command;\n        var mergeBottom = bottomEl && bottomEl.tagName === command;\n        var list = mergeTop ? topEl : util.createElement(command);\n        var firstList = null;\n        var lastList = null;\n        var topNumber = null;\n        var bottomNumber = null;\n\n        var _passComponent = function (current) {\n          return !this.isComponent(current) && !this.isList(current);\n        }.bind(util);\n\n        for (var _i5 = 0, _len5 = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; _i5 < _len5; _i5++) {\n          fTag = selectedFormats[_i5];\n\n          if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n            util.removeItem(fTag);\n            continue;\n          }\n\n          next = selectedFormats[_i5 + 1];\n          originParent = fTag.parentNode;\n          nextParent = next ? next.parentNode : null;\n          isCell = util.isListCell(fTag);\n          rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n          parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n          siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n          newCell = util.createElement('LI');\n          util.copyFormatAttributes(newCell, fTag);\n\n          if (util.isComponent(fTag)) {\n            var isHR = /^HR$/i.test(fTag.nodeName);\n            if (!isHR) newCell.innerHTML = '<br>';\n            newCell.innerHTML += fTag.outerHTML;\n            if (isHR) newCell.innerHTML += '<br>';\n          } else {\n            var fChildren = fTag.childNodes;\n\n            while (fChildren[0]) {\n              newCell.appendChild(fChildren[0]);\n            }\n          }\n\n          list.appendChild(newCell);\n          if (!next) lastList = list;\n\n          if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n            if (!firstList) firstList = list;\n\n            if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n              if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n            }\n          }\n\n          util.removeItem(fTag);\n          if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n\n          if (next && (util.getRangeFormatElement(nextParent, _passComponent) !== util.getRangeFormatElement(originParent, _passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n            list = util.createElement(command);\n          }\n\n          if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n        }\n\n        if (topNumber) {\n          firstList = firstList.children[topNumber];\n        }\n\n        if (mergeBottom) {\n          bottomNumber = list.children.length - 1;\n          list.innerHTML += bottomEl.innerHTML;\n          lastList = list.children[bottomNumber];\n          util.removeItem(bottomEl);\n        }\n      }\n\n      this.effectNode = null;\n      return originRange;\n    },\n    _detachNested: function _detachNested(cells) {\n      var first = cells[0];\n      var last = cells[cells.length - 1];\n      var next = last.nextElementSibling;\n      var originList = first.parentNode;\n      var sibling = originList.parentNode.nextElementSibling;\n      var parentNode = originList.parentNode.parentNode;\n\n      for (var c = 0, cLen = cells.length; c < cLen; c++) {\n        parentNode.insertBefore(cells[c], sibling);\n      }\n\n      if (next && originList.children.length > 0) {\n        var newList = originList.cloneNode(false);\n        var children = originList.childNodes;\n        var index = this.util.getPositionIndex(next);\n\n        while (children[index]) {\n          newList.appendChild(children[index]);\n        }\n\n        last.appendChild(newList);\n      }\n\n      if (originList.children.length === 0) this.util.removeItem(originList);\n      this.util.mergeSameTags(parentNode);\n      var edge = this.util.getEdgeChildNodes(first, last);\n      return {\n        cc: first.parentNode,\n        sc: edge.sc,\n        ec: edge.ec\n      };\n    },\n    editInsideList: function editInsideList(remove, selectedCells) {\n      selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n        return this.isListCell(el);\n      }.bind(this.util)) : selectedCells;\n      var cellsLen = selectedCells.length;\n\n      if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n        return {\n          sc: selectedCells[0],\n          so: 0,\n          ec: selectedCells[cellsLen - 1],\n          eo: 1\n        };\n      }\n\n      var originList = selectedCells[0].parentNode;\n      var lastCell = selectedCells[cellsLen - 1];\n      var range = null;\n\n      if (remove) {\n        if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n          lastCell = lastCell.nextElementSibling;\n\n          while (lastCell) {\n            selectedCells.push(lastCell);\n            lastCell = lastCell.nextElementSibling;\n          }\n        }\n\n        range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n      } else {\n        var innerList = this.util.createElement(originList.nodeName);\n        var prev = selectedCells[0].previousElementSibling;\n        var next = lastCell.nextElementSibling;\n        var nodePath = {\n          s: null,\n          e: null,\n          sl: originList,\n          el: originList\n        };\n\n        for (var i = 0, len = cellsLen, c; i < len; i++) {\n          c = selectedCells[i];\n\n          if (c.parentNode !== originList) {\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            originList = c.parentNode;\n            innerList = this.util.createElement(originList.nodeName);\n          }\n\n          prev = c.previousElementSibling;\n          next = c.nextElementSibling;\n          innerList.appendChild(c);\n        }\n\n        this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n        var sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n        var ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n        range = {\n          sc: sc,\n          so: 0,\n          ec: ec,\n          eo: ec.textContent.length\n        };\n      }\n\n      return range;\n    },\n    _insiedList: function _insiedList(originList, innerList, prev, next, nodePath) {\n      var insertPrev = false;\n\n      if (prev && innerList.tagName === prev.tagName) {\n        var children = innerList.children;\n\n        while (children[0]) {\n          prev.appendChild(children[0]);\n        }\n\n        innerList = prev;\n        insertPrev = true;\n      }\n\n      if (next && innerList.tagName === next.tagName) {\n        var _children = next.children;\n\n        while (_children[0]) {\n          innerList.appendChild(_children[0]);\n        }\n\n        var temp = next.nextElementSibling;\n        next.parentNode.removeChild(next);\n        next = temp;\n      }\n\n      if (!insertPrev) {\n        if (this.util.isListCell(prev)) {\n          originList = prev;\n          next = null;\n        }\n\n        originList.insertBefore(innerList, next);\n\n        if (!nodePath.s) {\n          nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n          nodePath.sl = originList;\n        }\n\n        var slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n        nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n        nodePath.el = originList;\n        this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n        this.util.mergeNestedTags(originList);\n        if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n\n      return innerList;\n    },\n    pickup: function pickup(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var command = '';\n\n      while (!command && !/^UL$/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      var range = this.plugins.list.editList.call(this, command, null, false);\n      this.setRange(range.sc, range.so, range.ec, range.eo);\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.paragraphStyle = {\n        _classList: null\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      var menuLang = this.lang.menu;\n      var defaultList = {\n        spaced: {\n          name: menuLang.spaced,\n          class: '__se__p-spaced',\n          _class: ''\n        },\n        bordered: {\n          name: menuLang.bordered,\n          class: '__se__p-bordered',\n          _class: ''\n        },\n        neon: {\n          name: menuLang.neon,\n          class: '__se__p-neon',\n          _class: ''\n        }\n      };\n      var paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n      var list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n\n      for (var i = 0, len = paragraphStyles.length, p, _name2, attrs, _class; i < len; i++) {\n        p = paragraphStyles[i];\n\n        if (typeof p === 'string') {\n          var defaultStyle = defaultList[p.toLowerCase()];\n          if (!defaultStyle) continue;\n          p = defaultStyle;\n        }\n\n        _name2 = p.name;\n        attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n        _class = p._class;\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-value=\"' + p.class + '\" title=\"' + _name2 + '\">' + '<div' + attrs + '>' + _name2 + '</div>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var paragraphContext = this.context.paragraphStyle;\n      var paragraphList = paragraphContext._classList;\n      var currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n      for (var i = 0, len = paragraphList.length; i < len; i++) {\n        if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n          this.util.addClass(paragraphList[i], 'active');\n        } else {\n          this.util.removeClass(paragraphList[i], 'active');\n        }\n      }\n    },\n    pickUp: function pickUp(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var value = null;\n\n      while (!/^UL$/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        if (value) break;\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      var selectedFormsts = this.getSelectedElements();\n      if (selectedFormsts.length === 0) return; // change format class\n\n      var toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n      selectedFormsts = this.getSelectedElements();\n\n      for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n        toggleClass(selectedFormsts[i], value);\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'table',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.table = {\n        _element: null,\n        _tdElement: null,\n        _trElement: null,\n        _trElements: null,\n        _tableXY: [],\n        _maxWidth: true,\n        _fixedColumn: false,\n        resizeText: null,\n        headerButton: null,\n        mergeButton: null,\n        splitButton: null,\n        splitMenu: null,\n        maxText: core.lang.controller.maxSize,\n        minText: core.lang.controller.minSize,\n        _physical_cellCnt: 0,\n        _logical_cellCnt: 0,\n        _rowCnt: 0,\n        _rowIndex: 0,\n        _physical_cellIndex: 0,\n        _logical_cellIndex: 0,\n        _current_colSpan: 0,\n        _current_rowSpan: 0,\n        icons: {\n          expansion: core.icons.expansion,\n          reduction: core.icons.reduction\n        }\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var tablePicker = listDiv.querySelector('.se-controller-table-picker');\n      context.table.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\n      context.table.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\n      context.table.tableDisplay = listDiv.querySelector('.se-table-size-display');\n      /** set table controller */\n\n      var tableController = this.setController_table.call(core);\n      context.table.tableController = tableController;\n      context.table.resizeButton = tableController.querySelector('._se_table_resize');\n      context.table.resizeText = tableController.querySelector('._se_table_resize > span > span');\n      context.table.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\n      context.table.headerButton = tableController.querySelector('._se_table_header');\n      tableController.addEventListener('mousedown', function (e) {\n        e.stopPropagation();\n      }, false);\n      /** set resizing */\n\n      var resizeDiv = this.setController_tableEditor.call(core);\n      context.table.resizeDiv = resizeDiv;\n      context.table.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\n      context.table.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\n      context.table.splitButton = resizeDiv.querySelector('._se_table_split_button');\n      context.table.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\n      context.table.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\n      resizeDiv.addEventListener('mousedown', function (e) {\n        e.stopPropagation();\n      }, false);\n      /** add event listeners */\n\n      tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core));\n      tablePicker.addEventListener('click', this.appendTable.bind(core));\n      resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\n      tableController.addEventListener('click', this.onClick_tableController.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** append controller */\n\n      context.element.relative.appendChild(resizeDiv);\n      context.element.relative.appendChild(tableController);\n      /** empty memory */\n\n      listDiv = null, tablePicker = null, resizeDiv = null, tableController = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-selector-table';\n      listDiv.innerHTML = '' + '<div class=\"se-table-size\">' + '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' + '<div class=\"se-table-size-highlighted\"></div>' + '<div class=\"se-table-size-unhighlighted\"></div>' + '</div>' + '<div class=\"se-table-size-display\">1 x 1</div>';\n      return listDiv;\n    },\n    setController_table: function setController_table() {\n      var lang = this.lang;\n      var icons = this.icons;\n      var tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table';\n      tableResize.innerHTML = '' + '<div>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' + icons.expansion + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' + icons.table_header + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    setController_tableEditor: function setController_tableEditor() {\n      var lang = this.lang;\n      var icons = this.icons;\n      var tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table-cell';\n      tableResize.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' + icons.delete_row + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' + icons.merge_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' + icons.insert_column_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' + icons.insert_column_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' + icons.delete_column + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' + icons.split_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + '</li>' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + '</li>' + '</ul>' + '</div>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    appendTable: function appendTable() {\n      var oTable = this.util.createElement('TABLE');\n      var createCells = this.plugins.table.createCells;\n      var x = this.context.table._tableXY[0];\n      var y = this.context.table._tableXY[1];\n      var tableHTML = '<tbody>';\n\n      while (y > 0) {\n        tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\n        --y;\n      }\n\n      tableHTML += '</tbody>';\n      oTable.innerHTML = tableHTML;\n      this.insertComponent(oTable, false);\n      var firstTd = oTable.querySelector('td div');\n      this.setRange(firstTd, 0, firstTd, 0);\n      this.plugins.table.reset_table_picker.call(this);\n    },\n    createCells: function createCells(nodeName, cnt, returnElement) {\n      nodeName = nodeName.toLowerCase();\n\n      if (!returnElement) {\n        var cellsHTML = '';\n\n        while (cnt > 0) {\n          cellsHTML += '<' + nodeName + '><div><br></div></' + nodeName + '>';\n          cnt--;\n        }\n\n        return cellsHTML;\n      } else {\n        var cell = this.util.createElement(nodeName);\n        cell.innerHTML = '<div><br></div>';\n        return cell;\n      }\n    },\n    onMouseMove_tablePicker: function onMouseMove_tablePicker(e) {\n      e.stopPropagation();\n\n      var x = this._w.Math.ceil(e.offsetX / 18);\n\n      var y = this._w.Math.ceil(e.offsetY / 18);\n\n      x = x < 1 ? 1 : x;\n      y = y < 1 ? 1 : y;\n      this.context.table.tableHighlight.style.width = x + 'em';\n      this.context.table.tableHighlight.style.height = y + 'em';\n      var x_u = 10; // x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n\n      var y_u = 10; //y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n\n      this.context.table.tableUnHighlight.style.width = x_u + 'em';\n      this.context.table.tableUnHighlight.style.height = y_u + 'em';\n      this.util.changeTxt(this.context.table.tableDisplay, x + ' x ' + y);\n      this.context.table._tableXY = [x, y];\n    },\n    reset_table_picker: function reset_table_picker() {\n      if (!this.context.table.tableHighlight) return;\n      var highlight = this.context.table.tableHighlight.style;\n      var unHighlight = this.context.table.tableUnHighlight.style;\n      highlight.width = '1em';\n      highlight.height = '1em';\n      unHighlight.width = '10em';\n      unHighlight.height = '10em';\n      this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\n      this.submenuOff();\n    },\n    init: function init() {\n      var contextTable = this.context.table;\n      var tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      if (tablePlugin._selectedTable) {\n        var selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n        for (var i = 0, len = selectedCells.length; i < len; i++) {\n          this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n        }\n      }\n\n      tablePlugin._toggleEditor.call(this, true);\n\n      contextTable._element = null;\n      contextTable._tdElement = null;\n      contextTable._trElement = null;\n      contextTable._trElements = null;\n      contextTable._tableXY = [];\n      contextTable._maxWidth = true;\n      contextTable._fixedColumn = false;\n      contextTable._physical_cellCnt = 0;\n      contextTable._logical_cellCnt = 0;\n      contextTable._rowCnt = 0;\n      contextTable._rowIndex = 0;\n      contextTable._physical_cellIndex = 0;\n      contextTable._logical_cellIndex = 0;\n      contextTable._current_colSpan = 0;\n      contextTable._current_rowSpan = 0;\n      tablePlugin._shift = false;\n      tablePlugin._selectedCells = null;\n      tablePlugin._selectedTable = null;\n      tablePlugin._ref = null;\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    },\n\n    /** table edit controller */\n    call_controller_tableEdit: function call_controller_tableEdit(tdElement) {\n      var tablePlugin = this.plugins.table;\n\n      if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n        this.controllersOff();\n        this.util.removeClass(tdElement, 'se-table-selected-cell');\n        return;\n      }\n\n      var contextTable = this.context.table;\n      var tableController = contextTable.tableController;\n      tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n      var tableElement = contextTable._element;\n      contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || !tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto');\n      contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\n      tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\n      tablePlugin.setPositionControllerTop.call(this, tableElement);\n      if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, tableController, tablePlugin.init.bind(this), tdElement, 'table');\n    },\n    setPositionControllerTop: function setPositionControllerTop(tableElement) {\n      var tableController = this.context.table.tableController;\n      var offset = this.util.getOffset(tableElement, this.context.element.wysiwygFrame);\n      tableController.style.left = offset.left + 'px';\n      tableController.style.display = 'block';\n      tableController.style.top = offset.top - tableController.offsetHeight - 2 + 'px';\n    },\n    setPositionControllerDiv: function setPositionControllerDiv(tdElement, reset) {\n      var contextTable = this.context.table;\n      var resizeDiv = contextTable.resizeDiv;\n      this.plugins.table.setCellInfo.call(this, tdElement, reset);\n      resizeDiv.style.display = 'block';\n      var offset = this.util.getOffset(tdElement, this.context.element.wysiwygFrame);\n      resizeDiv.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      resizeDiv.style.top = offset.top + tdElement.offsetHeight + 12 + 'px';\n      var overLeft = this.context.element.wysiwygFrame.offsetWidth - (resizeDiv.offsetLeft + resizeDiv.offsetWidth);\n\n      if (overLeft < 0) {\n        resizeDiv.style.left = resizeDiv.offsetLeft + overLeft + 'px';\n        resizeDiv.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        resizeDiv.firstElementChild.style.left = '20px';\n      }\n    },\n    setCellInfo: function setCellInfo(tdElement, reset) {\n      var contextTable = this.context.table;\n      var table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n\n      if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n        this.util.addClass(contextTable.headerButton, 'active');\n      } else {\n        this.util.removeClass(contextTable.headerButton, 'active');\n      }\n\n      if (reset || contextTable._physical_cellCnt === 0) {\n        if (contextTable._tdElement !== tdElement) {\n          contextTable._tdElement = tdElement;\n          contextTable._trElement = tdElement.parentNode;\n        }\n\n        var rows = contextTable._trElements = table.rows;\n        var cellIndex = tdElement.cellIndex;\n        var cellCnt = 0;\n\n        for (var i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n          cellCnt += cells[i].colSpan;\n        } // row cnt, row index\n\n\n        var rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n        contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n        contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n        contextTable._logical_cellCnt = cellCnt;\n        contextTable._physical_cellIndex = cellIndex; // span\n\n        contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n        contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n        var rowSpanArr = [];\n        var spanIndex = [];\n\n        for (var _i6 = 0, _cells, colSpan; _i6 <= rowIndex; _i6++) {\n          _cells = rows[_i6].cells;\n          colSpan = 0;\n\n          for (var c = 0, cLen = _cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = _cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (var r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > _i6) continue;\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = _i6 + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = _i6 + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            } // logcal cell index\n\n\n            if (_i6 === rowIndex && c === cellIndex) {\n              contextTable._logical_cellIndex = logcalIndex;\n              break;\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        rowSpanArr = null;\n        spanIndex = null;\n      }\n    },\n    editTable: function editTable(type, option) {\n      var tablePlugin = this.plugins.table;\n      var contextTable = this.context.table;\n      var table = contextTable._element;\n      var isRow = type === 'row';\n\n      if (isRow) {\n        var tableAttr = contextTable._trElement.parentNode;\n\n        if (/^THEAD$/i.test(tableAttr.nodeName)) {\n          if (option === 'up') {\n            return;\n          } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n            table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\n            return;\n          }\n        }\n      } // multi\n\n\n      if (tablePlugin._ref) {\n        var positionCell = contextTable._tdElement;\n        var selectedCells = tablePlugin._selectedCells; // multi - row\n\n        if (isRow) {\n          // remove row\n          if (!option) {\n            var row = selectedCells[0].parentNode;\n            var removeCells = [selectedCells[0]];\n\n            for (var i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (row !== cell.parentNode) {\n                removeCells.push(cell);\n                row = cell.parentNode;\n              }\n            }\n\n            for (var _i7 = 0, _len6 = removeCells.length; _i7 < _len6; _i7++) {\n              tablePlugin.setCellInfo.call(this, removeCells[_i7], true);\n              tablePlugin.editRow.call(this, option);\n            }\n          } else {\n            // edit row\n            tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n            tablePlugin.editRow.call(this, option, positionCell);\n          }\n        } else {\n          // multi - cell\n          var firstRow = selectedCells[0].parentNode; // remove cell\n\n          if (!option) {\n            var _removeCells = [selectedCells[0]];\n\n            for (var _i8 = 1, _len7 = selectedCells.length, _cell; _i8 < _len7; _i8++) {\n              _cell = selectedCells[_i8];\n\n              if (firstRow === _cell.parentNode) {\n                _removeCells.push(_cell);\n              } else {\n                break;\n              }\n            }\n\n            for (var _i9 = 0, _len8 = _removeCells.length; _i9 < _len8; _i9++) {\n              tablePlugin.setCellInfo.call(this, _removeCells[_i9], true);\n              tablePlugin.editCell.call(this, option);\n            }\n          } else {\n            // edit cell\n            var rightCell = null;\n\n            for (var _i10 = 0, _len9 = selectedCells.length - 1; _i10 < _len9; _i10++) {\n              if (firstRow !== selectedCells[_i10 + 1].parentNode) {\n                rightCell = selectedCells[_i10];\n                break;\n              }\n            }\n\n            tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\n            tablePlugin.editCell.call(this, option, positionCell);\n          }\n        }\n\n        if (!option) tablePlugin.init.call(this);\n      } // one\n      else {\n          tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\n        } // after remove\n\n\n      if (!option) {\n        var children = table.children;\n\n        for (var _i11 = 0; _i11 < children.length; _i11++) {\n          if (children[_i11].children.length === 0) {\n            this.util.removeItem(children[_i11]);\n            _i11--;\n          }\n        }\n\n        if (table.children.length === 0) this.util.removeItem(table);\n      }\n    },\n    editRow: function editRow(option, positionResetElement) {\n      var contextTable = this.context.table;\n      var remove = !option;\n      var up = option === 'up';\n      var originRowIndex = contextTable._rowIndex;\n      var rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n      var sign = remove ? -1 : 1;\n      var rows = contextTable._trElements;\n      var cellCnt = contextTable._logical_cellCnt;\n\n      for (var i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n        cell = rows[i].cells;\n        if (cell.length === 0) return;\n\n        for (var c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n          rs = cell[c].rowSpan;\n          cs = cell[c].colSpan;\n          if (rs < 2 && cs < 2) continue;\n\n          if (rs + i > rowIndex && rowIndex > i) {\n            cell[c].rowSpan = rs + sign;\n            cellCnt -= cs;\n          }\n        }\n      }\n\n      if (remove) {\n        var next = rows[originRowIndex + 1];\n\n        if (next) {\n          var spanCells = [];\n          var cells = rows[originRowIndex].cells;\n          var colSpan = 0;\n\n          for (var _i12 = 0, _len10 = cells.length, _cell2, logcalIndex; _i12 < _len10; _i12++) {\n            _cell2 = cells[_i12];\n            logcalIndex = _i12 + colSpan;\n            colSpan += _cell2.colSpan - 1;\n\n            if (_cell2.rowSpan > 1) {\n              _cell2.rowSpan -= 1;\n              spanCells.push({\n                cell: _cell2.cloneNode(false),\n                index: logcalIndex\n              });\n            }\n          }\n\n          if (spanCells.length > 0) {\n            var spanCell = spanCells.shift();\n            cells = next.cells;\n            colSpan = 0;\n\n            for (var _i13 = 0, _len11 = cells.length, _cell3, _logcalIndex; _i13 < _len11; _i13++) {\n              _cell3 = cells[_i13];\n              _logcalIndex = _i13 + colSpan;\n              colSpan += _cell3.colSpan - 1;\n\n              if (_logcalIndex >= spanCell.index) {\n                _i13--, colSpan--;\n                colSpan += spanCell.cell.colSpan - 1;\n                next.insertBefore(spanCell.cell, _cell3);\n                spanCell = spanCells.shift();\n                if (!spanCell) break;\n              }\n            }\n\n            if (spanCell) {\n              next.appendChild(spanCell.cell);\n\n              for (var _i14 = 0, _len12 = spanCells.length; _i14 < _len12; _i14++) {\n                next.appendChild(spanCells[_i14].cell);\n              }\n            }\n          }\n        }\n\n        contextTable._element.deleteRow(rowIndex);\n      } else {\n        var newRow = contextTable._element.insertRow(rowIndex);\n\n        newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\n      }\n\n      if (!remove) {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      } else {\n        this.controllersOff();\n      }\n    },\n    editCell: function editCell(option, positionResetElement) {\n      var contextTable = this.context.table;\n      var util = this.util;\n      var remove = !option;\n      var left = option === 'left';\n      var colSpan = contextTable._current_colSpan;\n      var cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n      var rows = contextTable._trElements;\n      var rowSpanArr = [];\n      var spanIndex = [];\n      var passCell = 0;\n      var removeCell = [];\n      var removeSpanArr = [];\n\n      for (var i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n        row = rows[i];\n        insertIndex = cellIndex;\n        applySpan = false;\n        cells = row.cells;\n        cellColSpan = 0;\n\n        for (var c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n          cell = cells[c];\n          if (!cell) break;\n          rs = cell.rowSpan - 1;\n          cs = cell.colSpan - 1;\n\n          if (!remove) {\n            if (c >= insertIndex) break;\n\n            if (cs > 0) {\n              if (passCell < 1 && cs + c >= insertIndex) {\n                cell.colSpan += 1;\n                insertIndex = null;\n                passCell = rs + 1;\n                break;\n              }\n\n              insertIndex -= cs;\n            }\n\n            if (!applySpan) {\n              for (var r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                insertIndex -= arr.cs;\n                arr.rs -= 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n\n              applySpan = true;\n            }\n          } else {\n            removeIndex = c + cellColSpan;\n\n            if (spanIndex.length > 0) {\n              var lastCell = !cells[c + 1];\n\n              for (var _r = 0, _arr; _r < spanIndex.length; _r++) {\n                _arr = spanIndex[_r];\n                if (_arr.row > i) continue;\n\n                if (removeIndex >= _arr.index) {\n                  cellColSpan += _arr.cs;\n                  removeIndex = c + cellColSpan;\n                  _arr.rs -= 1;\n                  _arr.row = i + 1;\n\n                  if (_arr.rs < 1) {\n                    spanIndex.splice(_r, 1);\n                    _r--;\n                  }\n                } else if (lastCell) {\n                  _arr.rs -= 1;\n                  _arr.row = i + 1;\n\n                  if (_arr.rs < 1) {\n                    spanIndex.splice(_r, 1);\n                    _r--;\n                  }\n                }\n              }\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                rs: rs,\n                cs: cs + 1,\n                index: removeIndex,\n                row: -1\n              });\n            }\n\n            if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n              removeCell.push(cell);\n            } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n              cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n            } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n              removeSpanArr.push({\n                cell: cell,\n                i: i,\n                rs: i + rs\n              });\n            }\n\n            cellColSpan += cs;\n          }\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n\n        if (!remove) {\n          if (passCell > 0) {\n            passCell -= 1;\n            continue;\n          }\n\n          if (insertIndex !== null && cells.length > 0) {\n            newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n            newCell = row.insertBefore(newCell, cells[insertIndex]);\n          }\n        }\n      }\n\n      if (remove) {\n        var removeFirst, removeEnd;\n\n        for (var _r2 = 0, rLen = removeCell.length, _row; _r2 < rLen; _r2++) {\n          _row = removeCell[_r2].parentNode;\n          util.removeItem(removeCell[_r2]);\n\n          if (_row.cells.length === 0) {\n            if (!removeFirst) removeFirst = util.getArrayIndex(rows, _row);\n            removeEnd = util.getArrayIndex(rows, _row);\n            util.removeItem(_row);\n          }\n        }\n\n        for (var _c = 0, _cLen = removeSpanArr.length, rowSpanCell; _c < _cLen; _c++) {\n          rowSpanCell = removeSpanArr[_c];\n          rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n        }\n\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      }\n    },\n    _closeSplitMenu: null,\n    openSplitMenu: function openSplitMenu() {\n      this.util.addClass(this.context.table.splitButton, 'on');\n      this.context.table.splitMenu.style.display = 'inline-table';\n\n      this.plugins.table._closeSplitMenu = function () {\n        this.util.removeClass(this.context.table.splitButton, 'on');\n        this.context.table.splitMenu.style.display = 'none';\n        this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n        this.plugins.table._closeSplitMenu = null;\n      }.bind(this);\n\n      this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n    },\n    splitCells: function splitCells(direction) {\n      var util = this.util;\n      var vertical = direction === 'vertical';\n      var contextTable = this.context.table;\n      var currentCell = contextTable._tdElement;\n      var rows = contextTable._trElements;\n      var currentRow = contextTable._trElement;\n      var index = contextTable._logical_cellIndex;\n      var rowIndex = contextTable._rowIndex;\n      var newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n      if (vertical) {\n        var currentColSpan = currentCell.colSpan;\n        newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n        if (currentColSpan > 1) {\n          newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n          currentCell.colSpan = currentColSpan - newCell.colSpan;\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        } else {\n          // colspan - 1\n          var rowSpanArr = [];\n          var spanIndex = [];\n\n          for (var i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (var c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n              cell = cells[c];\n              cs = cell.colSpan - 1;\n              rs = cell.rowSpan - 1;\n              logcalIndex = c + colSpan;\n\n              if (spanIndex.length > 0) {\n                for (var r = 0, arr; r < spanIndex.length; r++) {\n                  arr = spanIndex[r];\n                  if (arr.row > i) continue;\n\n                  if (logcalIndex >= arr.index) {\n                    colSpan += arr.cs;\n                    logcalIndex += arr.cs;\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  } else if (c === cLen - 1) {\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  }\n                }\n              }\n\n              if (logcalIndex <= index && rs > 0) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cs + 1,\n                  rs: rs,\n                  row: -1\n                });\n              }\n\n              if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n                cell.colSpan += 1;\n                break;\n              }\n\n              if (logcalIndex > index) break;\n              colSpan += cs;\n            }\n\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n              return a.index - b.index;\n            });\n            rowSpanArr = [];\n          }\n\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        }\n      } else {\n        // horizontal\n        var currentRowSpan = currentCell.rowSpan;\n        newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n        if (currentRowSpan > 1) {\n          newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n          var newRowSpan = currentRowSpan - newCell.rowSpan;\n          var _rowSpanArr = [];\n          var nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n          for (var _i15 = 0, _cells2, _colSpan; _i15 < nextRowIndex; _i15++) {\n            _cells2 = rows[_i15].cells;\n            _colSpan = 0;\n\n            for (var _c2 = 0, _cLen2 = _cells2.length, _cell4, _cs, _logcalIndex2; _c2 < _cLen2; _c2++) {\n              _logcalIndex2 = _c2 + _colSpan;\n              if (_logcalIndex2 >= index) break;\n              _cell4 = _cells2[_c2];\n              _cs = _cell4.rowSpan - 1;\n\n              if (_cs > 0 && _cs + _i15 >= nextRowIndex && _logcalIndex2 < index) {\n                _rowSpanArr.push({\n                  index: _logcalIndex2,\n                  cs: _cell4.colSpan\n                });\n              }\n\n              _colSpan += _cell4.colSpan - 1;\n            }\n          }\n\n          var nextRow = rows[nextRowIndex];\n          var nextCells = nextRow.cells;\n\n          var _rs = _rowSpanArr.shift();\n\n          for (var _c3 = 0, _cLen3 = nextCells.length, _colSpan2 = 0, _cell5, _cs2, _logcalIndex3, insertIndex; _c3 < _cLen3; _c3++) {\n            _logcalIndex3 = _c3 + _colSpan2;\n            _cell5 = nextCells[_c3];\n            _cs2 = _cell5.colSpan - 1;\n            insertIndex = _logcalIndex3 + _cs2 + 1;\n\n            if (_rs && insertIndex >= _rs.index) {\n              _colSpan2 += _rs.cs;\n              insertIndex += _rs.cs;\n              _rs = _rowSpanArr.shift();\n            }\n\n            if (insertIndex >= index || _c3 === _cLen3 - 1) {\n              nextRow.insertBefore(newCell, _cell5.nextElementSibling);\n              break;\n            }\n\n            _colSpan2 += _cs2;\n          }\n\n          currentCell.rowSpan = newRowSpan;\n        } else {\n          // rowspan - 1\n          newCell.rowSpan = currentCell.rowSpan;\n          var newRow = util.createElement('TR');\n          newRow.appendChild(newCell);\n\n          for (var _i16 = 0, _cells4; _i16 < rowIndex; _i16++) {\n            _cells4 = rows[_i16].cells;\n            if (_cells4.length === 0) return;\n\n            for (var _c4 = 0, _cLen4 = _cells4.length; _c4 < _cLen4; _c4++) {\n              if (_i16 + _cells4[_c4].rowSpan - 1 >= rowIndex) {\n                _cells4[_c4].rowSpan += 1;\n              }\n            }\n          }\n\n          var physicalIndex = contextTable._physical_cellIndex;\n          var _cells3 = currentRow.cells;\n\n          for (var _c5 = 0, _cLen5 = _cells3.length; _c5 < _cLen5; _c5++) {\n            if (_c5 === physicalIndex) continue;\n            _cells3[_c5].rowSpan += 1;\n          }\n\n          currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n        }\n      }\n\n      this.focusEdge(currentCell);\n      this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n    },\n    mergeCells: function mergeCells() {\n      var tablePlugin = this.plugins.table;\n      var contextTable = this.context.table;\n      var util = this.util;\n      var ref = tablePlugin._ref;\n      var selectedCells = tablePlugin._selectedCells;\n      var mergeCell = selectedCells[0];\n      var emptyRowFirst = null;\n      var emptyRowLast = null;\n      var cs = ref.ce - ref.cs + 1;\n      var rs = ref.re - ref.rs + 1;\n      var mergeHTML = '';\n      var row = null;\n\n      for (var i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n        cell = selectedCells[i];\n        if (row !== cell.parentNode) row = cell.parentNode;\n        ch = cell.children;\n\n        for (var c = 0, cLen = ch.length; c < cLen; c++) {\n          if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n            util.removeItem(ch[c]);\n          }\n        }\n\n        mergeHTML += cell.innerHTML;\n        util.removeItem(cell);\n\n        if (row.cells.length === 0) {\n          if (!emptyRowFirst) emptyRowFirst = row;else emptyRowLast = row;\n          rs -= 1;\n        }\n      }\n\n      if (emptyRowFirst) {\n        var rows = contextTable._trElements;\n        var rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n        var rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n        var removeRows = [];\n\n        for (var _i17 = 0, cells; _i17 <= rowIndexLast; _i17++) {\n          cells = rows[_i17].cells;\n\n          if (cells.length === 0) {\n            removeRows.push(rows[_i17]);\n            continue;\n          }\n\n          for (var _c6 = 0, _cLen6 = cells.length, _cell6, _rs2; _c6 < _cLen6; _c6++) {\n            _cell6 = cells[_c6];\n            _rs2 = _cell6.rowSpan - 1;\n\n            if (_rs2 > 0 && _i17 + _rs2 >= rowIndexFirst) {\n              _cell6.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, _i17, _i17 + _rs2);\n            }\n          }\n        }\n\n        for (var _i18 = 0, _len13 = removeRows.length; _i18 < _len13; _i18++) {\n          util.removeItem(removeRows[_i18]);\n        }\n      }\n\n      mergeCell.innerHTML += mergeHTML;\n      mergeCell.colSpan = cs;\n      mergeCell.rowSpan = rs;\n      this.controllersOff();\n      tablePlugin.setActiveButton.call(this, true, false);\n      tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n      util.addClass(mergeCell, 'se-table-selected-cell');\n      this.focusEdge(mergeCell);\n    },\n    toggleHeader: function toggleHeader() {\n      var util = this.util;\n      var headerButton = this.context.table.headerButton;\n      var active = util.hasClass(headerButton, 'active');\n      var table = this.context.table._element;\n\n      if (!active) {\n        var header = util.createElement('THEAD');\n        header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\n        table.insertBefore(header, table.firstElementChild);\n      } else {\n        util.removeItem(table.querySelector('thead'));\n      }\n\n      util.toggleClass(headerButton, 'active');\n\n      if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n      }\n    },\n    setTableStyle: function setTableStyle(styles) {\n      var contextTable = this.context.table;\n      var tableElement = contextTable._element;\n      var icon, span, sizeIcon, text;\n\n      if (styles.indexOf('width') > -1) {\n        icon = contextTable.resizeButton.querySelector('svg');\n        span = contextTable.resizeText;\n\n        if (!contextTable._maxWidth) {\n          sizeIcon = contextTable.icons.expansion;\n          text = contextTable.maxText;\n          contextTable.columnFixedButton.style.display = 'none';\n          this.util.removeClass(tableElement, 'se-table-size-100');\n          this.util.addClass(tableElement, 'se-table-size-auto');\n        } else {\n          sizeIcon = contextTable.icons.reduction;\n          text = contextTable.minText;\n          contextTable.columnFixedButton.style.display = 'block';\n          this.util.removeClass(tableElement, 'se-table-size-auto');\n          this.util.addClass(tableElement, 'se-table-size-100');\n        }\n\n        this.util.changeElement(icon, sizeIcon);\n        this.util.changeTxt(span, text);\n      }\n\n      if (styles.indexOf('column') > -1) {\n        if (!contextTable._fixedColumn) {\n          this.util.removeClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(tableElement, 'se-table-layout-auto');\n          this.util.removeClass(contextTable.columnFixedButton, 'active');\n        } else {\n          this.util.removeClass(tableElement, 'se-table-layout-auto');\n          this.util.addClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(contextTable.columnFixedButton, 'active');\n        }\n      }\n    },\n    setActiveButton: function setActiveButton(fixedCell, selectedCell) {\n      var contextTable = this.context.table;\n\n      if (/^TH$/i.test(fixedCell.nodeName)) {\n        contextTable.insertRowAboveButton.setAttribute('disabled', true);\n        contextTable.insertRowBelowButton.setAttribute('disabled', true);\n      } else {\n        contextTable.insertRowAboveButton.removeAttribute('disabled');\n        contextTable.insertRowBelowButton.removeAttribute('disabled');\n      }\n\n      if (!selectedCell || fixedCell === selectedCell) {\n        contextTable.splitButton.removeAttribute('disabled');\n        contextTable.mergeButton.setAttribute('disabled', true);\n      } else {\n        contextTable.splitButton.setAttribute('disabled', true);\n        contextTable.mergeButton.removeAttribute('disabled');\n      }\n    },\n    // multi selecte\n    _bindOnSelect: null,\n    _bindOffSelect: null,\n    _bindOffShift: null,\n    _selectedCells: null,\n    _shift: false,\n    _fixedCell: null,\n    _fixedCellName: null,\n    _selectedCell: null,\n    _selectedTable: null,\n    _ref: null,\n    _toggleEditor: function _toggleEditor(enabled) {\n      this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\n      if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\n    },\n    _offCellMultiSelect: function _offCellMultiSelect(e) {\n      e.stopPropagation();\n      var tablePlugin = this.plugins.table;\n\n      if (!tablePlugin._shift) {\n        tablePlugin._removeEvents.call(this);\n\n        tablePlugin._toggleEditor.call(this, true);\n      } else if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\n      tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n      tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n      tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n      if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\n\n      if (!tablePlugin._shift) {\n        tablePlugin._fixedCell = null;\n        tablePlugin._selectedCell = null;\n        tablePlugin._fixedCellName = null;\n      }\n    },\n    _onCellMultiSelect: function _onCellMultiSelect(e) {\n      this._antiBlur = true;\n      var tablePlugin = this.plugins.table;\n      var target = this.util.getParentElement(e.target, this.util.isCell);\n\n      if (tablePlugin._shift) {\n        if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);else tablePlugin._toggleEditor.call(this, false);\n      } else if (!tablePlugin._ref) {\n        if (target === tablePlugin._fixedCell) return;else tablePlugin._toggleEditor.call(this, false);\n      }\n\n      if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\n        return;\n      }\n\n      tablePlugin._selectedCell = target;\n\n      tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n    },\n    _setMultiCells: function _setMultiCells(startCell, endCell) {\n      var tablePlugin = this.plugins.table;\n      var rows = tablePlugin._selectedTable.rows;\n      var util = this.util;\n\n      var selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (var i = 0, len = selectedCells.length; i < len; i++) {\n        util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      if (startCell === endCell) {\n        util.addClass(startCell, 'se-table-selected-cell');\n        if (!tablePlugin._shift) return;\n      }\n\n      var findSelectedCell = true;\n      var spanIndex = [];\n      var rowSpanArr = [];\n      var ref = tablePlugin._ref = {\n        _i: 0,\n        cs: null,\n        ce: null,\n        rs: null,\n        re: null\n      };\n\n      for (var _i19 = 0, _len14 = rows.length, cells, colSpan; _i19 < _len14; _i19++) {\n        cells = rows[_i19].cells;\n        colSpan = 0;\n\n        for (var c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n          cell = cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              if (arr.row > _i19) continue;\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = _i19 + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = _i19 + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          }\n\n          if (findSelectedCell) {\n            if (cell === startCell || cell === endCell) {\n              ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n              ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n              ref.rs = ref.rs !== null && ref.rs < _i19 ? ref.rs : _i19;\n              ref.re = ref.re !== null && ref.re > _i19 + rs ? ref.re : _i19 + rs;\n              ref._i += 1;\n            }\n\n            if (ref._i === 2) {\n              findSelectedCell = false;\n              spanIndex = [];\n              rowSpanArr = [];\n              _i19 = -1;\n              break;\n            }\n          } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, _i19, _i19 + rs)) {\n            var newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            var newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            var newRs = ref.rs < _i19 ? ref.rs : _i19;\n            var newRe = ref.re > _i19 + rs ? ref.re : _i19 + rs;\n\n            if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n              ref.cs = newCs;\n              ref.ce = newCe;\n              ref.rs = newRs;\n              ref.re = newRe;\n              _i19 = -1;\n              spanIndex = [];\n              rowSpanArr = [];\n              break;\n            }\n\n            util.addClass(cell, 'se-table-selected-cell');\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cell.colSpan - 1;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n    },\n    _removeEvents: function _removeEvents() {\n      var tablePlugin = this.plugins.table;\n\n      if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (tablePlugin._bindOnSelect) {\n        this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\n\n        this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\n\n        tablePlugin._bindOnSelect = null;\n      }\n\n      if (tablePlugin._bindOffSelect) {\n        this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\n\n        tablePlugin._bindOffSelect = null;\n      }\n\n      if (tablePlugin._bindOffShift) {\n        this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\n\n        tablePlugin._bindOffShift = null;\n      }\n    },\n    _initBind: null,\n    onTableCellMultiSelect: function onTableCellMultiSelect(tdElement, shift) {\n      var tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      this.controllersOff();\n      tablePlugin._shift = shift;\n      tablePlugin._fixedCell = tdElement;\n      tablePlugin._fixedCellName = tdElement.nodeName;\n      tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\n\n      var selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (var i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      this.util.addClass(tdElement, 'se-table-selected-cell');\n      tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n      tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n      if (!shift) {\n        this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\n      } else {\n        tablePlugin._bindOffShift = function () {\n          this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), this.focus.bind(this), tdElement, 'table');\n          if (!tablePlugin._ref) this.controllersOff();\n        }.bind(this);\n\n        this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\n\n        this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\n      }\n\n      this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\n\n      tablePlugin._initBind = tablePlugin.init.bind(this);\n\n      this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\n    },\n    onClick_tableController: function onClick_tableController(e) {\n      e.stopPropagation();\n      var target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\n      if (target.getAttribute('disabled')) return;\n      var command = target.getAttribute('data-command');\n      var value = target.getAttribute('data-value');\n      var option = target.getAttribute('data-option');\n      var tablePlugin = this.plugins.table;\n\n      if (typeof tablePlugin._closeSplitMenu === 'function') {\n        tablePlugin._closeSplitMenu();\n\n        if (command === 'onsplit') return;\n      }\n\n      if (!command) return;\n      e.preventDefault();\n      var contextTable = this.context.table;\n\n      switch (command) {\n        case 'insert':\n        case 'delete':\n          tablePlugin.editTable.call(this, value, option);\n          break;\n\n        case 'header':\n          tablePlugin.toggleHeader.call(this);\n          break;\n\n        case 'onsplit':\n          tablePlugin.openSplitMenu.call(this);\n          break;\n\n        case 'split':\n          tablePlugin.splitCells.call(this, value);\n          break;\n\n        case 'merge':\n          tablePlugin.mergeCells.call(this);\n          break;\n\n        case 'resize':\n          contextTable._maxWidth = !contextTable._maxWidth;\n          tablePlugin.setTableStyle.call(this, 'width');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'layout':\n          contextTable._fixedColumn = !contextTable._fixedColumn;\n          tablePlugin.setTableStyle.call(this, 'column');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'remove':\n          var emptyDiv = contextTable._element.parentNode;\n          this.util.removeItem(contextTable._element);\n          this.controllersOff();\n          if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n      }\n\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'template',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.template = {};\n      /** set submenu */\n\n      var templateDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, templateDiv);\n      /** empty memory */\n\n      templateDiv = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var templateList = this.context.option.templates;\n\n      if (!templateList || templateList.length === 0) {\n        throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n      }\n\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      var list = '<div class=\"se-submenu se-list-inner\">' + '<ul class=\"se-list-basic\">';\n\n      for (var i = 0, len = templateList.length, t; i < len; i++) {\n        t = templateList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n    pickup: function pickup(e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      var temp = this.context.option.templates[e.target.getAttribute('data-value')];\n\n      if (temp.html) {\n        this.setContents(temp.html);\n      } else {\n        this.submenuOff();\n        throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function add(core, targetElement) {\n      var context = core.context;\n      context.textStyle = {\n        _styleList: null\n      };\n      /** set submenu */\n\n      var listDiv = this.setSubmenu.call(core);\n      var listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.textStyle._styleList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function setSubmenu() {\n      var option = this.context.option;\n      var listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      var defaultList = {\n        translucent: {\n          name: this.lang.menu.translucent,\n          style: 'opacity: 0.5;',\n          tag: 'span'\n        },\n        shadow: {\n          name: this.lang.menu.shadow,\n          class: '__se__t-shadow',\n          tag: 'span'\n        }\n      };\n      var styleList = !option.textStyles ? ['translucent', 'shadow'] : option.textStyles;\n      var list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n\n      for (var i = 0, len = styleList.length, t, tag, _name3, attrs, command, value, _class; i < len; i++) {\n        t = styleList[i];\n        attrs = '', value = '', command = [];\n\n        if (typeof t === 'string') {\n          var defaultStyle = defaultList[t.toLowerCase()];\n          if (!defaultStyle) continue;\n          t = defaultStyle;\n        }\n\n        _name3 = t.name;\n        tag = t.tag || 'span';\n        _class = t._class;\n\n        if (t.style) {\n          attrs += ' style=\"' + t.style + '\"';\n          value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n          command.push('style');\n        }\n\n        if (t.class) {\n          attrs += ' class=\"' + t.class + '\"';\n          value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n          command.push('class');\n        }\n\n        value = value.replace(/,$/, '');\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + _name3 + '\">' + '<' + tag + attrs + '>' + _name3 + '</' + tag + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @overriding submenu\n    */\n    on: function on() {\n      var util = this.util;\n      var textStyleContext = this.context.textStyle;\n      var styleButtonList = textStyleContext._styleList;\n      var selectionNode = this.getSelectionNode();\n\n      for (var i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n        btn = styleButtonList[i];\n        data = btn.getAttribute('data-value').split(',');\n\n        for (var v = 0, node, value; v < data.length; v++) {\n          node = selectionNode;\n          active = false;\n\n          while (!util.isFormatElement(node)) {\n            if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n              value = data[v];\n\n              if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                active = true;\n                break;\n              }\n            }\n\n            node = node.parentNode;\n          }\n\n          if (!active) break;\n        }\n\n        active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n      }\n    },\n    pickup: function pickup(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var target = e.target;\n      var command = null,\n          tag = null;\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      var checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n      checkStyles.pop();\n      var classes = tag.classList;\n\n      for (var i = 0, len = classes.length; i < len; i++) {\n        checkStyles.push('.' + classes[i]);\n      }\n\n      var newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n      var removeNodes = newNode ? null : [tag.nodeName];\n      this.nodeChange(newNode, checkStyles, removeNodes, true);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_1__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'image',\n    display: 'dialog',\n    add: function add(core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default.a]);\n      var context = core.context;\n      var contextImage = context.image = {\n        _imagesInfo: [],\n        _imageIndex: 0,\n        sizeUnit: context.option._imageSizeUnit,\n        _altText: '',\n        _linkElement: null,\n        _linkValue: '',\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _uploadFileLength: 0,\n        _xmlHttp: null,\n        // @overriding resizing properties\n        inputX: null,\n        inputY: null,\n        _container: null,\n        _cover: null,\n        _element: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: 'auto',\n        _defaultSizeY: 'auto',\n        _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n        _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n        _proportionChecked: true,\n        _resizing: context.option.imageResizing,\n        _resizeDotHide: !context.option.imageHeightShow,\n        _rotation: context.option.imageRotation,\n        _onlyPercentage: context.option.imageSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: true,\n        _captionChecked: false,\n        _caption: null,\n        captionCheckEl: null\n      };\n      /** image dialog */\n\n      var image_dialog = this.setDialog.call(core);\n      contextImage.modal = image_dialog;\n      contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n      contextImage.imgUrlFile = image_dialog.querySelector('.se-input-url');\n      contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n      contextImage.altText = image_dialog.querySelector('._se_image_alt');\n      contextImage.imgLink = image_dialog.querySelector('._se_image_link');\n      contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\n      contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n      /** add event listeners */\n\n      image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n      image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      image_dialog.querySelector('.se-dialog-files-remove').addEventListener('click', this._removeSelectedFiles.bind(core, contextImage.imgInputFile, contextImage.imgUrlFile));\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n      contextImage.proportion = {};\n      contextImage.inputX = {};\n      contextImage.inputY = {};\n\n      if (context.option.imageResizing) {\n        contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n        contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n        contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n        contextImage.inputX.value = context.option.imageWidth;\n        contextImage.inputY.value = context.option.imageHeight;\n        contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n        image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(image_dialog);\n      /** empty memory */\n\n      image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function setDialog() {\n      var option = this.context.option;\n      var lang = this.lang;\n      var dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      var html = '' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-tabs\">' + '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' + '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' + '</div>' + '<form class=\"editor_image\" method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_se_tab_content _se_tab_content_image\">' + '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n      if (option.imageFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" />' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.imageUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '</div>';\n      }\n\n      html += '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' + '</div>';\n\n      if (option.imageResizing) {\n        var onlyPercentage = option.imageSizeOnlyPercentage;\n        var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        var heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n        html += '<div class=\"se-dialog-form\">';\n\n        if (onlyPercentage || !option.imageHeightShow) {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' + '</div>';\n        } else {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' + '</div>';\n        }\n\n        html += '' + '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' + '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>';\n      }\n\n      html += '' + '<div class=\"se-dialog-form se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' + '</div>' + '</div>' + '</div>' + '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form _se_image_link\" type=\"text\" />' + '</div>' + '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function _fileInputChange() {\n      if (!this.imgInputFile.value) this.imgUrlFile.removeAttribute('disabled');else this.imgUrlFile.setAttribute('disabled', true);\n    },\n    _removeSelectedFiles: function _removeSelectedFiles(fileInput, urlInput) {\n      fileInput.value = '';\n      if (urlInput) urlInput.removeAttribute('disabled');\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function open() {\n      this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n    openTab: function openTab(e) {\n      var modal = this.context.image.modal;\n      var targetElement = e === 'init' ? modal.querySelector('._se_tab_link') : e.target;\n\n      if (!/^BUTTON$/i.test(targetElement.tagName)) {\n        return false;\n      } // Declare all variables\n\n\n      var tabName = targetElement.getAttribute('data-tab-link');\n      var contentClassName = '_se_tab_content';\n      var i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n      tabContent = modal.getElementsByClassName(contentClassName);\n\n      for (i = 0; i < tabContent.length; i++) {\n        tabContent[i].style.display = 'none';\n      } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n      tabLinks = modal.getElementsByClassName('_se_tab_link');\n\n      for (i = 0; i < tabLinks.length; i++) {\n        this.util.removeClass(tabLinks[i], 'active');\n      } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n      modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n      this.util.addClass(targetElement, 'active'); // focus\n\n      if (tabName === 'image' && this.context.image.focusElement) {\n        this.context.image.focusElement.focus();\n      } else if (tabName === 'url' && this.context.image.imgLink) {\n        this.context.image.imgLink.focus();\n      }\n\n      return false;\n    },\n    submitAction: function submitAction(fileList) {\n      if (fileList.length > 0) {\n        var fileSize = 0;\n        var files = [];\n\n        for (var i = 0, len = fileList.length; i < len; i++) {\n          if (/image/i.test(fileList[i].type)) {\n            files.push(fileList[i]);\n            fileSize += fileList[i].size;\n          }\n        }\n\n        var limitSize = this.context.option.imageUploadSizeLimit;\n\n        if (limitSize > 0) {\n          var infoSize = 0;\n          var imagesInfo = this.context.image._imagesInfo;\n\n          for (var _i20 = 0, _len15 = imagesInfo.length; _i20 < _len15; _i20++) {\n            infoSize += imagesInfo[_i20].size * 1;\n          }\n\n          if (fileSize + infoSize > limitSize) {\n            var err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + limitSize / 1000 + 'KB';\n\n            if (this._imageUploadError(err, {\n              'limitSize': limitSize,\n              'currentSize': infoSize,\n              'uploadSize': fileSize\n            })) {\n              this.functions.noticeOpen(err);\n            }\n\n            this.closeLoading();\n            return;\n          }\n        }\n\n        var contextImage = this.context.image;\n        contextImage._uploadFileLength = files.length;\n        var imageUploadUrl = this.context.option.imageUploadUrl;\n        var imageUploadHeader = this.context.option.imageUploadHeader;\n        var filesLen = this.context.dialog.updateModal ? 1 : files.length;\n        var info = {\n          linkValue: contextImage._linkValue,\n          linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\n          inputWidth: contextImage.inputX.value,\n          inputHeight: contextImage.inputY.value,\n          align: contextImage._align,\n          isUpdate: this.context.dialog.updateModal,\n          currentImage: contextImage._element\n        };\n        if (!this._imageUploadBefore(files, info)) return;\n\n        if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n          var formData = new FormData();\n\n          for (var _i21 = 0; _i21 < filesLen; _i21++) {\n            formData.append('file-' + _i21, files[_i21]);\n          }\n\n          contextImage._xmlHttp = this.util.getXMLHttpRequest();\n          contextImage._xmlHttp.onreadystatechange = this.plugins.image.callBack_imgUpload.bind(this, info);\n\n          contextImage._xmlHttp.open('post', imageUploadUrl, true);\n\n          if (imageUploadHeader !== null && typeof imageUploadHeader === 'object' && this._w.Object.keys(imageUploadHeader).length > 0) {\n            for (var key in imageUploadHeader) {\n              contextImage._xmlHttp.setRequestHeader(key, imageUploadHeader[key]);\n            }\n          }\n\n          contextImage._xmlHttp.send(formData);\n        } else {\n          for (var _i22 = 0; _i22 < filesLen; _i22++) {\n            this.plugins.image.setup_reader.call(this, files[_i22], info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, _i22, filesLen - 1);\n          }\n        }\n      }\n    },\n    onRender_imgInput: function onRender_imgInput() {\n      try {\n        this.plugins.image.submitAction.call(this, this.context.image.imgInputFile.files);\n      } catch (e) {\n        throw Error('[SUNEDITOR.imageUpload.fail] cause : \"' + e.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    setup_reader: function setup_reader(file, imgLinkValue, newWindowCheck, width, height, align, index, filesLen) {\n      var reader = new FileReader();\n\n      if (this.context.dialog.updateModal) {\n        this.context.image._element.setAttribute('data-file-name', file.name);\n\n        this.context.image._element.setAttribute('data-file-size', file.size);\n      }\n\n      reader.onload = function (update, updateElement, file) {\n        try {\n          this.context.image.inputX.value = width;\n          this.context.image.inputY.value = height;\n          if (update) this.plugins.image.update_src.call(this, reader.result, updateElement, file);else this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, width, height, align, file);\n          if (index === filesLen) this.closeLoading();\n        } catch (e) {\n          this.closeLoading();\n          throw Error('[SUNEDITOR.imageFileRendering.fail] cause : \"' + e.message + '\"');\n        }\n      }.bind(this, this.context.dialog.updateModal, this.context.image._element, file);\n\n      reader.readAsDataURL(file);\n    },\n    callBack_imgUpload: function callBack_imgUpload(info) {\n      if (this.context.image._xmlHttp.readyState === 4) {\n        if (this.context.image._xmlHttp.status === 200) {\n          if (!this._imageUploadHandler(this.context.image._xmlHttp, info)) {\n            var response = JSON.parse(this.context.image._xmlHttp.responseText);\n\n            if (response.errorMessage) {\n              if (this._imageUploadError(response.errorMessage, response.result)) {\n                this.functions.noticeOpen(response.errorMessage);\n              }\n            } else {\n              var fileList = response.result;\n\n              for (var i = 0, len = fileList.length, file; i < len; i++) {\n                file = {\n                  name: fileList[i].name,\n                  size: fileList[i].size\n                };\n                if (info.isUpdate) this.plugins.image.update_src.call(this, fileList[i].url, info.currentImage, file);else this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\n              }\n            }\n          }\n\n          this.closeLoading();\n        } // error\n        else {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.imageUpload.fail] status: ' + this.context.image._xmlHttp.status + ', responseText: ' + this.context.image._xmlHttp.responseText);\n          }\n      }\n    },\n    onRender_imgUrl: function onRender_imgUrl() {\n      var contextImage = this.context.image;\n      if (contextImage.imgUrlFile.value.trim().length === 0) return false;\n\n      try {\n        var file = {\n          name: contextImage.imgUrlFile.value.split('/').pop(),\n          size: 0\n        };\n        if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage.imgUrlFile.value, contextImage._element, file);else this.plugins.image.create_image.call(this, contextImage.imgUrlFile.value, contextImage._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      } catch (e) {\n        throw Error('[SUNEDITOR.imageURLRendering.fail] cause : \"' + e.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    onRender_link: function onRender_link(imgTag, imgLinkValue, newWindowCheck) {\n      if (imgLinkValue.trim().length > 0) {\n        var link = this.util.createElement('A');\n        link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n        link.target = newWindowCheck ? '_blank' : '';\n        link.setAttribute('data-image-link', 'image');\n        imgTag.setAttribute('data-image-link', imgLinkValue);\n        link.appendChild(imgTag);\n        return link;\n      }\n\n      return imgTag;\n    },\n\n    /**\n     * @overriding resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function setInputSize(xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setRatio: function setRatio() {\n      this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n    submit: function submit(e) {\n      var contextImage = this.context.image;\n      var imagePlugin = this.plugins.image;\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n      contextImage._linkValue = contextImage.imgLink.value;\n      contextImage._altText = contextImage.altText.value;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked;\n      if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n      try {\n        if (this.context.dialog.updateModal) {\n          imagePlugin.update_image.call(this, false, false, false);\n        }\n\n        if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n          imagePlugin.onRender_imgInput.call(this);\n        } else if (contextImage.imgUrlFile && contextImage.imgUrlFile.value.trim().length > 0) {\n          imagePlugin.onRender_imgUrl.call(this);\n        } else {\n          this.closeLoading();\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    setImagesInfo: function setImagesInfo(img, file) {\n      var _resize_plugin = this.context.resizing._resize_plugin;\n      this.context.resizing._resize_plugin = 'image';\n      var imagesInfo = this.context.image._imagesInfo;\n      var dataIndex = img.getAttribute('data-index');\n      var info = null;\n      var state = ''; // create\n\n      if (!dataIndex || this._componentsInfoInit) {\n        state = 'create';\n        dataIndex = this.context.image._imageIndex++;\n        img.setAttribute('data-index', dataIndex);\n        img.setAttribute('data-file-name', file.name);\n        img.setAttribute('data-file-size', file.size);\n        info = {\n          src: img.src,\n          index: dataIndex * 1,\n          name: file.name,\n          size: file.size\n        };\n        imagesInfo.push(info);\n      } else {\n        // update\n        state = 'update';\n        dataIndex *= 1;\n\n        for (var i = 0, len = imagesInfo.length; i < len; i++) {\n          if (dataIndex === imagesInfo[i].index) {\n            info = imagesInfo[i];\n            break;\n          }\n        }\n\n        if (!info) {\n          dataIndex = this.context.image._imageIndex++;\n          info = {\n            index: dataIndex\n          };\n          imagesInfo.push(info);\n        }\n\n        info.src = img.src;\n        info.name = img.getAttribute(\"data-file-name\");\n        info.size = img.getAttribute(\"data-file-size\") * 1;\n      } // method bind\n\n\n      info.element = img;\n      info.delete = this.plugins.image.destroy.bind(this, img);\n\n      info.select = function () {\n        img.scrollIntoView(true);\n\n        this._w.setTimeout(function () {\n          this.plugins.image.onModifyMode.call(this, img, this.plugins.resizing.call_controller_resize.call(this, img, 'image'));\n        }.bind(this));\n      }.bind(this);\n\n      if (!img.getAttribute('origin-size')) {\n        img.setAttribute('origin-size', img.naturalWidth + ',' + img.naturalHeight);\n      }\n\n      if (!img.getAttribute('data-origin')) {\n        var container = this.util.getParentElement(img, this.util.isMediaComponent);\n        var cover = this.util.getParentElement(img, 'FIGURE');\n\n        var w = this.plugins.resizing._module_getSizeX.call(this, this.context.image, img, cover, container);\n\n        var h = this.plugins.resizing._module_getSizeY.call(this, this.context.image, img, cover, container);\n\n        img.setAttribute('data-origin', w + ',' + h);\n        img.setAttribute('data-size', w + ',' + h);\n      }\n\n      if (!img.style.width) {\n        var size = (img.getAttribute('data-size') || img.getAttribute('data-origin') || '').split(',');\n        this.plugins.image.onModifyMode.call(this, img, null);\n        this.plugins.image.applySize.call(this, size[0] || this.context.option.imageWidth, size[1] || this.context.option.imageHeight);\n      }\n\n      this.context.resizing._resize_plugin = _resize_plugin;\n\n      this._imageUpload(img, dataIndex, state, info, --this.context.image._uploadFileLength < 0 ? 0 : this.context.image._uploadFileLength);\n    },\n\n    /**\n     * @overriding core\n     */\n    checkComponentInfo: function checkComponentInfo() {\n      var images = [].slice.call(this.context.element.wysiwyg.getElementsByTagName('IMG'));\n      var imagePlugin = this.plugins.image;\n      var imagesInfo = this.context.image._imagesInfo;\n\n      if (images.length === imagesInfo.length) {\n        // reset\n        if (this._componentsInfoReset) {\n          for (var i = 0, len = images.length, img; i < len; i++) {\n            img = images[i];\n            imagePlugin.setImagesInfo.call(this, img, {\n              'name': img.getAttribute('data-file-name') || img.src.split('/').pop(),\n              'size': img.getAttribute('data-file-size') || 0\n            });\n          }\n\n          return;\n        } else {\n          var infoUpdate = false;\n\n          var _loop2 = function _loop2(_info, _i23, _len16) {\n            _info = imagesInfo[_i23];\n\n            if (images.filter(function (img) {\n              info = _info;\n              return _info.src === img.src && _info.index.toString() === img.getAttribute('data-index');\n            }).length === 0) {\n              infoUpdate = true;\n              info = _info;\n              return \"break\";\n            }\n\n            info = _info;\n          };\n\n          for (var _i23 = 0, _len16 = imagesInfo.length, info; _i23 < _len16; _i23++) {\n            var _ret2 = _loop2(info, _i23, _len16);\n\n            if (_ret2 === \"break\") break;\n          } // pass\n\n\n          if (!infoUpdate) return;\n        }\n      } // check images\n\n\n      var _resize_plugin = this.context.resizing._resize_plugin;\n      this.context.resizing._resize_plugin = 'image';\n      var currentImages = [];\n      var infoIndex = [];\n\n      for (var _i24 = 0, _len17 = imagesInfo.length; _i24 < _len17; _i24++) {\n        infoIndex[_i24] = imagesInfo[_i24].index;\n      }\n\n      for (var _i25 = 0, _len18 = images.length, _img; _i25 < _len18; _i25++) {\n        _img = images[_i25];\n\n        if (!this.util.getParentElement(_img, this.util.isMediaComponent)) {\n          currentImages.push(this.context.image._imageIndex);\n          imagePlugin.onModifyMode.call(this, _img, null);\n          imagePlugin.openModify.call(this, true);\n          imagePlugin.update_image.call(this, true, false, true);\n        } else if (!_img.getAttribute('data-index') || infoIndex.indexOf(_img.getAttribute('data-index') * 1) < 0) {\n          currentImages.push(this.context.image._imageIndex);\n\n          _img.removeAttribute('data-index');\n\n          imagePlugin.setImagesInfo.call(this, _img, {\n            'name': _img.getAttribute('data-file-name') || _img.src.split('/').pop(),\n            'size': _img.getAttribute('data-file-size') || 0\n          });\n        } else {\n          currentImages.push(_img.getAttribute('data-index') * 1);\n        }\n      }\n\n      for (var _i26 = 0, dataIndex; _i26 < imagesInfo.length; _i26++) {\n        dataIndex = imagesInfo[_i26].index;\n        if (currentImages.indexOf(dataIndex) > -1) continue;\n        imagesInfo.splice(_i26, 1);\n\n        this._imageUpload(null, dataIndex, 'delete', null, 0);\n\n        _i26--;\n      }\n\n      this.context.resizing._resize_plugin = _resize_plugin;\n    },\n\n    /**\n     * @overriding core\n     */\n    resetComponentInfo: function resetComponentInfo() {\n      this.context.image._imagesInfo = [];\n      this.context.image._imageIndex = 0;\n    },\n    create_image: function create_image(src, linkValue, linkNewWindow, width, height, align, file) {\n      var contextImage = this.context.image;\n      this.context.resizing._resize_plugin = 'image';\n      var oImg = this.util.createElement('IMG');\n      oImg.src = src;\n      oImg.alt = contextImage._altText;\n      oImg = this.plugins.image.onRender_link.call(this, oImg, linkValue, linkNewWindow);\n      oImg.setAttribute('data-rotate', '0');\n\n      if (contextImage._resizing) {\n        oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n      }\n\n      var cover = this.plugins.resizing.set_cover.call(this, oImg);\n      var container = this.plugins.resizing.set_container.call(this, cover, 'se-image-container'); // caption\n\n      if (contextImage._captionChecked) {\n        contextImage._caption = this.plugins.resizing.create_caption.call(this);\n\n        contextImage._caption.setAttribute('contenteditable', false);\n\n        cover.appendChild(contextImage._caption);\n      }\n\n      contextImage._element = oImg;\n      contextImage._cover = cover;\n      contextImage._container = container; // set size\n\n      this.plugins.image.applySize.call(this, width, height); // align\n\n      this.plugins.image.setAlign.call(this, align, oImg, cover, container);\n      this.insertComponent(container, true);\n      this.plugins.image.setImagesInfo.call(this, oImg, file || {\n        'name': oImg.getAttribute('data-file-name') || oImg.src.split('/').pop(),\n        'size': oImg.getAttribute('data-file-size') || 0\n      });\n      this.context.resizing._resize_plugin = '';\n    },\n    update_image: function update_image(init, openController, notHistoryPush) {\n      var contextImage = this.context.image;\n      var linkValue = contextImage._linkValue;\n      var imageEl = contextImage._element;\n      var cover = contextImage._cover;\n      var container = contextImage._container;\n      var isNewContainer = false;\n\n      if (cover === null) {\n        isNewContainer = true;\n        imageEl = contextImage._element.cloneNode(true);\n        cover = this.plugins.resizing.set_cover.call(this, imageEl);\n      }\n\n      if (container === null) {\n        cover = cover.cloneNode(true);\n        imageEl = cover.querySelector('img');\n        isNewContainer = true;\n        container = this.plugins.resizing.set_container.call(this, cover, 'se-image-container');\n      } else if (isNewContainer) {\n        container.innerHTML = '';\n        container.appendChild(cover);\n      } // check size\n\n\n      var changeSize;\n      var x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n      var y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n      if (/%$/.test(imageEl.style.width)) {\n        changeSize = x !== container.style.width || y !== container.style.height;\n      } else {\n        changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n      } // alt\n\n\n      imageEl.alt = contextImage._altText; // caption\n\n      if (contextImage._captionChecked) {\n        if (!contextImage._caption) {\n          contextImage._caption = this.plugins.resizing.create_caption.call(this);\n          cover.appendChild(contextImage._caption);\n        }\n      } else {\n        if (contextImage._caption) {\n          this.util.removeItem(contextImage._caption);\n          contextImage._caption = null;\n        }\n      } // link\n\n\n      if (linkValue.trim().length > 0) {\n        if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\n          contextImage._linkElement.href = linkValue;\n          contextImage._linkElement.target = contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '';\n          imageEl.setAttribute('data-image-link', linkValue);\n        } else {\n          var newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n          cover.insertBefore(newEl, contextImage._caption);\n        }\n      } else if (contextImage._linkElement !== null) {\n        var imageElement = imageEl;\n        imageElement.setAttribute('data-image-link', '');\n\n        var _newEl = imageElement.cloneNode(true);\n\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(_newEl, contextImage._caption);\n        imageEl = _newEl;\n      }\n\n      if (isNewContainer) {\n        var existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n        existElement.parentNode.replaceChild(container, existElement);\n        imageEl = container.querySelector('img');\n        contextImage._element = imageEl;\n        contextImage._cover = cover;\n        contextImage._container = container;\n      } // transform\n\n\n      if (!contextImage._onlyPercentage && changeSize) {\n        if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n          if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n            this.plugins.resizing.resetTransform.call(this, imageEl);\n          } else {\n            this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n          }\n        }\n      } // size\n\n\n      var isPercent = false;\n\n      if (contextImage._resizing) {\n        imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n\n        if (changeSize) {\n          this.plugins.image.applySize.call(this);\n        }\n      } // align\n\n\n      if (!(isPercent && contextImage._align === 'center')) {\n        this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n      } // set imagesInfo\n\n\n      if (init) {\n        this.plugins.image.setImagesInfo.call(this, imageEl, {\n          'name': imageEl.getAttribute('data-file-name') || imageEl.src.split('/').pop(),\n          'size': imageEl.getAttribute('data-file-size') || 0\n        });\n      }\n\n      if (openController) {\n        this.plugins.image.init.call(this);\n        var size = this.plugins.resizing.call_controller_resize.call(this, imageEl, 'image');\n        this.plugins.image.onModifyMode.call(this, imageEl, size);\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(false);\n    },\n    update_src: function update_src(src, element, file) {\n      element.src = src;\n\n      this._w.setTimeout(this.plugins.image.setImagesInfo.bind(this, element, file));\n    },\n\n    /**\n     * @overriding resizing\n     */\n    onModifyMode: function onModifyMode(element, size) {\n      if (!element) return;\n      var contextImage = this.context.image;\n      contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n      contextImage._element = element;\n      contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n      contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n      contextImage._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextImage._element_w = size.w;\n        contextImage._element_h = size.h;\n        contextImage._element_t = size.t;\n        contextImage._element_l = size.l;\n      }\n\n      var userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n\n      if (userSize) {\n        userSize = userSize.split(',');\n        contextImage._origin_w = userSize[0];\n        contextImage._origin_h = userSize[1];\n      } else if (size) {\n        contextImage._origin_w = size.w;\n        contextImage._origin_h = size.h;\n      }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    openModify: function openModify(notOpen) {\n      var contextImage = this.context.image;\n      contextImage.imgUrlFile.value = contextImage._element.src;\n      contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n      contextImage._linkValue = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n      contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n      if (contextImage._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function on(update) {\n      var contextImage = this.context.image;\n\n      if (!update) {\n        contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        if (contextImage.imgInputFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextImage.imgInputFile) contextImage.imgInputFile.removeAttribute('multiple');\n      }\n    },\n    sizeRevert: function sizeRevert() {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n    applySize: function applySize(w, h) {\n      var contextImage = this.context.image;\n      if (!w) w = contextImage.inputX.value;\n      if (!h) h = contextImage.inputY.value;\n\n      if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.image.setAutoSize.call(this);\n      } else {\n        this.plugins.image.setSize.call(this, w, h, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setSize: function setSize(w, h, notResetPercentage, direction) {\n      var contextImage = this.context.image;\n      var onlyW = /^(rw|lw)$/.test(direction);\n      var onlyH = /^(th|bh)$/.test(direction);\n      this.plugins.image.cancelPercentAttr.call(this);\n      if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n      if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAutoSize: function setAutoSize() {\n      var contextImage = this.context.image;\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      contextImage._element.style.maxWidth = '';\n      contextImage._element.style.width = '';\n      contextImage._element.style.height = '';\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', 'auto,auto'); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setOriginSize: function setOriginSize() {\n      var contextImage = this.context.image;\n\n      contextImage._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      var originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n      var w = originSize[0];\n      var h = originSize[1];\n\n      if (originSize) {\n        if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.image.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.image.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n      }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setPercentSize: function setPercentSize(w, h) {\n      var contextImage = this.context.image;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || '';\n      var heightPercentage = /%$/.test(h);\n      contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextImage._container.style.height = '';\n      contextImage._cover.style.width = '100%';\n      contextImage._cover.style.height = !heightPercentage ? '' : h;\n      contextImage._element.style.width = '100%';\n      contextImage._element.style.height = heightPercentage ? '' : h;\n      contextImage._element.style.maxWidth = '';\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', w + ',' + h);\n\n      this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    cancelPercentAttr: function cancelPercentAttr() {\n      var contextImage = this.context.image;\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      contextImage._container.style.width = '';\n      contextImage._container.style.height = '';\n      this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n      this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAlign: function setAlign(align, element, cover, container) {\n      var contextImage = this.context.image;\n      if (!align) align = contextImage._align;\n      if (!element) element = contextImage._element;\n      if (!cover) cover = contextImage._cover;\n      if (!container) container = contextImage._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === 'auto' ? '' : element.style.width || '100%';\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextImage._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function resetAlign() {\n      var contextImage = this.context.image;\n\n      contextImage._element.setAttribute('data-align', '');\n\n      contextImage._align = 'none';\n      contextImage._cover.style.margin = '0';\n      this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    destroy: function destroy(element) {\n      var imageEl = element || this.context.image._element;\n      var imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n      var dataIndex = imageEl.getAttribute('data-index') * 1;\n      var focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n      var emptyDiv = imageContainer.parentNode;\n      this.util.removeItem(imageContainer);\n      this.plugins.image.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      if (dataIndex >= 0) {\n        var imagesInfo = this.context.image._imagesInfo;\n\n        for (var i = 0, len = imagesInfo.length; i < len; i++) {\n          if (dataIndex === imagesInfo[i].index) {\n            imagesInfo.splice(i, 1);\n\n            this._imageUpload(null, dataIndex, 'delete', null, 0);\n\n            return;\n          }\n        }\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function init() {\n      var contextImage = this.context.image;\n      if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n      if (contextImage.imgUrlFile) contextImage.imgUrlFile.value = '';\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgUrlFile.removeAttribute('disabled');\n      contextImage.altText.value = '';\n      contextImage.imgLink.value = '';\n      contextImage.imgLinkNewWindowCheck.checked = false;\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n      contextImage.captionCheckEl.checked = false;\n      contextImage._element = null;\n      this.plugins.image.openTab.call(this, 'init');\n\n      if (contextImage._resizing) {\n        contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        contextImage.proportion.checked = true;\n        contextImage._ratio = false;\n        contextImage._ratioX = 1;\n        contextImage._ratioY = 1;\n      }\n    }\n  };\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'link',\n    display: 'dialog',\n    add: function add(core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      var context = core.context;\n      context.link = {\n        focusElement: null,\n        linkNewWindowCheck: null,\n        linkAnchorText: null,\n        _linkAnchor: null\n      };\n      /** link dialog */\n\n      var link_dialog = this.setDialog.call(core);\n      context.link.modal = link_dialog;\n      context.link.focusElement = link_dialog.querySelector('._se_link_url');\n      context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\n      context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\n      /** link controller */\n\n      var link_controller = this.setController_LinkButton.call(core);\n      context.link.linkController = link_controller;\n      context.link._linkAnchor = null;\n      link_controller.addEventListener('mousedown', function (e) {\n        e.stopPropagation();\n      }, false);\n      /** add event listeners */\n\n      link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n      /** append html */\n\n      context.dialog.modal.appendChild(link_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(link_controller);\n      /** empty memory */\n\n      link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function setDialog() {\n      var lang = this.lang;\n      var dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form class=\"editor_link\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label>' + '<input class=\"se-input-form _se_link_url\" type=\"text\" />' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' + '</div>' + '<div class=\"se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function setController_LinkButton() {\n      var lang = this.lang;\n      var icons = this.icons;\n      var link_btn = this.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.unlink + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function open() {\n      this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n    submit: function submit(e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      var submitAction = function () {\n        if (this.context.link.focusElement.value.trim().length === 0) return false;\n        var contextLink = this.context.link;\n        var url = contextLink.focusElement.value;\n        var anchor = contextLink.linkAnchorText;\n        var anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n        if (!this.context.dialog.updateModal) {\n          var oA = this.util.createElement('A');\n          oA.href = url;\n          oA.textContent = anchorText;\n          oA.target = contextLink.linkNewWindowCheck.checked ? '_blank' : '';\n          var selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(oA);\n            this.insertNode(oFormat);\n          } else {\n            this.insertNode(oA);\n          }\n\n          this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n        } else {\n          contextLink._linkAnchor.href = url;\n          contextLink._linkAnchor.textContent = anchorText;\n          contextLink._linkAnchor.target = contextLink.linkNewWindowCheck.checked ? '_blank' : ''; // set range\n\n          var textNode = contextLink._linkAnchor.childNodes[0];\n          this.setRange(textNode, 0, textNode, textNode.textContent.length);\n        } // history stack\n\n\n        this.history.push(false);\n        contextLink.focusElement.value = '';\n        contextLink.linkAnchorText.value = '';\n      }.bind(this);\n\n      try {\n        submitAction();\n      } finally {\n        this.plugins.dialog.close.call(this);\n        this.closeLoading();\n        this.focus();\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function active(element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n          this.controllersOff();\n        }\n      } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n          this.plugins.link.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function on(update) {\n      if (!update) {\n        this.plugins.link.init.call(this);\n        this.context.link.linkAnchorText.value = this.getSelection().toString();\n      } else if (this.context.link._linkAnchor) {\n        this.context.dialog.updateModal = true;\n        this.context.link.focusElement.value = this.context.link._linkAnchor.href;\n        this.context.link.linkAnchorText.value = this.context.link._linkAnchor.textContent;\n        this.context.link.linkNewWindowCheck.checked = /_blank/i.test(this.context.link._linkAnchor.target) ? true : false;\n      }\n    },\n    call_controller: function call_controller(selectionATag) {\n      this.editLink = this.context.link._linkAnchor = selectionATag;\n      var linkBtn = this.context.link.linkController;\n      var link = linkBtn.querySelector('a');\n      link.href = selectionATag.href;\n      link.title = selectionATag.textContent;\n      link.textContent = selectionATag.textContent;\n      var offset = this.util.getOffset(selectionATag, this.context.element.wysiwygFrame);\n      linkBtn.style.top = offset.top + selectionATag.offsetHeight + 10 + 'px';\n      linkBtn.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      linkBtn.style.display = 'block';\n      var overLeft = this.context.element.wysiwygFrame.offsetWidth - (linkBtn.offsetLeft + linkBtn.offsetWidth);\n\n      if (overLeft < 0) {\n        linkBtn.style.left = linkBtn.offsetLeft + overLeft + 'px';\n        linkBtn.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        linkBtn.firstElementChild.style.left = '20px';\n      }\n\n      this.controllersOn(linkBtn, selectionATag, 'link');\n    },\n    onClick_linkController: function onClick_linkController(e) {\n      e.stopPropagation();\n      var command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        var contextLink = this.context.link;\n        contextLink.focusElement.value = contextLink._linkAnchor.href;\n        contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n        contextLink.linkNewWindowCheck.checked = /_blank/i.test(contextLink._linkAnchor.target) ? true : false;\n        this.plugins.dialog.open.call(this, 'link', true);\n      } else if (/unlink/.test(command)) {\n        var sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n        var ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        this.setRange(sc, 0, ec, ec.textContent.length);\n        this.nodeChange(null, null, ['A'], false);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.link._linkAnchor);\n        this.context.link._linkAnchor = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function init() {\n      var contextLink = this.context.link;\n      contextLink.linkController.style.display = 'none';\n      contextLink._linkAnchor = null;\n      contextLink.focusElement.value = '';\n      contextLink.linkAnchorText.value = '';\n      contextLink.linkNewWindowCheck.checked = false;\n    }\n  };\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_1__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'video',\n    display: 'dialog',\n    add: function add(core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default.a]);\n      var context = core.context;\n      var contextVideo = context.video = {\n        _videosInfo: [],\n        _videoIndex: 0,\n        sizeUnit: context.option._videoSizeUnit,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _youtubeQuery: context.option.youtubeQuery,\n        _videoRatio: context.option.videoRatio * 100 + '%',\n        _defaultRatio: context.option.videoRatio * 100 + '%',\n        // @overriding resizing properties\n        inputX: null,\n        inputY: null,\n        _container: null,\n        _cover: null,\n        _element: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: '100%',\n        _defaultSizeY: context.option.videoRatio * 100 + '%',\n        _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\n        _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\n        _proportionChecked: true,\n        _resizing: context.option.videoResizing,\n        _resizeDotHide: !context.option.videoHeightShow,\n        _rotation: context.option.videoRotation,\n        _onlyPercentage: context.option.videoSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: false\n      };\n      /** video dialog */\n\n      var video_dialog = this.setDialog.call(core);\n      contextVideo.modal = video_dialog;\n      contextVideo.focusElement = video_dialog.querySelector('._se_video_url');\n      /** add event listeners */\n\n      video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      contextVideo.proportion = {};\n      contextVideo.videoRatioOption = {};\n      contextVideo.inputX = {};\n      contextVideo.inputY = {};\n\n      if (context.option.videoResizing) {\n        contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n        contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n        contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n        contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n        contextVideo.inputX.value = context.option.videoWidth;\n        contextVideo.inputY.value = context.option.videoHeight;\n        contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n        video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(video_dialog);\n      /** empty memory */\n\n      video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function setDialog() {\n      var option = this.context.option;\n      var lang = this.lang;\n      var dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      var html = '' + '<form class=\"editor_video\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.url + '</label>' + '<input class=\"se-input-form _se_video_url\" type=\"text\" />' + '</div>';\n\n      if (option.videoResizing) {\n        var ratioList = option.videoRatioList || [{\n          name: '16:9',\n          value: 0.5625\n        }, {\n          name: '4:3',\n          value: 0.75\n        }, {\n          name: '21:9',\n          value: 0.4285\n        }];\n        var ratio = option.videoRatio;\n        var onlyPercentage = option.videoSizeOnlyPercentage;\n        var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        var heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n        var ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        var onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        html += '' + '<div class=\"se-dialog-form\">' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' + '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' + '</div>' + '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' + '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n        if (!heightDisplay) html += '<option value=\"\"> - </option>';\n\n        for (var i = 0, len = ratioList.length; i < len; i++) {\n          html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n        }\n\n        html += '</select>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>' + '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function open() {\n      this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    setVideoRatio: function setVideoRatio(e) {\n      var contextVideo = this.context.video;\n      var value = e.target.options[e.target.selectedIndex].value;\n      contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + '%';\n      contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n      contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @overriding resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function setInputSize(xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      var contextVideo = this.context.video;\n\n      this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n      if (xy === 'y') {\n        this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setRatio: function setRatio() {\n      this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n    submitAction: function submitAction() {\n      if (this.context.video.focusElement.value.trim().length === 0) return false;\n      this.context.resizing._resize_plugin = 'video';\n      var contextVideo = this.context.video;\n      var oIframe = null;\n      var cover = null;\n      var container = null;\n      var url = contextVideo.focusElement.value.trim();\n      contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n      /** iframe source */\n\n      if (/^<iframe.*\\/iframe>$/.test(url)) {\n        oIframe = new this._w.DOMParser().parseFromString(url, 'text/html').querySelector('iframe');\n      }\n      /** url */\n      else {\n          oIframe = this.util.createElement('IFRAME');\n          /** youtube */\n\n          if (/youtu\\.?be/.test(url)) {\n            if (!/^http/.test(url)) url = 'https://' + url;\n            url = url.replace('watch?v=', '');\n\n            if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n              url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n            }\n\n            if (contextVideo._youtubeQuery.length > 0) {\n              if (/\\?/.test(url)) {\n                var splitUrl = url.split('?');\n                url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n              } else {\n                url += '?' + contextVideo._youtubeQuery;\n              }\n            }\n          }\n\n          oIframe.src = url;\n        }\n\n      var init = false;\n      /** update */\n\n      if (this.context.dialog.updateModal) {\n        if (contextVideo._element.src !== oIframe.src) {\n          contextVideo._element.src = oIframe.src;\n          init = true;\n        }\n\n        container = contextVideo._container;\n        cover = this.util.getParentElement(contextVideo._element, 'FIGURE');\n        oIframe = contextVideo._element;\n      }\n      /** create */\n      else {\n          init = true;\n          oIframe.frameBorder = '0';\n          oIframe.allowFullscreen = true;\n          contextVideo._element = oIframe;\n          /** cover */\n\n          cover = this.plugins.resizing.set_cover.call(this, oIframe);\n          /** container */\n\n          container = this.plugins.resizing.set_container.call(this, cover, 'se-video-container');\n        }\n      /** rendering */\n\n\n      contextVideo._cover = cover;\n      contextVideo._container = container;\n\n      var inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (contextVideo.inputX.value || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (contextVideo.inputY.value || contextVideo._videoRatio);\n\n      var changeSize = !this.context.dialog.updateModal || inputUpdate;\n\n      if (contextVideo._resizing) {\n        this.context.video._proportionChecked = contextVideo.proportion.checked;\n        oIframe.setAttribute('data-proportion', contextVideo._proportionChecked);\n      } // size\n\n\n      var isPercent = false;\n\n      if (changeSize) {\n        isPercent = this.plugins.video.applySize.call(this);\n      } // align\n\n\n      if (!(isPercent && contextVideo._align === 'center')) {\n        this.plugins.video.setAlign.call(this, null, oIframe, cover, container);\n      }\n\n      if (!this.context.dialog.updateModal) {\n        this.insertComponent(container, false);\n      } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n        this.plugins.resizing.setTransformSize.call(this, oIframe, null, null);\n      }\n\n      if (init) {\n        this.plugins.video.setVideosInfo.call(this, oIframe);\n      }\n\n      this.context.resizing._resize_plugin = ''; // history stack\n\n      if (this.context.dialog.updateModal) {\n        this.history.push(false);\n      }\n    },\n    submit: function submit(e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        this.plugins.video.submitAction.call(this);\n      } finally {\n        this.plugins.dialog.close.call(this);\n        this.closeLoading();\n      }\n\n      this.focus();\n      return false;\n    },\n    _update_videoCover: function _update_videoCover(oIframe) {\n      if (!oIframe) return;\n      var contextVideo = this.context.video;\n      oIframe.frameBorder = '0';\n      oIframe.allowFullscreen = true;\n      var existElement = this.util.getParentElement(oIframe, this.util.isMediaComponent) || this.util.getParentElement(oIframe, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util));\n      contextVideo._element = oIframe = oIframe.cloneNode(false);\n      var cover = contextVideo._cover = this.plugins.resizing.set_cover.call(this, oIframe);\n      var container = contextVideo._container = this.plugins.resizing.set_container.call(this, cover, 'se-video-container');\n      var figcaption = existElement.querySelector('figcaption');\n      var caption = null;\n\n      if (!!figcaption) {\n        caption = this.util.createElement('DIV');\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      }\n\n      var size = (oIframe.getAttribute('data-size') || oIframe.getAttribute('data-origin') || '').split(',');\n      this.plugins.video.applySize.call(this, size[0] || this.context.option.videoWidth, size[1] || this.context.option.videoHeight);\n      existElement.parentNode.replaceChild(container, existElement);\n      if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      this.plugins.video.setVideosInfo.call(this, oIframe);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    onModifyMode: function onModifyMode(element, size) {\n      var contextVideo = this.context.video;\n      contextVideo._element = element;\n      contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n      contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextVideo._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextVideo._element_w = size.w;\n        contextVideo._element_h = size.h;\n        contextVideo._element_t = size.t;\n        contextVideo._element_l = size.l;\n      }\n\n      var origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n\n      if (origin) {\n        origin = origin.split(',');\n        contextVideo._origin_w = origin[0];\n        contextVideo._origin_h = origin[1];\n      } else if (size) {\n        contextVideo._origin_w = size.w;\n        contextVideo._origin_h = size.h;\n      }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    openModify: function openModify(notOpen) {\n      var contextVideo = this.context.video;\n      contextVideo.focusElement.value = contextVideo._element.src;\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n        var y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n        var ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n        if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function on(update) {\n      var contextVideo = this.context.video;\n\n      if (!update) {\n        contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.disabled = true;\n      }\n\n      if (contextVideo._resizing) {\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n      }\n    },\n    setVideoRatioSelect: function setVideoRatioSelect(value) {\n      var ratioSelected = false;\n      var contextVideo = this.context.video;\n      var ratioOptions = contextVideo.videoRatioOption.options;\n      if (/%$/.test(value) || contextVideo._onlyPercentage) value = this.util.getNumber(value, 2) / 100 + '';else if (!this.util.isNumber(value) || value * 1 >= 1) value = '';\n      contextVideo.inputY.placeholder = '';\n\n      for (var i = 0, len = ratioOptions.length; i < len; i++) {\n        if (ratioOptions[i].value === value) {\n          ratioSelected = ratioOptions[i].selected = true;\n          contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n        } else ratioOptions[i].selected = false;\n      }\n\n      return ratioSelected;\n    },\n    setVideosInfo: function setVideosInfo(frame) {\n      var _resize_plugin = this.context.resizing._resize_plugin;\n      this.context.resizing._resize_plugin = 'video';\n      var videosInfo = this.context.video._videosInfo;\n      var dataIndex = frame.getAttribute('data-index');\n      var info = null;\n      var state = ''; // create\n\n      if (!dataIndex || this._componentsInfoInit) {\n        state = 'create';\n        dataIndex = this.context.video._videoIndex++;\n        frame.setAttribute('data-index', dataIndex);\n        info = {\n          src: frame.src,\n          index: dataIndex * 1\n        };\n        videosInfo.push(info);\n      } else {\n        // update\n        state = 'update';\n        dataIndex *= 1;\n\n        for (var i = 0, len = videosInfo.length; i < len; i++) {\n          if (dataIndex === videosInfo[i].index) {\n            info = videosInfo[i];\n            break;\n          }\n        }\n\n        if (!info) {\n          dataIndex = this.context.video._videoIndex++;\n          info = {\n            index: dataIndex\n          };\n          videosInfo.push(info);\n        }\n\n        info.src = frame.src;\n      } // method bind\n\n\n      info.element = frame;\n      info.delete = this.plugins.video.destroy.bind(this, frame);\n\n      info.select = function () {\n        frame.scrollIntoView(true);\n\n        this._w.setTimeout(function () {\n          this.plugins.video.onModifyMode.call(this, frame, this.plugins.resizing.call_controller_resize.call(this, frame, 'video'));\n        }.bind(this));\n      }.bind(this);\n\n      if (!frame.getAttribute('data-origin')) {\n        var container = this.util.getParentElement(frame, this.util.isMediaComponent);\n        var cover = this.util.getParentElement(frame, 'FIGURE');\n\n        var w = this.plugins.resizing._module_getSizeX.call(this, this.context.video, frame, cover, container);\n\n        var h = this.plugins.resizing._module_getSizeY.call(this, this.context.video, frame, cover, container);\n\n        frame.setAttribute('data-origin', w + ',' + h);\n        frame.setAttribute('data-size', w + ',' + h);\n      }\n\n      if (!frame.style.width) {\n        var size = (frame.getAttribute('data-size') || frame.getAttribute('data-origin') || '').split(',');\n        this.plugins.video.onModifyMode.call(this, frame, null);\n        this.plugins.video.applySize.call(this, size[0] || this.context.option.videoWidth, size[1] || this.context.option.videoHeight);\n      }\n\n      this.context.resizing._resize_plugin = _resize_plugin;\n\n      this._videoUpload(frame, dataIndex, state, info, 0);\n    },\n\n    /**\n     * @overriding core\n     */\n    checkComponentInfo: function checkComponentInfo() {\n      var videos = [].slice.call(this.context.element.wysiwyg.getElementsByTagName('IFRAME'));\n      var videoPlugin = this.plugins.video;\n      var videosInfo = this.context.video._videosInfo;\n\n      if (videos.length === videosInfo.length) {\n        // reset\n        if (this._componentsInfoReset) {\n          for (var i = 0, len = videos.length, frame; i < len; i++) {\n            frame = videos[i];\n            videoPlugin.setVideosInfo.call(this, frame);\n          }\n\n          return;\n        } else {\n          var infoUpdate = false;\n\n          var _loop3 = function _loop3(_i27, _len19, _info3) {\n            _info3 = videosInfo[_i27];\n\n            if (videos.filter(function (frame) {\n              _info2 = _info3;\n              return _info3.src === frame.src && _info3.index.toString() === frame.getAttribute('data-index');\n            }).length === 0) {\n              infoUpdate = true;\n              _info2 = _info3;\n              return \"break\";\n            }\n\n            _info2 = _info3;\n          };\n\n          for (var _i27 = 0, _len19 = videosInfo.length, _info2; _i27 < _len19; _i27++) {\n            var _ret3 = _loop3(_i27, _len19, _info2);\n\n            if (_ret3 === \"break\") break;\n          } // pass\n\n\n          if (!infoUpdate) return;\n        }\n      }\n\n      var _resize_plugin = this.context.resizing._resize_plugin;\n      this.context.resizing._resize_plugin = 'video';\n      var currentVideos = [];\n      var infoIndex = [];\n\n      for (var _i28 = 0, _len20 = videosInfo.length; _i28 < _len20; _i28++) {\n        infoIndex[_i28] = videosInfo[_i28].index;\n      }\n\n      for (var _i29 = 0, _len21 = videos.length, video, container; _i29 < _len21; _i29++) {\n        video = videos[_i29];\n        container = this.util.getParentElement(video, this.util.isMediaComponent);\n\n        if (!container || container.getElementsByTagName('figcaption').length > 0) {\n          currentVideos.push(this.context.video._videoIndex);\n\n          videoPlugin._update_videoCover.call(this, video);\n        } else if (!video.getAttribute('data-index') || infoIndex.indexOf(video.getAttribute('data-index') * 1) < 0) {\n          currentVideos.push(this.context.video._videoIndex);\n          video.removeAttribute('data-index');\n          videoPlugin.setVideosInfo.call(this, video);\n        } else {\n          currentVideos.push(video.getAttribute('data-index') * 1);\n        }\n      }\n\n      for (var _i30 = 0, dataIndex; _i30 < videosInfo.length; _i30++) {\n        dataIndex = videosInfo[_i30].index;\n        if (currentVideos.indexOf(dataIndex) > -1) continue;\n        videosInfo.splice(_i30, 1);\n\n        this._videoUpload(null, dataIndex, 'delete', null, 0);\n\n        _i30--;\n      }\n\n      this.context.resizing._resize_plugin = _resize_plugin;\n    },\n\n    /**\n     * @overriding core\n     */\n    resetComponentInfo: function resetComponentInfo() {\n      this.context.video._videosInfo = [];\n      this.context.video._videoIndex = 0;\n    },\n    sizeRevert: function sizeRevert() {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n    applySize: function applySize(w, h) {\n      var contextVideo = this.context.video;\n      if (!w) w = contextVideo.inputX.value;\n      if (!h) h = contextVideo.inputY.value;\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n        this.plugins.video.setPercentSize.call(this, w || '100%', h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.video.setAutoSize.call(this);\n      } else {\n        this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setSize: function setSize(w, h, notResetPercentage, direction) {\n      var contextVideo = this.context.video;\n      var onlyW = /^(rw|lw)$/.test(direction);\n      var onlyH = /^(th|bh)$/.test(direction);\n      if (!onlyH) w = this.util.getNumber(w, 0);\n      if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n      if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n      if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n      if (!onlyH && !/%$/.test(w)) {\n        contextVideo._cover.style.width = '';\n        contextVideo._container.style.width = '';\n      }\n\n      if (!onlyW && !/%$/.test(h)) {\n        contextVideo._element.style.height = h;\n      } else {\n        contextVideo._element.style.height = '';\n      }\n\n      if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAutoSize: function setAutoSize() {\n      this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setOriginSize: function setOriginSize(dataSize) {\n      var contextVideo = this.context.video;\n\n      contextVideo._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n      this.plugins.video.cancelPercentAttr.call(this);\n      var originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n\n      if (originSize) {\n        var w = originSize[0];\n        var h = originSize[1];\n\n        if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.video.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.video.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n      }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setPercentSize: function setPercentSize(w, h) {\n      var contextVideo = this.context.video;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n      contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextVideo._container.style.height = '';\n      contextVideo._cover.style.width = '100%';\n      contextVideo._cover.style.height = h;\n      contextVideo._cover.style.paddingBottom = h;\n      contextVideo._element.style.width = '100%';\n      contextVideo._element.style.height = '100%';\n      contextVideo._element.style.maxWidth = '';\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n\n      contextVideo._element.setAttribute('data-percentage', w + ',' + h); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    cancelPercentAttr: function cancelPercentAttr() {\n      var contextVideo = this.context.video;\n      contextVideo._cover.style.width = '';\n      contextVideo._cover.style.height = '';\n      contextVideo._cover.style.paddingBottom = '';\n      contextVideo._container.style.width = '';\n      contextVideo._container.style.height = '';\n      this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n      this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAlign: function setAlign(align, element, cover, container) {\n      var contextVideo = this.context.video;\n      if (!align) align = contextVideo._align;\n      if (!element) element = contextVideo._element;\n      if (!cover) cover = contextVideo._cover;\n      if (!container) container = contextVideo._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n        cover.style.height = cover.style.height;\n        cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + '%';\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || '100%';\n        cover.style.paddingBottom = cover.style.height;\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextVideo._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function resetAlign() {\n      var contextVideo = this.context.video;\n\n      contextVideo._element.setAttribute('data-align', '');\n\n      contextVideo._align = 'none';\n      contextVideo._cover.style.margin = '0';\n      this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    destroy: function destroy(element) {\n      var frame = element || this.context.video._element;\n      var container = this.context.video._container;\n      var dataIndex = frame.getAttribute('data-index') * 1;\n      var focusEl = container.previousElementSibling || container.nextElementSibling;\n      var emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.video.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      if (dataIndex >= 0) {\n        var videosInfo = this.context.video._videosInfo;\n\n        for (var i = 0, len = videosInfo.length; i < len; i++) {\n          if (dataIndex === videosInfo[i].index) {\n            videosInfo.splice(i, 1);\n\n            this._videoUpload(null, dataIndex, 'delete', null, 0);\n\n            break;\n          }\n        }\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function init() {\n      var contextVideo = this.context.video;\n      contextVideo.focusElement.value = '';\n      contextVideo._origin_w = this.context.option.videoWidth;\n      contextVideo._origin_h = this.context.option.videoHeight;\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.checked = true;\n        contextVideo.proportion.disabled = true;\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n      }\n    }\n  };\n  /***/\n},\n/* 24 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * \n   * Danish translation by davidkonrad at github or gmail\n   *\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'da',\n      toolbar: {\n        default: 'Default',\n        save: 'Gem',\n        font: 'Skrifttype',\n        formats: 'Format',\n        fontSize: 'Skriftstørrelse',\n        bold: 'Fed',\n        underline: 'Understreget',\n        italic: 'Skråskrift',\n        strike: 'Overstreget',\n        subscript: 'Sænket skrift',\n        superscript: 'Hævet skrift',\n        removeFormat: 'Fjern formatering',\n        fontColor: 'Skriftfarve',\n        hiliteColor: 'Baggrundsfarve',\n        indent: 'Ryk ind',\n        outdent: 'Ryk ud',\n        align: 'Justering',\n        alignLeft: 'Venstrejustering',\n        alignRight: 'Højrejustering',\n        alignCenter: 'Midterjustering',\n        alignJustify: 'Tilpas margin',\n        list: 'Lister',\n        orderList: 'Nummereret liste',\n        unorderList: 'Uordnet liste',\n        horizontalRule: 'Horisontal linie',\n        hr_solid: 'Almindelig',\n        hr_dotted: 'Punkteret',\n        hr_dashed: 'Streget',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Math',\n        image: 'Billede',\n        video: 'Video',\n        fullScreen: 'Fuld skærm',\n        showBlocks: 'Vis blokke',\n        codeView: 'Vis koder',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'Print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Overskrift',\n        tag_blockquote: 'Citer',\n        tag_pre: 'Code',\n        template: 'Schablone',\n        lineHeight: 'Linjehøjde',\n        paragraphStyle: 'Afsnitstil',\n        textStyle: 'Tekststil'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Indsæt link',\n          url: 'URL til link',\n          text: 'Tekst for link',\n          newWindowCheck: 'Åben i nyt faneblad'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Matematisk notation',\n          fontSizeLabel: 'Skriftstørrelse',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Indsæt billede',\n          file: 'Indsæt fra fil',\n          url: 'Indsæt fra URL',\n          altText: 'Alternativ tekst'\n        },\n        videoBox: {\n          title: 'Indsæt Video',\n          url: 'Indlejr video / YouTube'\n        },\n        caption: 'Indsæt beskrivelse',\n        close: 'Luk',\n        submitButton: 'Gennemfør',\n        revertButton: 'Gendan',\n        proportion: 'Bevar proportioner',\n        basic: 'Basis',\n        left: 'Venstre',\n        right: 'Højre',\n        center: 'Center',\n        width: 'Bredde',\n        height: 'Højde',\n        size: 'Størrelse',\n        ratio: 'Forhold'\n      },\n      controller: {\n        edit: 'Rediger',\n        unlink: 'Fjern link',\n        remove: 'Fjern',\n        insertRowAbove: 'Indsæt række foroven',\n        insertRowBelow: 'Indsæt række nedenfor',\n        deleteRow: 'Slet række',\n        insertColumnBefore: 'Indsæt kolonne før',\n        insertColumnAfter: 'Indsæt kolonne efter',\n        deleteColumn: 'Slet kolonne',\n        fixedColumnWidth: 'Fast søjlebredde',\n        resize100: 'Forstør 100%',\n        resize75: 'Forstør 75%',\n        resize50: 'Forstør 50%',\n        resize25: 'Forstør 25%',\n        autoSize: 'Auto størrelse',\n        mirrorHorizontal: 'Spejling, horisontal',\n        mirrorVertical: 'Spejling, vertikal',\n        rotateLeft: 'Roter til venstre',\n        rotateRight: 'Toter til højre',\n        maxSize: 'Max størrelse',\n        minSize: 'Min størrelse',\n        tableHeader: 'Tabel overskrift',\n        mergeCells: 'Sammenlæg celler (merge)',\n        splitCells: 'Opdel celler',\n        HorizontalSplit: 'Opdel horisontalt',\n        VerticalSplit: 'Opdel vertikalt'\n      },\n      menu: {\n        spaced: 'Brev Afstand',\n        bordered: 'Afgrænsningslinje',\n        neon: 'Neon',\n        translucent: 'Gennemsigtig',\n        shadow: 'Skygge'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.da = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 25 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 @Gundolf68\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'de',\n      toolbar: {\n        default: 'Standard',\n        save: 'Speichern',\n        font: 'Schriftart',\n        formats: 'Format',\n        fontSize: 'Schriftgröße',\n        bold: 'Fett',\n        underline: 'Unterstrichen',\n        italic: 'Kursiv',\n        strike: 'Durchgestrichen',\n        subscript: 'Tiefgestellt',\n        superscript: 'Hochgestellt',\n        removeFormat: 'Format entfernen',\n        fontColor: 'Schriftfarbe',\n        hiliteColor: 'Farbe für Hervorhebungen',\n        indent: 'Einzug vergrößern',\n        outdent: 'Einzug verkleinern',\n        align: 'Ausrichtung',\n        alignLeft: 'Links ausrichten',\n        alignRight: 'Rechts ausrichten',\n        alignCenter: 'Zentriert ausrichten',\n        alignJustify: 'Blocksatz',\n        list: 'Liste',\n        orderList: 'Nummerierte Liste',\n        unorderList: 'Aufzählung',\n        horizontalRule: 'Horizontale Linie',\n        hr_solid: 'Strich',\n        hr_dotted: 'Gepunktet',\n        hr_dashed: 'Gestrichelt',\n        table: 'Tabelle',\n        link: 'Link',\n        math: 'Mathematik',\n        image: 'Bild',\n        video: 'Video',\n        fullScreen: 'Vollbild',\n        showBlocks: 'Blockformatierungen anzeigen',\n        codeView: 'Quelltext anzeigen',\n        undo: 'Rückgängig',\n        redo: 'Wiederholen',\n        preview: 'Vorschau',\n        print: 'Drucken',\n        tag_p: 'Absatz',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Zitat',\n        tag_pre: 'Quellcode',\n        template: 'Vorlage',\n        lineHeight: 'Zeilenhöhe',\n        paragraphStyle: 'Absatzstil',\n        textStyle: 'Textstil'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Link einfügen',\n          url: 'Link-URL',\n          text: 'Link-Text',\n          newWindowCheck: 'In neuem Fenster anzeigen'\n        },\n        mathBox: {\n          title: 'Mathematik',\n          inputLabel: 'Mathematische Notation',\n          fontSizeLabel: 'Schriftgröße',\n          previewLabel: 'Vorschau'\n        },\n        imageBox: {\n          title: 'Bild einfügen',\n          file: 'Datei auswählen',\n          url: 'Bild-URL',\n          altText: 'Alternativer Text'\n        },\n        videoBox: {\n          title: 'Video enfügen',\n          url: 'Video-URL, YouTube'\n        },\n        caption: 'Beschreibung eingeben',\n        close: 'Schließen',\n        submitButton: 'Übernehmen',\n        revertButton: 'Rückgängig',\n        proportion: 'Seitenverhältnis beibehalten',\n        basic: 'Standard',\n        left: 'Links',\n        right: 'Rechts',\n        center: 'Zentriert',\n        width: 'Breite',\n        height: 'Höhe',\n        size: 'Größe',\n        ratio: 'Verhältnis'\n      },\n      controller: {\n        edit: 'Bearbeiten',\n        unlink: 'Link entfernen',\n        remove: 'Löschen',\n        insertRowAbove: 'Zeile oberhalb einfügen',\n        insertRowBelow: 'Zeile unterhalb einfügen',\n        deleteRow: 'Zeile löschen',\n        insertColumnBefore: 'Spalte links einfügen',\n        insertColumnAfter: 'Spalte rechts einfügen',\n        deleteColumn: 'Spalte löschen',\n        fixedColumnWidth: 'Feste Spaltenbreite',\n        resize100: 'Zoom 100%',\n        resize75: 'Zoom 75%',\n        resize50: 'Zoom 50%',\n        resize25: 'Zoom 25%',\n        autoSize: 'Automatische Größenanpassung',\n        mirrorHorizontal: 'Horizontal spiegeln',\n        mirrorVertical: 'Vertikal spiegeln',\n        rotateLeft: 'Nach links drehen',\n        rotateRight: 'Nach rechts drehen',\n        maxSize: 'Maximale Größe',\n        minSize: 'Mindestgröße',\n        tableHeader: 'Tabellenüberschrift',\n        mergeCells: 'Zellen verbinden',\n        splitCells: 'Zellen teilen',\n        HorizontalSplit: 'Horizontal teilen',\n        VerticalSplit: 'Vertikal teilen'\n      },\n      menu: {\n        spaced: 'Buchstabenabstand',\n        bordered: 'Umrandet',\n        neon: 'Neon',\n        translucent: 'Durchscheinend',\n        shadow: 'Schatten'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.de = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 26 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'es',\n      toolbar: {\n        default: 'Valor por defecto',\n        save: 'Guardar',\n        font: 'Fuente',\n        formats: 'Formato',\n        fontSize: 'Tamaño de fuente',\n        bold: 'Negrita',\n        underline: 'Subrayado',\n        italic: 'Cursiva',\n        strike: 'Tachado',\n        subscript: 'Subíndice',\n        superscript: 'Superíndice',\n        removeFormat: 'Eliminar formato',\n        fontColor: 'Color de fuente',\n        hiliteColor: 'Color de resaltado',\n        indent: 'Más tabulación',\n        outdent: 'Menos tabulación',\n        align: 'Alinear',\n        alignLeft: 'Alinear a la izquierda',\n        alignRight: 'Alinear a la derecha',\n        alignCenter: 'Alinear al centro',\n        alignJustify: 'Justificar',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Línea horizontal solida',\n        hr_dotted: 'Línea horizontal punteada',\n        hr_dashed: 'Línea horizontal discontinua',\n        table: 'Tabla',\n        link: 'Link',\n        math: 'Matemáticas',\n        image: 'Imagen',\n        video: 'Video',\n        fullScreen: 'Pantalla completa',\n        showBlocks: 'Ver bloques',\n        codeView: 'Ver código fuente',\n        undo: 'UndoDeshacer última acción',\n        redo: 'Rehacer última acción',\n        preview: 'Vista previa',\n        print: 'Imprimir',\n        tag_p: 'Párrafo',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Cita',\n        tag_pre: 'Código',\n        template: 'Plantilla',\n        lineHeight: 'Altura de la línea',\n        paragraphStyle: 'Estilo del parrafo',\n        textStyle: 'Estilo del texto'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insertar Link',\n          url: '¿Hacia que URL lleva el link?',\n          text: 'Texto para mostrar',\n          newWindowCheck: 'Abrir en una nueva ventana'\n        },\n        mathBox: {\n          title: 'Matemáticas',\n          inputLabel: 'Notación Matemática',\n          fontSizeLabel: 'Tamaño de fuente',\n          previewLabel: 'Vista previa'\n        },\n        imageBox: {\n          title: 'Insertar imagen',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la imagen',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Insertar Video',\n          url: '¿URL del vídeo? Youtube'\n        },\n        caption: 'Insertar descripción',\n        close: 'Cerrar',\n        submitButton: 'Enviar',\n        revertButton: 'revertir',\n        proportion: 'Restringir las proporciones',\n        basic: 'Basico',\n        left: 'Izquierda',\n        right: 'derecha',\n        center: 'Centro',\n        width: 'Ancho',\n        height: 'Alto',\n        size: 'Tamaño',\n        ratio: 'Proporción'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Desvincular',\n        remove: 'RemoveQuitar',\n        insertRowAbove: 'Insertar fila arriba',\n        insertRowBelow: 'Insertar fila debajo',\n        deleteRow: 'Eliminar fila',\n        insertColumnBefore: 'Insertar columna antes',\n        insertColumnAfter: 'Insertar columna después',\n        deleteColumn: 'Eliminar columna',\n        fixedColumnWidth: 'Ancho de columna fijo',\n        resize100: 'Redimensionar 100%',\n        resize75: 'Redimensionar 75%',\n        resize50: 'Redimensionar 50%',\n        resize25: 'Redimensionar 25%',\n        autoSize: 'Tamaño automático',\n        mirrorHorizontal: 'Espejo, Horizontal',\n        mirrorVertical: 'Espejo, Vertical',\n        rotateLeft: 'Girar a la izquierda',\n        rotateRight: 'Girar a la derecha',\n        maxSize: 'Tamaño máximo',\n        minSize: 'Tamaño minímo',\n        tableHeader: 'Encabezado de tabla',\n        mergeCells: 'Combinar celdas',\n        splitCells: 'Dividir celdas',\n        HorizontalSplit: 'División horizontal',\n        VerticalSplit: 'División vertical'\n      },\n      menu: {\n        spaced: 'Espaciado',\n        bordered: 'Bordeado',\n        neon: 'Neón',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.es = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 27 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'fr',\n      toolbar: {\n        default: 'Défaut',\n        save: 'Sauvegarder',\n        font: 'Police',\n        formats: 'Formats',\n        fontSize: 'Taille',\n        bold: 'Gras',\n        underline: 'Souligné',\n        italic: 'Italique',\n        strike: 'Barré',\n        subscript: 'Indice',\n        superscript: 'Exposant',\n        removeFormat: 'Éffacer  le Formatage',\n        fontColor: 'Couleur du texte',\n        hiliteColor: 'Couleur en arrière plan',\n        indent: 'Indenter',\n        outdent: 'Désindenter',\n        align: 'Alignenement',\n        alignLeft: 'À gauche',\n        alignRight: 'À droite',\n        alignCenter: 'Centré',\n        alignJustify: 'Justifié',\n        list: 'Liste',\n        orderList: 'Ordonnée',\n        unorderList: 'Non-ordonnée',\n        horizontalRule: 'Ligne horizontale',\n        hr_solid: 'Solide',\n        hr_dotted: 'Points',\n        hr_dashed: 'Tirets',\n        table: 'Table',\n        link: 'Lien',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        fullScreen: 'Plein écran',\n        showBlocks: 'Voir les blocs',\n        codeView: 'Voir le code',\n        undo: 'Annuler',\n        redo: 'Rétablir',\n        preview: 'Previsualiser',\n        print: 'Imprimer',\n        tag_p: 'Paragraphe',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Titre',\n        tag_blockquote: 'Citation',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Hauteur de la ligne',\n        paragraphStyle: 'Style de paragraphe',\n        textStyle: 'Style de texte'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insérer un lien',\n          url: 'Adresse URL du lien',\n          text: 'Texte à afficher',\n          newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Notation mathématique',\n          fontSizeLabel: 'Taille',\n          previewLabel: 'Previsualiser'\n        },\n        imageBox: {\n          title: 'Insérer une image',\n          file: 'Sélectionner le fichier',\n          url: 'Adresse URL du fichier',\n          altText: 'Texte Alternatif'\n        },\n        videoBox: {\n          title: 'Insérer une Vidéo',\n          url: 'URL d’intégration du média, YouTube'\n        },\n        caption: 'Insérer une description',\n        close: 'Fermer',\n        submitButton: 'Appliquer',\n        revertButton: 'Revenir en arrière',\n        proportion: 'Maintenir le rapport hauteur/largeur',\n        basic: 'Basique',\n        left: 'Gauche',\n        right: 'Droite',\n        center: 'Centré',\n        width: 'Largeur',\n        height: 'Hauteur',\n        size: 'La taille',\n        ratio: 'Rapport'\n      },\n      controller: {\n        edit: 'Modifier',\n        unlink: 'Supprimer un lien',\n        remove: 'Effacer',\n        insertRowAbove: 'Insérer une ligne en dessous',\n        insertRowBelow: 'Insérer une ligne au dessus',\n        deleteRow: 'Effacer la ligne',\n        insertColumnBefore: 'Insérer une colonne avant',\n        insertColumnAfter: 'Insérer une colonne après',\n        deleteColumn: 'Effacer la colonne',\n        fixedColumnWidth: 'Largeur de colonne fixe',\n        resize100: 'Redimensionner à 100%',\n        resize75: 'Redimensionner à 75%',\n        resize50: 'Redimensionner à 50%',\n        resize25: 'Redimensionner à 25%',\n        autoSize: 'Taille automatique',\n        mirrorHorizontal: 'Mirroir, Horizontal',\n        mirrorVertical: 'Mirroir, Vertical',\n        rotateLeft: 'Rotation à gauche',\n        rotateRight: 'Rotation à droite',\n        maxSize: 'Taille max',\n        minSize: 'Taille min',\n        tableHeader: 'En-tête de table',\n        mergeCells: 'Fusionner les cellules',\n        splitCells: 'Diviser les Cellules',\n        HorizontalSplit: 'Scission horizontale',\n        VerticalSplit: 'Scission verticale'\n      },\n      menu: {\n        spaced: 'Espacement',\n        bordered: 'Ligne de démarcation',\n        neon: 'Néon',\n        translucent: 'Translucide',\n        shadow: 'L\\'ombre'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.fr = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 28 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'ja',\n      toolbar: {\n        default: 'デフォルト',\n        save: '保存',\n        font: 'フォント',\n        formats: '段落形式',\n        fontSize: 'サイズ',\n        bold: '太字',\n        underline: '下線',\n        italic: 'イタリック',\n        strike: '取り消し線',\n        subscript: '下付き',\n        superscript: '上付き',\n        removeFormat: '形式を削除',\n        fontColor: '文字色',\n        hiliteColor: '文字の背景色',\n        indent: 'インデント',\n        outdent: 'インデント',\n        align: 'ソート',\n        alignLeft: '左揃え',\n        alignRight: '右揃え',\n        alignCenter: '中央揃え',\n        alignJustify: '両端揃え',\n        list: 'リスト',\n        orderList: '数値ブリット',\n        unorderList: '円形ブリット',\n        horizontalRule: '水平線を挿入',\n        hr_solid: '実線',\n        hr_dotted: '点線',\n        hr_dashed: 'ダッシュ',\n        table: 'テーブル',\n        link: 'リンク',\n        math: '数学',\n        image: '画像',\n        video: '動画',\n        fullScreen: 'フルスクリーン',\n        showBlocks: 'ブロック表示',\n        codeView: 'HTMLの編集',\n        undo: '元に戻す',\n        redo: '再実行',\n        preview: 'プレビュー',\n        print: '印刷',\n        tag_p: '本文',\n        tag_div: '基本（DIV）',\n        tag_h: 'タイトル',\n        tag_blockquote: '引用',\n        tag_pre: 'コード',\n        template: 'テンプレート',\n        lineHeight: '行の高さ',\n        paragraphStyle: '段落スタイル',\n        textStyle: 'テキストスタイル'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'リンクの挿入',\n          url: 'インターネットアドレス',\n          text: '画面のテキスト',\n          newWindowCheck: '別ウィンドウで開く'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学表記',\n          fontSizeLabel: 'サイズ',\n          previewLabel: 'プレビュー'\n        },\n        imageBox: {\n          title: '画像の挿入',\n          file: 'ファイルの選択',\n          url: 'イメージアドレス',\n          altText: '置換文字列'\n        },\n        videoBox: {\n          title: '動画を挿入',\n          url: 'メディア埋め込まアドレス,YouTube'\n        },\n        caption: '説明付け',\n        close: '閉じる',\n        submitButton: '確認',\n        revertButton: '元に戻す',\n        proportion: 'の割合カスタマイズ',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '中央',\n        width: '横',\n        height: '縦',\n        size: 'サイズ',\n        ratio: '比率'\n      },\n      controller: {\n        edit: '編集',\n        unlink: 'リンク解除',\n        remove: '削除',\n        insertRowAbove: '上に行を挿入',\n        insertRowBelow: '下に行を挿入',\n        deleteRow: '行の削除',\n        insertColumnBefore: '左に列を挿入',\n        insertColumnAfter: '右に列を挿入',\n        deleteColumn: '列を削除する',\n        fixedColumnWidth: '固定列幅',\n        resize100: '100％ サイズ',\n        resize75: '75％ サイズ',\n        resize50: '50％ サイズ',\n        resize25: '25％ サイズ',\n        autoSize: '自動サイズ',\n        mirrorHorizontal: '左右反転',\n        mirrorVertical: '上下反転',\n        rotateLeft: '左に回転',\n        rotateRight: '右に回転',\n        maxSize: '最大サイズ',\n        minSize: '最小サイズ',\n        tableHeader: '表のヘッダー',\n        mergeCells: 'セルの結合',\n        splitCells: 'セルを分割',\n        HorizontalSplit: '横分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '文字間隔',\n        bordered: '境界線',\n        neon: 'ネオン',\n        translucent: '半透明',\n        shadow: '影'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.ja = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 29 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'ko',\n      toolbar: {\n        default: '기본값',\n        save: '저장',\n        font: '글꼴',\n        formats: '문단 형식',\n        fontSize: '크기',\n        bold: '굵게',\n        underline: '밑줄',\n        italic: '기울임',\n        strike: '취소선',\n        subscript: '아래 첨자',\n        superscript: '위 첨자',\n        removeFormat: '형식 제거',\n        fontColor: '글자색',\n        hiliteColor: '배경색',\n        indent: '들여쓰기',\n        outdent: '내어쓰기',\n        align: '정렬',\n        alignLeft: '왼쪽 정렬',\n        alignRight: '오른쪽 정렬',\n        alignCenter: '가운데 정렬',\n        alignJustify: '양쪽 정렬',\n        list: '리스트',\n        orderList: '숫자형 리스트',\n        unorderList: '원형 리스트',\n        horizontalRule: '가로 줄 삽입',\n        hr_solid: '실선',\n        hr_dotted: '점선',\n        hr_dashed: '대시',\n        table: '테이블',\n        link: '링크',\n        math: '수식',\n        image: '이미지',\n        video: '동영상',\n        fullScreen: '전체 화면',\n        showBlocks: '블록 보기',\n        codeView: 'HTML 편집',\n        undo: '실행 취소',\n        redo: '다시 실행',\n        preview: '미리보기',\n        print: '인쇄',\n        tag_p: '본문',\n        tag_div: '기본 (DIV)',\n        tag_h: '제목',\n        tag_blockquote: '인용문',\n        tag_pre: '코드',\n        template: '템플릿',\n        lineHeight: '줄 높이',\n        paragraphStyle: '문단 스타일',\n        textStyle: '글자 스타일'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '링크 삽입',\n          url: '인터넷 주소',\n          text: '화면 텍스트',\n          newWindowCheck: '새창으로 열기'\n        },\n        mathBox: {\n          title: '수식',\n          inputLabel: '수학적 표기법',\n          fontSizeLabel: '글자 크기',\n          previewLabel: '미리보기'\n        },\n        imageBox: {\n          title: '이미지 삽입',\n          file: '파일 선택',\n          url: '이미지 주소',\n          altText: '대체 문자열'\n        },\n        videoBox: {\n          title: '동영상 삽입',\n          url: '미디어 임베드 주소, 유튜브'\n        },\n        caption: '설명 넣기',\n        close: '닫기',\n        submitButton: '확인',\n        revertButton: '되돌리기',\n        proportion: '비율 맞춤',\n        basic: '기본',\n        left: '왼쪽',\n        right: '오른쪽',\n        center: '가운데',\n        width: '가로',\n        height: '세로',\n        size: '크기',\n        ratio: '비율'\n      },\n      controller: {\n        edit: '편집',\n        unlink: '링크 해제',\n        remove: '삭제',\n        insertRowAbove: '위에 행 삽입',\n        insertRowBelow: '아래에 행 삽입',\n        deleteRow: '행 삭제',\n        insertColumnBefore: '왼쪽에 열 삽입',\n        insertColumnAfter: '오른쪽에 열 삽입',\n        deleteColumn: '열 삭제',\n        fixedColumnWidth: '고정 된 열 너비',\n        resize100: '100% 크기',\n        resize75: '75% 크기',\n        resize50: '50% 크기',\n        resize25: '25% 크기',\n        autoSize: '자동 크기',\n        mirrorHorizontal: '좌우 반전',\n        mirrorVertical: '상하 반전',\n        rotateLeft: '왼쪽으로 회전',\n        rotateRight: '오른쪽으로 회전',\n        maxSize: '최대화',\n        minSize: '최소화',\n        tableHeader: '테이블 제목',\n        mergeCells: '셀 병합',\n        splitCells: '셀 분할',\n        HorizontalSplit: '가로 분할',\n        VerticalSplit: '세로 분할'\n      },\n      menu: {\n        spaced: '글자 간격',\n        bordered: '경계선',\n        neon: '네온',\n        translucent: '반투명',\n        shadow: '그림자'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.ko = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 30 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * Brazilian Portuguese translation by lpeil github\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'pt_br',\n      toolbar: {\n        default: 'Padrão',\n        save: 'Salvar',\n        font: 'Fonte',\n        formats: 'Formatos',\n        fontSize: 'Tamanho',\n        bold: 'Negrito',\n        underline: 'Sublinhado',\n        italic: 'Itálico',\n        strike: 'Riscado',\n        subscript: 'Subescrito',\n        superscript: 'Sobrescrito',\n        removeFormat: 'Remover Formatação',\n        fontColor: 'Cor da Fonte',\n        hiliteColor: 'Cor de destaque',\n        indent: 'Recuo',\n        outdent: 'Avançar',\n        align: 'Alinhar',\n        alignLeft: 'Alinhar à esquerda',\n        alignRight: 'Alinhar à direita',\n        alignCenter: 'Alinhar ao centro',\n        alignJustify: 'Alinhat justificado',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Linha horizontal',\n        hr_solid: 'solida',\n        hr_dotted: 'pontilhada',\n        hr_dashed: 'tracejada',\n        table: 'Tabela',\n        link: 'Link',\n        math: 'Matemática',\n        image: 'Imagem',\n        video: 'Vídeo',\n        fullScreen: 'Tela cheia',\n        showBlocks: 'Mostrar blocos',\n        codeView: 'Mostrar códigos',\n        undo: 'Voltar',\n        redo: 'Refazer',\n        preview: 'Prever',\n        print: 'imprimir',\n        tag_p: 'Paragráfo',\n        tag_div: '(DIV) Normal',\n        tag_h: 'Cabeçalho',\n        tag_blockquote: 'Citar',\n        tag_pre: 'Código',\n        template: 'Modelo',\n        lineHeight: 'Altura da linha',\n        paragraphStyle: 'Estilo do parágrafo',\n        textStyle: 'Estilo do texto'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserir link',\n          url: 'URL para link',\n          text: 'Texto à mostrar',\n          newWindowCheck: 'Abrir em nova guia'\n        },\n        mathBox: {\n          title: 'Matemática',\n          inputLabel: 'Notação matemática',\n          fontSizeLabel: 'Tamanho',\n          previewLabel: 'Prever'\n        },\n        imageBox: {\n          title: 'Inserir imagens',\n          file: 'Selecionar arquivos',\n          url: 'URL da imagem',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Inserir vídeo',\n          url: 'URL do YouTube'\n        },\n        caption: 'Inserir descrição',\n        close: 'Fechar',\n        submitButton: 'Enviar',\n        revertButton: 'Reverter',\n        proportion: 'restringir proporções',\n        basic: 'Básico',\n        left: 'Esquerda',\n        right: 'Direita',\n        center: 'Centro',\n        width: 'Largura',\n        height: 'Altura',\n        size: 'Tamanho',\n        ratio: 'Proporções'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Retirar link',\n        remove: 'Remover',\n        insertRowAbove: 'Inserir linha acima',\n        insertRowBelow: 'Inserir linha abaixo',\n        deleteRow: 'Deletar linha',\n        insertColumnBefore: 'Inserir coluna antes',\n        insertColumnAfter: 'Inserir coluna depois',\n        deleteColumn: 'Deletar coluna',\n        fixedColumnWidth: 'Largura fixa da coluna',\n        resize100: 'Redimensionar para 100%',\n        resize75: 'Redimensionar para 75%',\n        resize50: 'Redimensionar para 50%',\n        resize25: 'Redimensionar para 25%',\n        autoSize: 'Tamanho automático',\n        mirrorHorizontal: 'Espelho, Horizontal',\n        mirrorVertical: 'Espelho, Vertical',\n        rotateLeft: 'Girar para esquerda',\n        rotateRight: 'Girar para direita',\n        maxSize: 'Tam max',\n        minSize: 'Tam min',\n        tableHeader: 'Cabeçalho da tabela',\n        mergeCells: 'Mesclar células',\n        splitCells: 'Dividir células',\n        HorizontalSplit: 'Divisão horizontal',\n        VerticalSplit: 'Divisão vertical'\n      },\n      menu: {\n        spaced: 'Espaçado',\n        bordered: 'Com borda',\n        neon: 'Néon',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.pt_br = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 31 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'ru',\n      toolbar: {\n        default: 'По умолчанию',\n        save: 'Сохранить',\n        font: 'Гарнитура',\n        formats: 'Стиль абзаца',\n        fontSize: 'Кегль',\n        bold: 'Полужирный',\n        underline: 'Подчёркнутый',\n        italic: 'Курсив',\n        strike: 'Зачеркнутый',\n        subscript: 'Нижний индекс',\n        superscript: 'Верхний индекс',\n        removeFormat: 'Очистить форматирование',\n        fontColor: 'Цвет текста',\n        hiliteColor: 'Цвет фона',\n        indent: 'Увеличить отступ',\n        outdent: 'Уменьшить отступ',\n        align: 'Выравнивание',\n        alignLeft: 'Слева',\n        alignRight: 'Справа',\n        alignCenter: 'По центру',\n        alignJustify: 'По ширине',\n        list: 'Списки',\n        orderList: 'Нумерованный',\n        unorderList: 'Маркированный',\n        horizontalRule: 'Горизонтальная линия',\n        hr_solid: 'Сплошная',\n        hr_dotted: 'Пунктир',\n        hr_dashed: 'Штриховая',\n        table: 'Таблица',\n        link: 'Ссылка',\n        math: 'математический',\n        image: 'Изображение',\n        video: 'Видео',\n        fullScreen: 'Полный экран',\n        showBlocks: 'Блочный вид',\n        codeView: 'Редактировать HTML',\n        undo: 'Отменить',\n        redo: 'Вернуть',\n        preview: 'Предварительный просмотр',\n        print: 'Печать',\n        tag_p: 'Текст',\n        tag_div: 'Базовый',\n        tag_h: 'Заголовок',\n        tag_blockquote: 'Цитата',\n        tag_pre: 'Код',\n        template: 'Шаблон',\n        lineHeight: 'Высота линии',\n        paragraphStyle: 'Стиль абзаца',\n        textStyle: 'Стиль текста'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Вставить ссылку',\n          url: 'Ссылка',\n          text: 'Текст',\n          newWindowCheck: 'Открывать в новом окне'\n        },\n        mathBox: {\n          title: 'математический',\n          inputLabel: 'Математическая запись',\n          fontSizeLabel: 'Кегль',\n          previewLabel: 'Предварительный просмотр'\n        },\n        imageBox: {\n          title: 'Вставить изображение',\n          file: 'Выберите файл',\n          url: 'Адрес изображения',\n          altText: 'Текстовое описание изображения'\n        },\n        videoBox: {\n          title: 'Вставить видео',\n          url: 'Ссылка на видео'\n        },\n        caption: 'Добавить подпись',\n        close: 'Закрыть',\n        submitButton: 'Подтвердить',\n        revertButton: 'Сбросить',\n        proportion: 'Сохранить пропорции',\n        basic: 'Без обтекания',\n        left: 'Слева',\n        right: 'Справа',\n        center: 'По центру',\n        width: 'Ширина',\n        height: 'Высота',\n        size: 'Размер',\n        ratio: 'Соотношение'\n      },\n      controller: {\n        edit: 'Изменить',\n        unlink: 'Убрать ссылку',\n        remove: 'Удалить',\n        insertRowAbove: 'Вставить строку выше',\n        insertRowBelow: 'Вставить строку ниже',\n        deleteRow: 'Удалить строку',\n        insertColumnBefore: 'Вставить столбец слева',\n        insertColumnAfter: 'Вставить столбец справа',\n        deleteColumn: 'Удалить столбец',\n        fixedColumnWidth: 'Фиксированная ширина столбца',\n        resize100: 'Размер 100%',\n        resize75: 'Размер 75%',\n        resize50: 'Размер 50%',\n        resize25: 'Размер 25%',\n        autoSize: 'Авто размер',\n        mirrorHorizontal: 'Отразить по горизонтали',\n        mirrorVertical: 'Отразить по вертикали',\n        rotateLeft: 'Повернуть против часовой стрелки',\n        rotateRight: 'Повернуть по часовой стрелке',\n        maxSize: 'Ширина по размеру страницы',\n        minSize: 'Ширина по содержимому',\n        tableHeader: 'Строка заголовков',\n        mergeCells: 'Объединить ячейки',\n        splitCells: 'Разделить ячейку',\n        HorizontalSplit: 'Разделить горизонтально',\n        VerticalSplit: 'Разделить вертикально'\n      },\n      menu: {\n        spaced: 'интервал',\n        bordered: 'Граничная Линия',\n        neon: 'неон',\n        translucent: 'полупрозрачный',\n        shadow: 'Тень'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.ru = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 32 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    var lang = {\n      code: 'zh_cn',\n      toolbar: {\n        default: '默认',\n        save: '保存',\n        font: '字体',\n        formats: '格式',\n        fontSize: '字号',\n        bold: '粗体',\n        underline: '下划线',\n        italic: '斜体',\n        strike: '删除线',\n        subscript: '下标',\n        superscript: '上标',\n        removeFormat: '清除格式',\n        fontColor: '字体颜色',\n        hiliteColor: '背景颜色',\n        indent: '增加缩进',\n        outdent: '减少缩进',\n        align: '对齐方式',\n        alignLeft: '左对齐',\n        alignRight: '右对齐',\n        alignCenter: '居中',\n        alignJustify: '两端对齐',\n        list: '列表',\n        orderList: '有序列表',\n        unorderList: '无序列表',\n        horizontalRule: '水平线',\n        hr_solid: '实线',\n        hr_dotted: '点线',\n        hr_dashed: '虚线',\n        table: '表格',\n        link: '超链接',\n        math: '数学',\n        image: '图片',\n        video: '视频',\n        fullScreen: '全屏',\n        showBlocks: '显示块区域',\n        codeView: '代码视图',\n        undo: '撤消',\n        redo: '恢复',\n        preview: '预览',\n        print: '打印',\n        tag_p: '段落',\n        tag_div: '正文 (DIV)',\n        tag_h: '标题',\n        tag_blockquote: '引用',\n        tag_pre: '代码',\n        template: '模板',\n        lineHeight: '行高',\n        paragraphStyle: '段落样式',\n        textStyle: '文字样式'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '插入超链接',\n          url: '网址',\n          text: '字体',\n          newWindowCheck: '在新标签页中打开'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学符号',\n          fontSizeLabel: '字号',\n          previewLabel: '预览'\n        },\n        imageBox: {\n          title: '插入图片',\n          file: '上传图片',\n          url: '图片网址',\n          altText: '替换文字'\n        },\n        videoBox: {\n          title: '插入视频',\n          url: '嵌入网址'\n        },\n        caption: '标题',\n        close: '取消',\n        submitButton: '确定',\n        revertButton: '恢复',\n        proportion: '比例',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '居中',\n        width: '宽度',\n        height: '高度',\n        size: '尺寸',\n        ratio: '比'\n      },\n      controller: {\n        edit: '编辑',\n        unlink: '去除链接',\n        remove: '删除',\n        insertRowAbove: '在上方插入',\n        insertRowBelow: '在下方插入',\n        deleteRow: '删除行',\n        insertColumnBefore: '在左侧插入',\n        insertColumnAfter: '在右侧插入',\n        deleteColumn: '删除列',\n        fixedColumnWidth: '固定列宽',\n        resize100: '放大 100%',\n        resize75: '放大 75%',\n        resize50: '放大 50%',\n        resize25: '放大 25%',\n        mirrorHorizontal: '翻转左右',\n        mirrorVertical: '翻转上下',\n        rotateLeft: '向左旋转',\n        rotateRight: '向右旋转',\n        maxSize: '最大尺寸',\n        minSize: '最小尺寸',\n        tableHeader: '表格标题',\n        mergeCells: '合并单元格',\n        splitCells: '分割单元格',\n        HorizontalSplit: '水平分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '间隔开',\n        bordered: '边界线',\n        neon: '霓虹灯',\n        translucent: '半透明',\n        shadow: '阴影'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        window.SUNEDITOR_LANG = {};\n      }\n\n      window.SUNEDITOR_LANG.zh_cn = lang;\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 33 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = __webpack_require__(34);\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  module.exports = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n\n    ;\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n\n    ; // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  /***/\n\n},\n/* 34 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  module.exports = ReactPropTypesSecret;\n  /***/\n},\n/* 35 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // ESM COMPAT FLAG\n\n  __webpack_require__.r(__webpack_exports__); // EXPORTS\n\n\n  __webpack_require__.d(__webpack_exports__, \"buttonList\", function () {\n    return (\n      /* reexport */\n      buttonList_namespaceObject\n    );\n  }); // NAMESPACE OBJECT: ./misc/buttonList.js\n\n\n  var buttonList_namespaceObject = {};\n\n  __webpack_require__.r(buttonList_namespaceObject);\n\n  __webpack_require__.d(buttonList_namespaceObject, \"basic\", function () {\n    return basic;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"complex\", function () {\n    return complex;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"formatting\", function () {\n    return formatting;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"default\", function () {\n    return buttonList;\n  }); // CONCATENATED MODULE: ./misc/buttonList.js\n\n\n  var basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\n  var complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\n  var formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n  /* harmony default export */\n\n  var buttonList = {\n    basic: basic,\n    complex: complex,\n    formatting: formatting\n  }; // EXTERNAL MODULE: external \"react\"\n\n  var external_react_ = __webpack_require__(5);\n\n  var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_); // CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2020 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var defaultIcons = {\n    redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n    undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n    bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n    underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n    italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n    strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n    subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n    superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n    erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n    indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n    preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n    print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n    template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n    line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n    paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n    text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n    save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n    arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n    align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n    highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n    table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n    show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n    cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n    video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n    link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n    unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n    edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n    auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n    insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n    insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n    insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n    delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n    delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n    fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n    rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n    rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n    mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n    mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n    checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n    line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 21L14.9 3H17L9.1 21H7Z\" /></svg>',\n    // Not currently used\n    attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n    map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n    magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n    empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>',\n    more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n    more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>'\n  }; // EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\n\n  var en = __webpack_require__(2);\n\n  var en_default = /*#__PURE__*/__webpack_require__.n(en); // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description utility function\r\n   */\n\n\n  var util_util = {\n    _d: document,\n    _w: window,\n    isIE: window.navigator.userAgent.match(/(MSIE|Trident.*rv[ :])([0-9]+)/) !== null,\n    isIE_Edge: window.navigator.userAgent.match(/(MSIE|Trident.*rv[ :])([0-9]+)/) !== null || window.navigator.appVersion.indexOf('Edge') > -1,\n\n    /**\r\n     * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n     * @param {String} text \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _tagConvertor: function _tagConvertor(text) {\n      var ec = {\n        'b': 'strong',\n        'i': 'em',\n        'ins': 'u',\n        'strike': 'del',\n        's': 'del'\n      };\n      return text.replace(/(<\\/?)(b|strong|i|em|ins|u|s|strike|del)\\b\\s*(?:[^>^<]+)?\\s*(?=>)/ig, function (m, t, n) {\n        return t + (typeof ec[n] === 'string' ? ec[n] : n);\n      });\n    },\n\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _HTMLConvertor: function _HTMLConvertor(contents) {\n      var ec = {\n        '&': '&amp;',\n        \"\\xA0\": '&nbsp;',\n        '\\'': '&quot;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      return contents.replace(/&|\\u00A0|'|<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\n    zeroWidthSpace: \"\\u200B\",\n\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\n\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\n\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\n    onlyZeroWidthSpace: function onlyZeroWidthSpace(text) {\n      if (typeof text !== 'string') text = text.textContent;\n      return text === '' || this.onlyZeroWidthRegExp.test(text);\n    },\n\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\n    getXMLHttpRequest: function getXMLHttpRequest() {\n      /** IE */\n      if (this._w.ActiveXObject) {\n        try {\n          return new ActiveXObject('Msxml2.XMLHTTP');\n        } catch (e) {\n          try {\n            return new ActiveXObject('Microsoft.XMLHTTP');\n          } catch (e1) {\n            return null;\n          }\n        }\n      }\n      /** netscape */\n      else if (this._w.XMLHttpRequest) {\n          return new XMLHttpRequest();\n        }\n        /** fail */\n        else {\n            return null;\n          }\n    },\n\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\n    createElement: function createElement(elementName) {\n      return this._d.createElement(elementName);\n    },\n\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\n    createTextNode: function createTextNode(text) {\n      return this._d.createTextNode(text || '');\n    },\n\n    /**\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\n    getIncludePath: function getIncludePath(nameArray, extension) {\n      var path = '';\n      var pathList = [];\n      var tagName = extension === 'js' ? 'script' : 'link';\n      var src = extension === 'js' ? 'src' : 'href';\n      var fileName = '(?:';\n\n      for (var i = 0, len = nameArray.length; i < len; i++) {\n        fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\n      }\n\n      var regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n      var extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n\n      for (var c = this._d.getElementsByTagName(tagName), _i31 = 0; _i31 < c.length; _i31++) {\n        if (extRegExp.test(c[_i31][src])) {\n          pathList.push(c[_i31]);\n        }\n      }\n\n      for (var _i32 = 0; _i32 < pathList.length; _i32++) {\n        var editorTag = pathList[_i32][src].match(regExp);\n\n        if (editorTag) {\n          path = editorTag[0];\n          break;\n        }\n      }\n\n      if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\n      -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n      if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\n      return path;\n    },\n\n    /**\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\n    getPageStyle: function getPageStyle(doc) {\n      var cssText = '';\n      var sheets = (doc || this._d).styleSheets;\n\n      for (var i = 0, len = sheets.length, rules; i < len; i++) {\n        try {\n          rules = sheets[i].cssRules;\n        } catch (e) {\n          continue;\n        }\n\n        for (var c = 0, cLen = rules.length; c < cLen; c++) {\n          cssText += rules[c].cssText;\n        }\n      }\n\n      return cssText;\n    },\n\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\n    getIframeDocument: function getIframeDocument(iframe) {\n      var wDocument = iframe.contentWindow || iframe.contentDocument;\n      if (wDocument.document) wDocument = wDocument.document;\n      return wDocument;\n    },\n\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\n    getAttributesToString: function getAttributesToString(element, exceptAttrs) {\n      if (!element.attributes) return '';\n      var attrs = element.attributes;\n      var attrString = '';\n\n      for (var i = 0, len = attrs.length; i < len; i++) {\n        if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n        attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n      }\n\n      return attrString;\n    },\n\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\n    getByteLength: function getByteLength(text) {\n      var encoder = this._w.encodeURIComponent;\n      var cr, cl;\n\n      if (this.isIE_Edge) {\n        cl = this._w.unescape(encoder(text.toString())).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      } else {\n        cl = new this._w.TextEncoder('utf-8').encode(text.toString()).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      }\n    },\n\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isWysiwygDiv: function isWysiwygDiv(element) {\n      if (element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName))) return true;\n      return false;\n    },\n\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isTextStyleElement: function isTextStyleElement(element) {\n      return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI)\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFormatElement: function isFormatElement(element) {\n      return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TD|TH)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD)\r\n     * * Range format element is wrap the format element  (util.isFormatElement)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isRangeFormatElement: function isRangeFormatElement(element) {\n      return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE)\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * Free format elements is included in the format element.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFreeFormatElement: function isFreeFormatElement(element) {\n      return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(element className - \".se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isComponent: function isComponent(element) {\n      return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(element className - \".se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isMediaComponent: function isMediaComponent(element) {\n      return element && /se-component/.test(element.className);\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFormatElement: function getFormatElement(element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function validation() {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element)) element.firstElementChild;\n        if (this.isFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getRangeFormatElement: function getRangeFormatElement(element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function validation() {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFreeFormatElement: function getFreeFormatElement(element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function validation() {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyTagAttributes: function copyTagAttributes(originEl, copyEl) {\n      if (copyEl.style.cssText) {\n        originEl.style.cssText += copyEl.style.cssText;\n      }\n\n      var classes = copyEl.classList;\n\n      for (var i = 0, len = classes.length; i < len; i++) {\n        this.addClass(originEl, classes[i]);\n      }\n\n      if (!originEl.style.cssText) originEl.removeAttribute('style');\n      if (!originEl.className.trim()) originEl.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyFormatAttributes: function copyFormatAttributes(originEl, copyEl) {\n      copyEl = copyEl.cloneNode(false);\n      copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\n      this.copyTagAttributes(originEl, copyEl);\n    },\n\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Object}\r\n     */\n    getArrayItem: function getArrayItem(array, validation, multi) {\n      if (!array || array.length === 0) return null;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      var arr = [];\n\n      for (var i = 0, len = array.length, a; i < len; i++) {\n        a = array[i];\n\n        if (validation(a)) {\n          if (!multi) return a;else arr.push(a);\n        }\n      }\n\n      return !multi ? null : arr;\n    },\n\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\n    getArrayIndex: function getArrayIndex(array, element) {\n      var idx = -1;\n\n      for (var i = 0, len = array.length; i < len; i++) {\n        if (array[i] === element) {\n          idx = i;\n          break;\n        }\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    nextIdx: function nextIdx(array, item) {\n      var idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx + 1;\n    },\n\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    prevIdx: function prevIdx(array, item) {\n      var idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx - 1;\n    },\n\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\n    getPositionIndex: function getPositionIndex(node) {\n      var idx = 0;\n\n      while (node = node.previousSibling) {\n        idx += 1;\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\n    getNodePath: function getNodePath(node, parentNode, _newOffsets) {\n      var path = [];\n      var finds = true;\n      this.getParentElement(node, function (el) {\n        if (el === parentNode) finds = false;\n\n        if (finds && !this.isWysiwygDiv(el)) {\n          // merge text nodes\n          if (_newOffsets && el.nodeType === 3) {\n            var temp = null,\n                tempText = null;\n            _newOffsets.s = _newOffsets.e = 0;\n            var previous = el.previousSibling;\n\n            while (previous && previous.nodeType === 3) {\n              tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.s += tempText.length;\n              el.textContent = tempText + el.textContent;\n              temp = previous;\n              previous = previous.previousSibling;\n              this.removeItem(temp);\n            }\n\n            var next = el.nextSibling;\n\n            while (next && next.nodeType === 3) {\n              tempText = next.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.e += tempText.length;\n              el.textContent += tempText;\n              temp = next;\n              next = next.nextSibling;\n              this.removeItem(temp);\n            }\n          } // index push\n\n\n          path.push(el);\n        }\n\n        return false;\n      }.bind(this));\n      return path.map(this.getPositionIndex).reverse();\n    },\n\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\n    getNodeFromPath: function getNodeFromPath(offsets, parentNode) {\n      var current = parentNode;\n      var nodes;\n\n      for (var i = 0, len = offsets.length; i < len; i++) {\n        nodes = current.childNodes;\n        if (nodes.length === 0) break;\n\n        if (nodes.length <= offsets[i]) {\n          current = nodes[nodes.length - 1];\n        } else {\n          current = nodes[offsets[i]];\n        }\n      }\n\n      return current;\n    },\n\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\n    isSameAttributes: function isSameAttributes(a, b) {\n      if (a.nodeType === 3 && b.nodeType === 3) return true;\n      if (a.nodeType === 3 || b.nodeType === 3) return false;\n      var style_a = a.style;\n      var style_b = b.style;\n      var compStyle = 0;\n\n      for (var i = 0, len = style_a.length; i < len; i++) {\n        if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n      }\n\n      var class_a = a.classList;\n      var class_b = b.classList;\n      var reg = this._w.RegExp;\n      var compClass = 0;\n\n      for (var _i33 = 0, _len22 = class_a.length; _i33 < _len22; _i33++) {\n        if (reg('(\\s|^)' + class_a[_i33] + '(\\s|$)').test(class_b.value)) compClass++;\n      }\n\n      return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n    },\n\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isList: function isList(node) {\n      return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isListCell: function isListCell(node) {\n      return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isTable: function isTable(node) {\n      return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isCell: function isCell(node) {\n      return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isBreak: function isBreak(node) {\n      return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isAnchor: function isAnchor(node) {\n      return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isMedia: function isMedia(node) {\n      return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\n    isNumber: function isNumber(text) {\n      return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\n    },\n\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\n    getNumber: function getNumber(text, maxDec) {\n      if (!text) return null;\n      var number = (text + '').match(/-?\\d+(\\.\\d+)?/);\n      if (!number || !number[0]) return null;\n      number = number[0];\n      return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n    },\n\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildren: function getListChildren(element, validation) {\n      var children = [];\n      if (!element || !element.children || element.children.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (var i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildNodes: function getListChildNodes(element, validation) {\n      var children = [];\n      if (!element || element.childNodes.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (var i = 0, len = current.childNodes.length; i < len; i++) {\n          recursionFunc(current.childNodes[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\n    getElementDepth: function getElementDepth(element) {\n      if (!element || this.isWysiwygDiv(element)) return -1;\n      var depth = 0;\n      element = element.parentNode;\n\n      while (element && !this.isWysiwygDiv(element)) {\n        depth += 1;\n        element = element.parentNode;\n      }\n\n      return depth;\n    },\n\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getParentElement: function getParentElement(element, query) {\n      var check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        var attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + query + '$';\n        }\n\n        var regExp = new this._w.RegExp(query, 'i');\n\n        check = function check(el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      while (element && !check(element)) {\n        if (this.isWysiwygDiv(element)) {\n          return null;\n        }\n\n        element = element.parentNode;\n      }\n\n      return element;\n    },\n\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getChildElement: function getChildElement(element, query, last) {\n      var check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        var attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + (query === 'text' ? '#' + query : query) + '$';\n        }\n\n        var regExp = new this._w.RegExp(query, 'i');\n\n        check = function check(el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      var childList = this.getListChildNodes(element, function (current) {\n        return check(current);\n      });\n      return childList[last ? childList.length - 1 : 0];\n    },\n\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\n    getEdgeChildNodes: function getEdgeChildNodes(first, last) {\n      if (!first) return;\n      if (!last) last = first;\n\n      while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) {\n        first = first.firstChild;\n      }\n\n      while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) {\n        last = last.lastChild;\n      }\n\n      return {\n        sc: first,\n        ec: last || first\n      };\n    },\n\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\n    getOffset: function getOffset(element, wysiwygFrame) {\n      var offsetLeft = 0;\n      var offsetTop = 0;\n      var offsetElement = element.nodeType === 3 ? element.parentElement : element;\n      var wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n      while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\n        offsetLeft += offsetElement.offsetLeft;\n        offsetTop += offsetElement.offsetTop;\n        offsetElement = offsetElement.offsetParent;\n      }\n\n      var iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n      return {\n        left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n        top: offsetTop - wysiwyg.scrollTop + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n      };\n    },\n\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\n    getOverlapRangeAtIndex: function getOverlapRangeAtIndex(aStart, aEnd, bStart, bEnd) {\n      if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n      var overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n      return (overlap < 0 ? overlap * -1 : overlap) + 1;\n    },\n\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\n    changeTxt: function changeTxt(element, txt) {\n      if (!element || !txt) return;\n      element.textContent = txt;\n    },\n\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\n    changeElement: function changeElement(element, newElement) {\n      if (typeof newElement === 'string') {\n        if (element.outerHTML) {\n          element.outerHTML = newElement;\n        } else {\n          var doc = this.createElement('DIV');\n          doc.innerHTML = newElement;\n          newElement = doc.firstChild;\n          element.parentNode.replaceChild(newElement, element);\n        }\n      } else if (newElement.nodeType === 1) {\n        element.parentNode.replaceChild(newElement, element);\n      }\n    },\n\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\n    setStyle: function setStyle(element, styleName, value) {\n      element.style[styleName] = value;\n\n      if (!value && !element.style.cssText) {\n        element.removeAttribute('style');\n      }\n    },\n\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\n    hasClass: function hasClass(element, className) {\n      if (!element) return;\n      return new this._w.RegExp(className).test(element.className);\n    },\n\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\n    addClass: function addClass(element, className) {\n      if (!element) return;\n      var check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      if (check.test(element.className)) return;\n      element.className += (element.className.length > 0 ? ' ' : '') + className;\n    },\n\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\n    removeClass: function removeClass(element, className) {\n      if (!element) return;\n      var check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      element.className = element.className.replace(check, ' ').trim();\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\n    toggleClass: function toggleClass(element, className) {\n      if (!element) return;\n      var check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\n      if (check.test(element.className)) {\n        element.className = element.className.replace(check, ' ').trim();\n      } else {\n        element.className += ' ' + className;\n      }\n\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\n    toggleDisabledButtons: function toggleDisabledButtons(disabled, buttonList) {\n      for (var i = 0, len = buttonList.length; i < len; i++) {\n        buttonList[i].disabled = disabled;\n      }\n    },\n\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\n    removeItem: function removeItem(item) {\n      if (!item) return;\n\n      try {\n        item.remove();\n      } catch (e) {\n        item.parentNode.removeChild(item);\n      }\n    },\n\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\n    removeItemAllParents: function removeItemAllParents(item, validation, stopParent) {\n      if (!item) return null;\n      var cc = null;\n\n      if (!validation) {\n        validation = function (current) {\n          if (current === stopParent || this.isComponent(current)) return false;\n          var text = current.textContent.trim();\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(this);\n      }\n\n      (function recursionFunc(element) {\n        if (!util_util.isWysiwygDiv(element)) {\n          var parent = element.parentNode;\n\n          if (parent && validation(element)) {\n            cc = {\n              sc: element.previousElementSibling,\n              ec: element.nextElementSibling\n            };\n            util_util.removeItem(element);\n            recursionFunc(parent);\n          }\n        }\n      })(item);\n\n      return cc;\n    },\n\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\n    detachNestedList: function detachNestedList(baseNode, all) {\n      var rNode = this._deleteNestedList(baseNode);\n\n      var rangeElement, cNodes;\n\n      if (rNode) {\n        rangeElement = rNode.cloneNode(false);\n        cNodes = rNode.childNodes;\n        var index = this.getPositionIndex(baseNode);\n\n        while (cNodes[index]) {\n          rangeElement.appendChild(cNodes[index]);\n        }\n      } else {\n        rangeElement = baseNode;\n      }\n\n      var rChildren;\n\n      if (!all) {\n        var depth = this.getElementDepth(baseNode) + 2;\n        rChildren = this.getListChildren(baseNode, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n        }.bind(this));\n      } else {\n        rChildren = this.getListChildren(rangeElement, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling;\n        }.bind(this));\n      }\n\n      for (var i = 0, len = rChildren.length; i < len; i++) {\n        this._deleteNestedList(rChildren[i]);\n      }\n\n      if (rNode) {\n        rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n        if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n      }\n\n      return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n    },\n\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\n    _deleteNestedList: function _deleteNestedList(baseNode) {\n      var baseParent = baseNode.parentNode;\n      var sibling = baseParent;\n      var parent = sibling.parentNode;\n      var liSibling, liParent, child, index, c;\n\n      while (this.isListCell(parent)) {\n        index = this.getPositionIndex(baseNode);\n        liSibling = parent.nextElementSibling;\n        liParent = parent.parentNode;\n        child = sibling;\n\n        while (child) {\n          sibling = sibling.nextSibling;\n\n          if (this.isList(child)) {\n            c = child.childNodes;\n\n            while (c[index]) {\n              liParent.insertBefore(c[index], liSibling);\n            }\n\n            if (c.length === 0) this.removeItem(child);\n          } else {\n            liParent.appendChild(child);\n          }\n\n          child = sibling;\n        }\n\n        sibling = liParent;\n        parent = liParent.parentNode;\n      }\n\n      if (baseParent.children.length === 0) this.removeItem(baseParent);\n      return liParent;\n    },\n\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\n    splitElement: function splitElement(baseNode, offset, depth) {\n      var bp = baseNode.parentNode;\n      var index = 0,\n          newEl,\n          children,\n          temp;\n      var next = true;\n      if (!depth || depth < 0) depth = 0;\n\n      if (baseNode.nodeType === 3) {\n        index = this.getPositionIndex(baseNode);\n\n        if (offset >= 0) {\n          baseNode.splitText(offset);\n          var after = this.getNodeFromPath([index + 1], bp);\n          if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n        }\n      } else if (baseNode.nodeType === 1) {\n        if (!baseNode.previousSibling) {\n          if (this.getElementDepth(baseNode) === depth) next = false;\n        } else {\n          baseNode = baseNode.previousSibling;\n        }\n      }\n\n      var depthEl = baseNode;\n\n      while (this.getElementDepth(depthEl) > depth) {\n        index = this.getPositionIndex(depthEl) + 1;\n        depthEl = depthEl.parentNode;\n        temp = newEl;\n        newEl = depthEl.cloneNode(false);\n        children = depthEl.childNodes;\n\n        if (temp) {\n          if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n            newEl.innerHTML = temp.firstElementChild.innerHTML;\n            util_util.removeItem(temp.firstElementChild);\n            if (temp.children.length > 0) newEl.appendChild(temp);\n          } else {}\n\n          newEl.appendChild(temp);\n        }\n\n        while (children[index]) {\n          newEl.appendChild(children[index]);\n        }\n      }\n\n      if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\n      var pElement = depthEl.parentNode;\n      if (next) depthEl = depthEl.nextSibling;\n      if (!newEl) return depthEl;\n      this.mergeSameTags(newEl, null, false);\n      this.mergeNestedTags(newEl, function (current) {\n        return this.isList(current);\n      }.bind(this));\n      if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n      if (bp.childNodes.length === 0) this.removeItem(bp);\n      return newEl;\n    },\n\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\n    mergeSameTags: function mergeSameTags(element, nodePathArray, onlyText) {\n      var inst = this;\n      var offsets = null;\n\n      if (nodePathArray && nodePathArray.length > 0) {\n        offsets = this._w.Array.apply(null, new this._w.Array(nodePathArray.length)).map(this._w.Number.prototype.valueOf, 0);\n      }\n\n      (function recursionFunc(current, depth, depthIndex) {\n        var children = current.childNodes;\n\n        for (var i = 0, len = children.length, child, next; i < len; i++) {\n          child = children[i];\n          next = children[i + 1];\n          if (!child) break;\n\n          if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n            if (inst.isTable(child) || inst.isListCell(child)) {\n              recursionFunc(child, depth + 1, i);\n            }\n\n            continue;\n          }\n\n          if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n            // update nodePath\n            if (nodePathArray) {\n              var path = void 0,\n                  c = void 0,\n                  p = void 0,\n                  cDepth = void 0,\n                  spliceDepth = void 0;\n\n              for (var n in nodePathArray) {\n                path = nodePathArray[n];\n\n                if (path && path[depth] === i) {\n                  c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                  while (cDepth >= 0) {\n                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                      spliceDepth = false;\n                      break;\n                    }\n\n                    c = child.parentNode;\n                    p = c.parentNode;\n                    cDepth--;\n                  }\n\n                  if (spliceDepth) {\n                    path.splice(depth, 1);\n                    path[depth] = i;\n                  }\n                }\n              }\n            } // merge tag\n\n\n            inst.copyTagAttributes(child, current);\n            current.parentNode.insertBefore(child, current);\n            inst.removeItem(current);\n          }\n\n          if (!next) {\n            if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n            break;\n          }\n\n          if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n            var childs = child.childNodes;\n            var childLength = 0;\n\n            for (var _n = 0, nLen = childs.length; _n < nLen; _n++) {\n              if (childs[_n].textContent.length > 0) childLength++;\n            }\n\n            var l = child.lastChild;\n            var r = next.firstChild;\n            var addOffset = 0;\n\n            if (l && r) {\n              var textOffset = l.nodeType === 3 && r.nodeType === 3;\n              addOffset = l.textContent.length;\n              var tempL = l.previousSibling;\n\n              while (tempL && tempL.nodeType === 3) {\n                addOffset += tempL.textContent.length;\n                tempL = tempL.previousSibling;\n              }\n\n              if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n              if (nodePathArray) {\n                var _path = null;\n\n                for (var _n2 in nodePathArray) {\n                  _path = nodePathArray[_n2];\n\n                  if (_path && _path[depth] > i) {\n                    if (depth > 0 && _path[depth - 1] !== depthIndex) continue;\n                    _path[depth] -= 1;\n\n                    if (_path[depth + 1] >= 0 && _path[depth] === i) {\n                      _path[depth + 1] += childLength;\n\n                      if (textOffset) {\n                        if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                          offsets[_n2] += addOffset;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (child.nodeType === 3) {\n              addOffset = child.textContent.length;\n              child.textContent += next.textContent;\n\n              if (nodePathArray) {\n                var _path2 = null;\n\n                for (var _n3 in nodePathArray) {\n                  _path2 = nodePathArray[_n3];\n\n                  if (_path2 && _path2[depth] > i) {\n                    if (depth > 0 && _path2[depth - 1] !== depthIndex) continue;\n                    _path2[depth] -= 1;\n\n                    if (_path2[depth + 1] >= 0 && _path2[depth] === i) {\n                      _path2[depth + 1] += childLength;\n                      offsets[_n3] += addOffset;\n                    }\n                  }\n                }\n              }\n            } else {\n              child.innerHTML += next.innerHTML;\n            }\n\n            inst.removeItem(next);\n            i--;\n          } else if (child.nodeType === 1) {\n            recursionFunc(child, depth + 1, i);\n          }\n        }\n      })(element, 0, 0);\n\n      return offsets;\n    },\n\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\n    mergeNestedTags: function mergeNestedTags(element, validation) {\n      if (typeof validation === 'string') {\n        validation = function (current) {\n          return this.test(current.tagName);\n        }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\n      } else if (typeof validation !== 'function') {\n        validation = function validation() {\n          return true;\n        };\n      }\n\n      (function recursionFunc(current) {\n        var children = current.children;\n\n        if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n          var temp = children[0];\n          children = temp.children;\n\n          while (children[0]) {\n            current.appendChild(children[0]);\n          }\n\n          current.removeChild(temp);\n        }\n\n        for (var i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n    },\n\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\n    removeEmptyNode: function removeEmptyNode(element, notRemoveNode) {\n      var inst = this;\n\n      if (notRemoveNode) {\n        notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n          return element === current.parentElement;\n        });\n      }\n\n      (function recursionFunc(current) {\n        if (inst._notTextNode(current) || current === notRemoveNode || current.getAttribute('contenteditable') === 'false') return 0;\n\n        if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\n          if (current.parentNode) {\n            current.parentNode.removeChild(current);\n            return -1;\n          }\n        } else {\n          var children = current.children;\n\n          for (var i = 0, len = children.length, r = 0; i < len; i++) {\n            if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n            r += recursionFunc(children[i + r]);\n          }\n        }\n\n        return 0;\n      })(element);\n\n      if (element.childNodes.length === 0) element.innerHTML = '<br>';\n    },\n\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\n    htmlRemoveWhiteSpace: function htmlRemoveWhiteSpace(html) {\n      if (!html) return '';\n      return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)[^>^<]+>\\s+(?=<)/ig, function (m) {\n        return m.trim();\n      });\n    },\n\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\n    sortByDepth: function sortByDepth(array, des) {\n      var t = !des ? -1 : 1;\n      var f = t * -1;\n      array.sort(function (a, b) {\n        if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n        a = this.getElementDepth(a);\n        b = this.getElementDepth(b);\n        return a > b ? t : a < b ? f : 0;\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isIgnoreNodeChange: function _isIgnoreNodeChange(element) {\n      return element.nodeType !== 3 && (element.getAttribute('contenteditable') === 'false' || !this.isTextStyleElement(element));\n    },\n\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isMaintainedNode: function _isMaintainedNode(element) {\n      return element.nodeType !== 3 && /^(a|label)$/i.test(typeof element === 'string' ? element : element.nodeName);\n    },\n\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _notTextNode: function _notTextNode(element) {\n      return element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\n    },\n\n    /**\r\n     * @description Check not Allowed tags\r\n     * @param {Node} element Element to check\r\n     * @private\r\n     */\n    _notAllowedTags: function _notAllowedTags(element) {\n      return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?(\" + (?!\\\\b list[i] \\\\b) + \")[^>^<])+>\", \"g\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\n    createTagsWhitelist: function createTagsWhitelist(list) {\n      var exclusionTags = list.split('|');\n      var regStr = '<\\\\/?(';\n\n      for (var i = 0, len = exclusionTags.length; i < len; i++) {\n        regStr += '(?!\\\\b' + exclusionTags[i] + '\\\\b)';\n      }\n\n      regStr += '[^>^<])+>';\n      return new RegExp(regStr, 'g');\n    },\n\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\n    _consistencyCheckOfHTML: function _consistencyCheckOfHTML(documentFragment, htmlCheckWhitelistRegExp) {\n      // empty whitelist\n      var emptyWhitelistTags = []; // wrong position\n\n      var wrongTags = this.getListChildren(documentFragment, function (current) {\n        if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0) {\n          emptyWhitelistTags.push(current);\n          return false;\n        }\n\n        return current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current) || (this.isMedia(current) && !this.isAnchor(current.parentNode) || this.isMedia(current.firstElementChild) && this.isAnchor(current)) && !this.getParentElement(current, this.isComponent)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode);\n      }.bind(this));\n\n      for (var i in emptyWhitelistTags) {\n        this.removeItem(emptyWhitelistTags[i]);\n      }\n\n      var checkTags = [];\n\n      for (var _i34 = 0, len = wrongTags.length, t, tp; _i34 < len; _i34++) {\n        t = wrongTags[_i34];\n        tp = t.parentNode;\n        tp.parentNode.insertBefore(t, tp);\n        checkTags.push(tp);\n      }\n\n      for (var _i35 = 0, _len23 = checkTags.length, _t; _i35 < _len23; _i35++) {\n        _t = checkTags[_i35];\n\n        if (this.onlyZeroWidthSpace(_t.textContent.trim())) {\n          this.removeItem(_t);\n        }\n      } // remove empty tags\n\n\n      var emptyTags = this.getListChildren(documentFragment, function (current) {\n        return !this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && !util_util.getParentElement(current, '.katex');\n      }.bind(this));\n\n      for (var _i36 in emptyTags) {\n        this.removeItem(emptyTags[_i36]);\n      } // wrong list\n\n\n      var wrongList = this.getListChildren(documentFragment, function (current) {\n        return this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current);\n      }.bind(this));\n\n      for (var _i37 = 0, _len24 = wrongList.length, _t2, _tp, children; _i37 < _len24; _i37++) {\n        _t2 = wrongList[_i37];\n        _tp = this.createElement('LI');\n        children = _t2.childNodes;\n\n        while (children[0]) {\n          _tp.appendChild(children[0]);\n        }\n\n        _t2.parentNode.insertBefore(_tp, _t2);\n\n        this.removeItem(_t2);\n      }\n    },\n    _setDefaultOptionStyle: function _setDefaultOptionStyle(options) {\n      var optionStyle = '';\n      if (options.height) optionStyle += 'height:' + options.height + ';';\n      if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\n      if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\n      return optionStyle;\n    }\n  };\n  /* harmony default export */\n\n  var lib_util = util_util; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  var lib_constructor = {\n    icons: null,\n\n    /**\r\n     * @description document create - call _createToolBar()\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\n    init: function init(element, options) {\n      if (typeof options !== 'object') options = {};\n      var doc = document;\n      /** --- init options --- */\n\n      this._initOptions(element, options); // suneditor div\n\n\n      var top_div = doc.createElement('DIV');\n      top_div.className = 'sun-editor';\n      if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n      var relative = doc.createElement('DIV');\n      relative.className = 'se-container'; // toolbar\n\n      var tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options.lang);\n\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n      var arrow = doc.createElement('DIV');\n      arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n      var sticky_dummy = doc.createElement('DIV');\n      sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n      var editor_div = doc.createElement('DIV');\n      editor_div.className = 'se-wrapper';\n      /** --- init elements and create bottom bar --- */\n\n      var initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n      var bottomBar = initElements.bottomBar;\n      var wysiwyg_div = initElements.wysiwygFrame;\n      var placeholder_span = initElements.placeholder;\n      var textarea = initElements.codeView; // resizing bar\n\n      var resizing_bar = bottomBar.resizingBar;\n      var navigation = bottomBar.navigation;\n      var char_wrapper = bottomBar.charWrapper;\n      var char_counter = bottomBar.charCounter; // loading box\n\n      var loading_box = doc.createElement('DIV');\n      loading_box.className = 'se-loading-box sun-editor-common';\n      loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n      var line_breaker = doc.createElement('DIV');\n      line_breaker.className = 'se-line-breaker';\n      line_breaker.innerHTML = '<button class=\"se-btn\">' + this.icons.line_break + '</button>'; // resize operation background\n\n      var resize_back = doc.createElement('DIV');\n      resize_back.className = 'se-resizing-back';\n      /** append html */\n\n      editor_div.appendChild(wysiwyg_div);\n      editor_div.appendChild(textarea);\n      if (placeholder_span) editor_div.appendChild(placeholder_span);\n      relative.appendChild(tool_bar.element);\n      relative.appendChild(sticky_dummy);\n      relative.appendChild(editor_div);\n      relative.appendChild(resize_back);\n      relative.appendChild(loading_box);\n      relative.appendChild(line_breaker);\n      if (resizing_bar) relative.appendChild(resizing_bar);\n      top_div.appendChild(relative);\n      textarea = this._checkCodeMirror(options, textarea);\n      return {\n        constructed: {\n          _top: top_div,\n          _relative: relative,\n          _toolBar: tool_bar.element,\n          _editorArea: editor_div,\n          _wysiwygArea: wysiwyg_div,\n          _codeArea: textarea,\n          _placeholder: placeholder_span,\n          _resizingBar: resizing_bar,\n          _navigation: navigation,\n          _charWrapper: char_wrapper,\n          _charCounter: char_counter,\n          _loading: loading_box,\n          _lineBreaker: line_breaker,\n          _resizeBack: resize_back,\n          _stickyDummy: sticky_dummy,\n          _arrow: arrow\n        },\n        options: options,\n        plugins: tool_bar.plugins,\n        pluginCallButtons: tool_bar.pluginCallButtons,\n        _icons: this.icons\n      };\n    },\n\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\n    _checkCodeMirror: function _checkCodeMirror(options, textarea) {\n      if (options.codeMirror) {\n        var cmOptions = [{\n          mode: 'htmlmixed',\n          htmlMode: true,\n          lineNumbers: true,\n          lineWrapping: true\n        }, options.codeMirror.options || {}].reduce(function (init, option) {\n          for (var key in option) {\n            init[key] = option[key];\n          }\n\n          return init;\n        }, {});\n\n        if (options.height === 'auto') {\n          cmOptions.viewportMargin = Infinity;\n          cmOptions.height = 'auto';\n        }\n\n        var cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n        cm.display.wrapper.style.cssText = textarea.style.cssText;\n        options.codeMirrorEditor = cm;\n        textarea = cm.display.wrapper;\n        textarea.className += ' se-wrapper-code-mirror';\n      }\n\n      return textarea;\n    },\n\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\n    _checkKatexMath: function _checkKatexMath(katex) {\n      if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n      var katexOptions = [{\n        throwOnError: false\n      }, katex.options || {}].reduce(function (init, option) {\n        for (var key in option) {\n          init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n      katex.options = katexOptions;\n    },\n\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\n    _setOptions: function _setOptions(mergeOptions, context, plugins, originOptions) {\n      this._initOptions(context.element.originElement, mergeOptions);\n\n      var el = context.element;\n      var relative = el.relative;\n      var editorArea = el.editorArea;\n      var isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode;\n      var isNewPlugins = !!mergeOptions.plugins;\n\n      var tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, isNewPlugins ? mergeOptions.plugins : plugins, mergeOptions.lang);\n\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n      var arrow = document.createElement('DIV');\n      arrow.className = 'se-arrow';\n\n      if (isNewToolbar) {\n        relative.replaceChild(tool_bar.element, el.toolbar);\n        el.toolbar = tool_bar.element;\n        el._arrow = arrow;\n      }\n\n      var initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n      var bottomBar = initElements.bottomBar;\n      var wysiwygFrame = initElements.wysiwygFrame;\n      var placeholder_span = initElements.placeholder;\n      var code = initElements.codeView;\n      if (el.resizingBar) relative.removeChild(el.resizingBar);\n      if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n      el.resizingBar = bottomBar.resizingBar;\n      el.navigation = bottomBar.navigation;\n      el.charWrapper = bottomBar.charWrapper;\n      el.charCounter = bottomBar.charCounter;\n      editorArea.removeChild(el.wysiwygFrame);\n      editorArea.removeChild(el.code);\n      editorArea.appendChild(wysiwygFrame);\n      editorArea.appendChild(code);\n      if (el.placeholder) editorArea.removeChild(el.placeholder);\n      if (placeholder_span) editorArea.appendChild(placeholder_span);\n      code = this._checkCodeMirror(mergeOptions, code);\n      el.wysiwygFrame = wysiwygFrame;\n      el.code = code;\n      el.placeholder = placeholder_span;\n      return {\n        callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\n        plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null\n      };\n    },\n\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\n    _initElements: function _initElements(options, topDiv, toolBar, toolBarArrow) {\n      /** top div */\n      topDiv.style.width = options.width;\n      topDiv.style.minWidth = options.minWidth;\n      topDiv.style.maxWidth = options.maxWidth;\n      topDiv.style.display = options.display;\n      if (typeof options.position === 'string') topDiv.style.position = options.position;\n      /** toolbar */\n\n      if (/inline/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-inline';\n        toolBar.style.width = options.toolbarWidth;\n      } else if (/balloon/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-balloon';\n        toolBar.style.width = options.toolbarWidth;\n        toolBar.appendChild(toolBarArrow);\n      }\n      /** editor */\n      // wysiwyg div or iframe\n\n\n      var wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n      wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n      if (!options.iframe) {\n        wysiwygDiv.setAttribute('contenteditable', true);\n        wysiwygDiv.setAttribute('scrolling', 'auto');\n        wysiwygDiv.className += ' sun-editor-editable';\n      } else {\n        var cssTags = function () {\n          var linkNames = options.iframeCSSFileName;\n          var tagString = '';\n\n          for (var f = 0, len = linkNames.length, path; f < len; f++) {\n            path = [];\n\n            if (/^https?:\\/\\//.test(linkNames[f])) {\n              path.push(linkNames[f]);\n            } else {\n              var CSSFileName = new RegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\.css(?:\\\\?.*|;.*)?$', 'i');\n\n              for (var c = document.getElementsByTagName('link'), i = 0, _len25 = c.length, styleTag; i < _len25; i++) {\n                styleTag = c[i].href.match(CSSFileName);\n                if (styleTag) path.push(styleTag[0]);\n              }\n            }\n\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n            for (var _i38 = 0, _len26 = path.length; _i38 < _len26; _i38++) {\n              tagString += '<link href=\"' + path[_i38] + '\" rel=\"stylesheet\">';\n            }\n          }\n\n          return tagString;\n        }() + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\n\n        wysiwygDiv.allowFullscreen = true;\n        wysiwygDiv.frameBorder = 0;\n        wysiwygDiv.addEventListener('load', function () {\n          this.setAttribute('scrolling', 'auto');\n          this.contentDocument.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title></title>' + cssTags;\n          this.contentDocument.body.className = 'sun-editor-editable';\n          this.contentDocument.body.setAttribute('contenteditable', true);\n        });\n      }\n\n      wysiwygDiv.style.cssText = lib_util._setDefaultOptionStyle(options); // textarea for code view\n\n      var textarea = document.createElement('TEXTAREA');\n      textarea.className = 'se-wrapper-inner se-wrapper-code';\n      textarea.style.display = 'none';\n      textarea.style.height = options.height;\n      textarea.style.minHeight = options.minHeight;\n      textarea.style.maxHeight = options.maxHeight;\n      if (options.height === 'auto') textarea.style.overflow = 'hidden';\n      /** resize bar */\n\n      var resizingBar = null;\n      var navigation = null;\n      var charWrapper = null;\n      var charCounter = null;\n\n      if (options.resizingBar) {\n        resizingBar = document.createElement('DIV');\n        resizingBar.className = 'se-resizing-bar sun-editor-common';\n        /** navigation */\n\n        navigation = document.createElement('DIV');\n        navigation.className = 'se-navigation sun-editor-common';\n        resizingBar.appendChild(navigation);\n        /** char counter */\n\n        if (options.charCounter) {\n          charWrapper = document.createElement('DIV');\n          charWrapper.className = 'se-char-counter-wrapper';\n\n          if (options.charCounterLabel) {\n            var charLabel = document.createElement('SPAN');\n            charLabel.className = 'se-char-label';\n            charLabel.textContent = options.charCounterLabel;\n            charWrapper.appendChild(charLabel);\n          }\n\n          charCounter = document.createElement('SPAN');\n          charCounter.className = 'se-char-counter';\n          charCounter.textContent = '0';\n          charWrapper.appendChild(charCounter);\n\n          if (options.maxCharCount > 0) {\n            var char_max = document.createElement('SPAN');\n            char_max.textContent = ' / ' + options.maxCharCount;\n            charWrapper.appendChild(char_max);\n          }\n\n          resizingBar.appendChild(charWrapper);\n        }\n      }\n\n      var placeholder = null;\n\n      if (options.placeholder) {\n        placeholder = document.createElement('SPAN');\n        placeholder.className = 'se-placeholder';\n        placeholder.innerText = options.placeholder;\n      }\n\n      return {\n        bottomBar: {\n          resizingBar: resizingBar,\n          navigation: navigation,\n          charWrapper: charWrapper,\n          charCounter: charCounter\n        },\n        wysiwygFrame: wysiwygDiv,\n        codeView: textarea,\n        placeholder: placeholder\n      };\n    },\n\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\n    _initOptions: function _initOptions(element, options) {\n      /** user options */\n      options.lang = options.lang || en_default.a;\n      /** Whitelist */\n\n      options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup';\n      options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\n      options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\n      options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n      /** Layout */\n\n      options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n      options.toolbarWidth = options.toolbarWidth ? lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n      options.stickyToolbar = /balloon/i.test(options.mode) ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1; // options.fullPage = options.fullPage;\n\n      options.iframe = options.fullPage || options.iframe;\n      options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n      options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n        src: options.codeMirror\n      } : null;\n      /** Display */\n      // options.position = options.position;\n\n      options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n      options.popupDisplay = options.popupDisplay || 'full';\n      /** Bottom resizing bar */\n\n      options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n      options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n      /** Character count */\n\n      options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n      options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n      options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n      options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n      /** Width size */\n\n      options.width = options.width ? lib_util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n      options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n      options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n      /** Height size */\n\n      options.height = options.height ? lib_util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n      options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n      options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n      /** Editing area default style */\n\n      options.defaultStyle = lib_util._setDefaultOptionStyle(options) + (typeof options.defaultStyle === 'string' ? options.defaultStyle : '');\n      /** Defining menu items */\n\n      options.font = !options.font ? null : options.font;\n      options.fontSize = !options.fontSize ? null : options.fontSize;\n      options.formats = !options.formats ? null : options.formats;\n      options.colorList = !options.colorList ? null : options.colorList;\n      options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n      options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n      options.textStyles = !options.textStyles ? null : options.textStyles;\n      options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n      /** Image */\n\n      options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n      options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n      options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n      options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n      options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n      options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n      options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n      options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n      options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n      options.imageUploadHeader = options.imageUploadHeader || null;\n      options.imageUploadUrl = options.imageUploadUrl || null;\n      options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\n      /** Video */\n\n      options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n      options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n      options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n      options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n      options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n      options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n      options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n      options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n      options.videoRatio = lib_util.getNumber(options.videoRatio, 4) || 0.5625;\n      options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n      options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n      /** Defining save button */\n\n      options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n      /** Templates Array */\n\n      options.templates = !options.templates ? null : options.templates;\n      /** ETC */\n\n      options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n      /** Math (katex) */\n\n      options.katex = options.katex ? options.katex.src ? options.katex : {\n        src: options.katex\n      } : null;\n      /** Buttons */\n\n      options.buttonList = options.buttonList || [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n      /** --- Define icons --- */\n\n      this.icons = !options.icons || typeof options.icons !== 'object' ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\n        for (var key in _new) {\n          _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {});\n    },\n\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @private\r\n     */\n    _defaultButtons: function _defaultButtons(lang) {\n      var icons = this.icons;\n      return {\n        /** default command */\n        bold: ['_se_command_bold', lang.toolbar.bold + ' (CTRL+B)', 'STRONG', '', icons.bold],\n        underline: ['_se_command_underline', lang.toolbar.underline + ' (CTRL+U)', 'U', '', icons.underline],\n        italic: ['_se_command_italic', lang.toolbar.italic + ' (CTRL+I)', 'EM', '', icons.italic],\n        strike: ['_se_command_strike', lang.toolbar.strike + ' (CTRL+SHIFT+S)', 'DEL', '', icons.strike],\n        subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n        superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n        removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n        indent: ['_se_command_indent', lang.toolbar.indent + ' (CTRL+])', 'indent', '', icons.outdent],\n        outdent: ['_se_command_outdent', lang.toolbar.outdent + ' (CTRL+[)', 'outdent', '', icons.indent],\n        fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n        showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n        codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n        undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + ' (CTRL+Z)', 'undo', '', icons.undo],\n        redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + ' (CTRL+Y / CTRL+SHIFT+Z)', 'redo', '', icons.redo],\n        preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n        print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n        save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\n\n        /** plugins - command */\n        blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n        /** plugins - submenu */\n        font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n        formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n        fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n        fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n        hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n        align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', icons.align_left],\n        list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n        horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n        table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n        lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n        template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n        paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n        textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n        /** plugins - dialog */\n        link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n        image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n        video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n        math: ['', lang.toolbar.math, 'math', 'dialog', icons.math]\n      };\n    },\n\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createModuleGroup: function _createModuleGroup(oneModule) {\n      var oDiv = lib_util.createElement('DIV');\n      oDiv.className = 'se-btn-module' + (oneModule ? '' : ' se-btn-module-border');\n      var oUl = lib_util.createElement('UL');\n      oUl.className = 'se-menu-list';\n      oDiv.appendChild(oUl);\n      return {\n        'div': oDiv,\n        'ul': oUl\n      };\n    },\n\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createButton: function _createButton(buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled) {\n      var oLi = lib_util.createElement('LI');\n      var oButton = lib_util.createElement('BUTTON');\n      oButton.setAttribute('type', 'button');\n      oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n      oButton.setAttribute('data-command', dataCommand);\n      oButton.setAttribute('data-display', dataDisplay);\n      if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n      innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\n      if (_disabled) oButton.setAttribute('disabled', true);\n      oButton.innerHTML = innerHTML;\n      oLi.appendChild(oButton);\n      return {\n        'li': oLi,\n        'button': oButton\n      };\n    },\n\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array} lang option.lang\r\n     * @private\r\n     */\n    _createToolBar: function _createToolBar(doc, buttonList, _plugins, lang) {\n      var separator_vertical = doc.createElement('DIV');\n      separator_vertical.className = 'se-toolbar-separator-vertical';\n      var tool_bar = doc.createElement('DIV');\n      tool_bar.className = 'se-toolbar sun-editor-common';\n      /** create button list */\n\n      var defaultButtonList = this._defaultButtons(lang);\n\n      var pluginCallButtons = {};\n      var plugins = {};\n\n      if (_plugins) {\n        var pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n          return _plugins[name];\n        });\n\n        for (var i = 0, len = pluginsValues.length, p; i < len; i++) {\n          p = pluginsValues[i].default || pluginsValues[i];\n          plugins[p.name] = p;\n        }\n      }\n\n      var module = null;\n      var button = null;\n      var moduleElement = null;\n      var buttonElement = null;\n      var pluginName = '';\n      var vertical = false;\n      var oneModule = buttonList.length === 1;\n\n      for (var _i39 = 0; _i39 < buttonList.length; _i39++) {\n        var buttonGroup = buttonList[_i39];\n        moduleElement = this._createModuleGroup(oneModule);\n        /** button object */\n\n        if (typeof buttonGroup === 'object') {\n          for (var j = 0; j < buttonGroup.length; j++) {\n            button = buttonGroup[j];\n\n            if (typeof button === 'object') {\n              if (typeof button.add === 'function') {\n                pluginName = button.name;\n                module = defaultButtonList[pluginName];\n                plugins[pluginName] = button;\n              } else {\n                pluginName = button.name;\n                module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n              }\n            } else {\n              module = defaultButtonList[button];\n              pluginName = button;\n\n              if (!module) {\n                var custom = plugins[pluginName];\n                if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n                module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n              }\n            }\n\n            buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5]);\n            moduleElement.ul.appendChild(buttonElement.li);\n\n            if (plugins[pluginName]) {\n              pluginCallButtons[pluginName] = buttonElement.button;\n            }\n          }\n\n          if (vertical) tool_bar.appendChild(separator_vertical.cloneNode(false));\n          tool_bar.appendChild(moduleElement.div);\n          vertical = true;\n        }\n        /** line break  */\n        else if (/^\\/$/.test(buttonGroup)) {\n            var enterDiv = doc.createElement('DIV');\n            enterDiv.className = 'se-btn-module-enter';\n            tool_bar.appendChild(enterDiv);\n            vertical = false;\n          }\n      }\n\n      var tool_cover = doc.createElement('DIV');\n      tool_cover.className = 'se-toolbar-cover';\n      tool_bar.appendChild(tool_cover);\n      return {\n        'element': tool_bar,\n        'plugins': plugins,\n        'pluginCallButtons': pluginCallButtons\n      };\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description Elements and variables you should have\r\n   * @param {Element} element textarea element\r\n   * @param {object} cons Toolbar element you created\r\n   * @param {JSON|Object} options Inserted options\r\n   * @returns {Object} {Elements, variables of the editor, option}\r\n   * @private\r\n   */\n\n  var _Context = function _Context(element, cons, options) {\n    return {\n      element: {\n        originElement: element,\n        topArea: cons._top,\n        relative: cons._relative,\n        toolbar: cons._toolBar,\n        resizingBar: cons._resizingBar,\n        navigation: cons._navigation,\n        charWrapper: cons._charWrapper,\n        charCounter: cons._charCounter,\n        editorArea: cons._editorArea,\n        wysiwygFrame: cons._wysiwygArea,\n        wysiwyg: options.iframe ? cons._wysiwygArea.contentDocument.body : cons._wysiwygArea,\n        code: cons._codeArea,\n        placeholder: cons._placeholder,\n        loading: cons._loading,\n        lineBreaker: cons._lineBreaker,\n        resizeBackground: cons._resizeBack,\n        _stickyDummy: cons._stickyDummy,\n        _arrow: cons._arrow\n      },\n      tool: {\n        cover: cons._toolBar.querySelector('.se-toolbar-cover'),\n        bold: cons._toolBar.querySelector('._se_command_bold'),\n        underline: cons._toolBar.querySelector('._se_command_underline'),\n        italic: cons._toolBar.querySelector('._se_command_italic'),\n        strike: cons._toolBar.querySelector('._se_command_strike'),\n        subscript: cons._toolBar.querySelector('._se_command_subscript'),\n        superscript: cons._toolBar.querySelector('._se_command_superscript'),\n        undo: cons._toolBar.querySelector('._se_command_undo'),\n        redo: cons._toolBar.querySelector('._se_command_redo'),\n        save: cons._toolBar.querySelector('._se_command_save'),\n        outdent: cons._toolBar.querySelector('._se_command_outdent'),\n        indent: cons._toolBar.querySelector('._se_command_indent')\n      },\n      options: options,\n      option: options\n    };\n  };\n  /* harmony default export */\n\n\n  var lib_context = _Context; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n  var lib_history = function lib_history(core, change) {\n    var _w = window;\n    var editor = core.context.element;\n    var util = core.util;\n    var undo = core.context.tool.undo;\n    var redo = core.context.tool.redo;\n    var pushDelay = null;\n    var stackIndex = 0;\n    var stack = [];\n\n    function setContentsFromStack() {\n      var item = stack[stackIndex];\n      editor.wysiwyg.innerHTML = item.contents;\n      core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n      core.focus();\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.removeAttribute('disabled');\n      } else if (stackIndex === stack.length - 1) {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.setAttribute('disabled', true);\n      } else {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.removeAttribute('disabled');\n      }\n\n      core.controllersOff();\n\n      core._checkComponents();\n\n      core._charCount('');\n\n      core._resourcesStateChange(); // onChange\n\n\n      change();\n    }\n\n    function pushStack() {\n      core._checkComponents();\n\n      var current = core.getContents(true);\n      if (!!stack[stackIndex] && current === stack[stackIndex].contents) return;\n      stackIndex++;\n      var range = core._variable._range;\n\n      if (stack.length > stackIndex) {\n        stack = stack.slice(0, stackIndex);\n        if (redo) redo.setAttribute('disabled', true);\n      }\n\n      if (!range) {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: [0, 0],\n            offset: [0, 0]\n          },\n          e: {\n            path: 0,\n            offset: 0\n          }\n        };\n      } else {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: util.getNodePath(range.startContainer, null, null),\n            offset: range.startOffset\n          },\n          e: {\n            path: util.getNodePath(range.endContainer, null, null),\n            offset: range.endOffset\n          }\n        };\n      }\n\n      if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n      core._charCount(''); // onChange\n\n\n      change();\n    }\n\n    return {\n      /**\n       * @description History stack\n       */\n      stack: stack,\n\n      /**\n       * @description Saving the current status to the history object stack\n       * If \"delay\" is true, it will be saved after 500 miliseconds\n       * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n       * You can specify the delay time by sending a number.\n       * @param {Boolean|Number} delay If true, delays 400 milliseconds\n       */\n      push: function push(delay) {\n        _w.setTimeout(core._resourcesStateChange);\n\n        var time = typeof delay === 'number' ? delay > 0 ? delay : 0 : !delay ? 0 : 400;\n\n        if (!time || pushDelay) {\n          _w.clearTimeout(pushDelay);\n\n          if (!time) {\n            pushStack();\n            return;\n          }\n        }\n\n        pushDelay = _w.setTimeout(function () {\n          _w.clearTimeout(pushDelay);\n\n          pushDelay = null;\n          pushStack();\n        }, time);\n      },\n\n      /**\n       * @description Undo function\n       */\n      undo: function undo() {\n        if (stackIndex > 0) {\n          stackIndex--;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Redo function\n       */\n      redo: function redo() {\n        if (stack.length - 1 > stackIndex) {\n          stackIndex++;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Go to the history stack for that index.\n       * If \"index\" is -1, go to the last stack\n       * @param {Number} index Stack index\n       */\n      go: function go(index) {\n        stackIndex = index < 0 ? stack.length - 1 : index;\n        setContentsFromStack();\n      },\n\n      /**\n       * @description Reset the history object\n       */\n      reset: function reset(ignoreChangeEvent) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.setAttribute('disabled', true);\n        if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        stack.splice(0);\n        stackIndex = 0; // pushStack\n\n        stack[stackIndex] = {\n          contents: core.getContents(true),\n          s: {\n            path: [0, 0],\n            offset: 0\n          },\n          e: {\n            path: [0, 0],\n            offset: 0\n          }\n        };\n        if (!ignoreChangeEvent) change();\n      },\n\n      /**\n       * @description Remove all stacks and remove the timeout function.\n       * @private\n       */\n      _destroy: function _destroy() {\n        if (pushDelay) _w.clearTimeout(pushDelay);\n        stack = null;\n      }\n    };\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var _notice = {\n    name: 'notice',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function add(core) {\n      var context = core.context;\n      context.notice = {};\n      /** dialog */\n\n      var notice_div = core.util.createElement('DIV');\n      var notice_span = core.util.createElement('SPAN');\n      var notice_button = core.util.createElement('BUTTON');\n      notice_div.className = 'se-notice';\n      notice_button.className = 'close';\n      notice_button.setAttribute('aria-label', 'Close');\n      notice_button.setAttribute('title', core.lang.dialogBox.close);\n      notice_button.innerHTML = core.icons.cancel;\n      notice_div.appendChild(notice_span);\n      notice_div.appendChild(notice_button);\n      context.notice.modal = notice_div;\n      context.notice.message = notice_span;\n      /** add event listeners */\n\n      notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n      /** append html */\n\n      context.element.relative.insertBefore(notice_div, context.element.editorArea);\n      /** empty memory */\n\n      notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function onClick_cancel(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function open(text) {\n      this.context.notice.message.textContent = text;\n      this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function close() {\n      this.context.notice.modal.style.display = 'none';\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description SunEditor constuctor function.\r\n   * create core object and event registration.\r\n   * core, event, functions\r\n   * @param {Object} context\r\n   * @param {Object} pluginCallButtons\r\n   * @param {Object} plugins \r\n   * @param {Object} lang\r\n   * @param {Object} options\r\n   * @param {Object} _icons\r\n   * @returns {Object} functions Object\r\n   */\n\n  /* harmony default export */\n\n  var lib_core = function lib_core(context, pluginCallButtons, plugins, lang, options, _icons) {\n    var _d = context.element.originElement.ownerDocument || document;\n\n    var _w = _d.defaultView || window;\n\n    var util = lib_util;\n    var icons = _icons;\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\n\n    var core = {\n      _d: _d,\n      _w: _w,\n      _parser: new _w.DOMParser(),\n\n      /**\r\n       * @description Document object of the iframe if created as an iframe || _d\r\n       * @private\r\n       */\n      _wd: null,\n\n      /**\r\n       * @description Window object of the iframe if created as an iframe || _w\r\n       * @private\r\n       */\n      _ww: null,\n\n      /**\r\n       * @description Util object\r\n       */\n      util: util,\n\n      /**\r\n       * @description Functions object\r\n       */\n      functions: null,\n\n      /**\r\n       * @description Notice object\r\n       */\n      notice: _notice,\n\n      /**\r\n       * @description Default icons object\r\n       */\n      icons: icons,\n\n      /**\r\n       * @description History object for undo, redo\r\n       */\n      history: null,\n\n      /**\r\n       * @description Elements and user options parameters of the suneditor\r\n       */\n      context: context,\n\n      /**\r\n       * @description Plugin buttons\r\n       */\n      pluginCallButtons: pluginCallButtons,\n\n      /**\r\n       * @description Loaded plugins\r\n       */\n      plugins: plugins || {},\n\n      /**\r\n       * @description Whether the plugin is initialized\r\n       */\n      initPlugins: {},\n\n      /**\r\n       * @description Object for managing submenu elements\r\n       * @private\r\n       */\n      _targetPlugins: {},\n\n      /**\r\n       * @description loaded language\r\n       */\n      lang: lang,\n\n      /**\r\n       * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n       */\n      effectNode: null,\n\n      /**\r\n       * @description submenu element\r\n       */\n      submenu: null,\n\n      /**\r\n       * @description container element\r\n       */\n      container: null,\n\n      /**\r\n       * @description current resizing component name\r\n       * @private\r\n       */\n      _resizingName: '',\n\n      /**\r\n       * @description current subment name\r\n       * @private\r\n       */\n      _submenuName: '',\n\n      /**\r\n       * @description binded submenuOff method\r\n       * @private\r\n       */\n      _bindedSubmenuOff: null,\n\n      /**\r\n       * @description binded containerOff method\r\n       * @private\r\n       */\n      _bindedContainerOff: null,\n\n      /**\r\n       * @description active button element in submenu\r\n       */\n      submenuActiveButton: null,\n\n      /**\r\n       * @description active button element in container\r\n       */\n      containerActiveButton: null,\n\n      /**\r\n       * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n       */\n      controllerArray: [],\n\n      /**\r\n       * @description The name of the plugin that called the currently active controller\r\n       */\n      currentControllerName: '',\n\n      /**\r\n       * @description The target element of current controller\r\n       */\n      currentControllerTarget: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n       */\n      codeViewDisabledButtons: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n       */\n      resizingDisabledButtons: null,\n\n      /**\r\n       * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n       * ^(options._editorTagsWhitelist)$\r\n       * @private\r\n       */\n      _htmlCheckWhitelistRegExp: null,\n\n      /**\r\n       * @description Editor tags whitelist (RegExp object)\r\n       * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n       */\n      editorTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Tag whitelist when pasting (RegExp object)\r\n       * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n       */\n      pasteTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Boolean value of whether the editor has focus\r\n       */\n      hasFocus: false,\n\n      /**\r\n       * @description Attributes whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesWhitelistRegExp: null,\n\n      /**\r\n       * @description Attributes of tags whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesTagsWhitelist: null,\n\n      /**\r\n       * @description binded controllersOff method\r\n       * @private\r\n       */\n      _bindControllersOff: null,\n\n      /**\r\n       * @description Is inline mode?\r\n       * @private\r\n       */\n      _isInline: null,\n\n      /**\r\n       * @description Is balloon|balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloon: null,\n\n      /**\r\n       * @description Is balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloonAlways: null,\n\n      /**\r\n       * @description Required value when using inline mode to sticky toolbar\r\n       * @private\r\n       */\n      _inlineToolbarAttr: {\n        top: '',\n        width: '',\n        isShow: false\n      },\n\n      /**\r\n       * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n       * @private\r\n       */\n      _notHideToolbar: false,\n\n      /**\r\n       * @description Variable value that sticky toolbar mode\r\n       * @private\r\n       */\n      _sticky: false,\n\n      /**\r\n       * @description Variables for controlling focus and blur events\r\n       * @private\r\n       */\n      _antiBlur: false,\n\n      /**\r\n       * @description Component line breaker element\r\n       * @private\r\n       */\n      _lineBreaker: null,\n      _lineBreakerButton: null,\n\n      /**\r\n       * @description If true, (initialize, reset) all indexes of image, video information\r\n       * @private\r\n       */\n      _componentsInfoInit: true,\n      _componentsInfoReset: false,\n\n      /**\r\n       * @description An user event function before image uploaded\r\n       * @private\r\n       */\n      _imageUploadBefore: function _imageUploadBefore(files, info) {\n        if (typeof functions.onImageUploadBefore === 'function') return functions.onImageUploadBefore(files, info, this);\n        return true;\n      },\n\n      /**\r\n       * @description An user event function when image info is changed\r\n       * @private\r\n       */\n      _imageUpload: function _imageUpload(targetElement, index, state, imageInfo, remainingFilesCount) {\n        if (typeof functions.onImageUpload === 'function') functions.onImageUpload(targetElement, index * 1, state, imageInfo, remainingFilesCount, this);\n      },\n\n      /**\r\n       * @description An user event function when image upload failed\r\n       * @private\r\n       */\n      _imageUploadError: function _imageUploadError(errorMessage, result) {\n        if (typeof functions.onImageUploadError === 'function') return functions.onImageUploadError(errorMessage, result, this);\n        return true;\n      },\n\n      /**\r\n       * @description An user callback function of the image upload\r\n       * @private\r\n       */\n      _imageUploadHandler: function _imageUploadHandler(response, info) {\n        if (typeof functions.imageUploadHandler === 'function') {\n          functions.imageUploadHandler(response, info, this);\n          return true;\n        } else {\n          return false;\n        }\n      },\n\n      /**\r\n       * @description An user event function when video info is changed\r\n       * @private\r\n       */\n      _videoUpload: function _videoUpload(targetElement, index, state, videoInfo, remainingFilesCount) {\n        if (typeof functions.onVideoUpload === 'function') functions.onVideoUpload(targetElement, index * 1, state, videoInfo, remainingFilesCount, this);\n      },\n\n      /**\r\n       * @description Plugins array with \"active\" method.\r\n       * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n       */\n      activePlugins: null,\n\n      /**\r\n       * @description Plugins array with \"checkComponentInfo\" and \"resetComponentInfo\" methods.\r\n       * \"componentInfoPlugins\" runs the \"add\" method when creating the editor.\r\n       * \"checkComponentInfo\" method is always call just before the \"change\" event.\r\n       */\n      componentInfoPlugins: null,\n\n      /**\r\n       * @description Elements that need to change text or className for each selection change\r\n       * After creating the editor, \"activePlugins\" are added.\r\n       * @property {Element} STRONG bold button\r\n       * @property {Element} U underline button\r\n       * @property {Element} EM italic button\r\n       * @property {Element} DEL strike button\r\n       * @property {Element} SUB subscript button\r\n       * @property {Element} SUP superscript button\r\n       * @property {Element} OUTDENT outdent button\r\n       * @property {Element} INDENT indent button\r\n       */\n      commandMap: null,\n\n      /**\r\n       * @description Map of default command\r\n       * @private\r\n       */\n      _defaultCommand: {\n        bold: 'STRONG',\n        underline: 'U',\n        italic: 'EM',\n        strike: 'DEL',\n        subscript: 'SUB',\n        superscript: 'SUP'\n      },\n\n      /**\r\n       * @description Variables used internally in editor operation\r\n       * @property {Boolean} isCodeView State of code view\r\n       * @property {Boolean} isFullScreen State of full screen\r\n       * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n       * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n       * @property {Number} tabSize Indent size of tab (4)\r\n       * @property {Number} codeIndent Indent size of Code view mode (4)\r\n       * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n       * @property {Array} currentNodes  An array of the current cursor's node structure\r\n       * @private\r\n       */\n      _variable: {\n        isCodeView: false,\n        isFullScreen: false,\n        innerHeight_fullScreen: 0,\n        resizeClientY: 0,\n        tabSize: 4,\n        codeIndent: 4,\n        minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || '65', 0),\n        currentNodes: [],\n        _range: null,\n        _selectionNode: null,\n        _originCssText: context.element.topArea.style.cssText,\n        _bodyOverflow: '',\n        _editorAreaOriginCssText: '',\n        _wysiwygOriginCssText: '',\n        _codeOriginCssText: '',\n        _fullScreenAttrs: {\n          sticky: false,\n          balloon: false,\n          inline: false\n        },\n        _lineBreakComp: null,\n        _lineBreakDir: ''\n      },\n\n      /**\r\n       * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n       * If the plugin is added call callBack function.\r\n       * @param {String} pluginName The name of the plugin to call\r\n       * @param {function} callBackFunction Function to be executed immediately after module call\r\n       * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n       */\n      callPlugin: function callPlugin(pluginName, callBackFunction, _target) {\n        _target = _target || pluginCallButtons[pluginName];\n\n        if (!this.plugins[pluginName]) {\n          throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n        } else if (!this.initPlugins[pluginName]) {\n          this.plugins[pluginName].add(this, _target);\n          this.initPlugins[pluginName] = true;\n        } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\n          this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n        }\n\n        if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n          this.commandMap[pluginName] = _target;\n          this.activePlugins.push(pluginName);\n        }\n\n        if (typeof callBackFunction === 'function') callBackFunction();\n      },\n\n      /**\r\n       * @description If the module is not added, add the module and call the 'add' function\r\n       * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n       */\n      addModule: function addModule(moduleArray) {\n        for (var i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n          moduleName = moduleArray[i].name;\n\n          if (!this.plugins[moduleName]) {\n            this.plugins[moduleName] = moduleArray[i];\n            if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\n          }\n        }\n      },\n\n      /**\r\n       * @description Method for managing submenu element.\r\n       * You must add the \"submenu\" element using the this method at custom plugin.\r\n       * @param {String} pluginName Plugin name\r\n       * @param {Element|null} target Target button\r\n       * @param {Element} menu Submenu element\r\n       */\n      initMenuTarget: function initMenuTarget(pluginName, target, menu) {\n        if (!target) {\n          this._targetPlugins[pluginName] = menu;\n        } else {\n          target.parentNode.appendChild(menu);\n          this._targetPlugins[pluginName] = true;\n        }\n      },\n\n      /**\r\n       * @description Enabled submenu\r\n       * @param {Element} element Submenu's button element to call\r\n       */\n      submenuOn: function submenuOn(element) {\n        if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n        if (this._bindControllersOff) this.controllersOff();\n        var submenuName = this._submenuName = element.getAttribute('data-command');\n        this.submenu = element.nextElementSibling;\n        this.submenu.style.top = '-10000px';\n        this.submenu.style.visibility = 'hidden';\n        this.submenu.style.display = 'block';\n        util.addClass(element, 'on');\n        this.submenuActiveButton = element;\n        var toolbar = this.context.element.toolbar;\n        var toolbarW = toolbar.offsetWidth;\n        var menuW = this.submenu.offsetWidth;\n        var overLeft = toolbarW <= menuW ? 0 : toolbarW - (element.parentElement.offsetLeft + menuW);\n        if (overLeft < 0) this.submenu.style.left = overLeft + 'px';else this.submenu.style.left = '1px';\n        var t = 0;\n        var offsetEl = element;\n\n        while (offsetEl && offsetEl !== toolbar) {\n          t += offsetEl.offsetTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        if (this._isBalloon) {\n          t += toolbar.offsetTop + element.offsetHeight;\n        } else {\n          t -= element.offsetHeight;\n        }\n\n        var space = t + this.submenu.offsetHeight - context.element.wysiwyg.offsetHeight + 3;\n\n        if (space > 0 && event._getPageBottomSpace() < space) {\n          this.submenu.style.top = -1 * (this.submenu.offsetHeight + 3) + 'px';\n        } else {\n          this.submenu.style.top = '';\n        }\n\n        this.submenu.style.visibility = '';\n        this._bindedSubmenuOff = this.submenuOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\n        if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable submenu\r\n       */\n      submenuOff: function submenuOff() {\n        this.removeDocEvent('mousedown', this._bindedSubmenuOff);\n        this._bindedSubmenuOff = null;\n\n        if (this.submenu) {\n          this._submenuName = '';\n          this.submenu.style.display = 'none';\n          this.submenu = null;\n          util.removeClass(this.submenuActiveButton, 'on');\n          this.submenuActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Enabled container\r\n       * @param {Element} element Container's button element to call\r\n       */\n      containerOn: function containerOn(element) {\n        if (this._bindedContainerOff) this._bindedContainerOff();\n        var containerName = this._containerName = element.getAttribute('data-command');\n        this.container = element.nextElementSibling;\n        this.container.style.display = 'block';\n        util.addClass(element, 'on');\n        this.containerActiveButton = element;\n        var toolbarW = this.context.element.toolbar.offsetWidth;\n        var menuW = this.container.offsetWidth;\n        var overLeft = toolbarW <= menuW ? 0 : toolbarW - (element.parentElement.offsetLeft + menuW);\n        if (overLeft < 0) this.container.style.left = overLeft + 'px';else this.container.style.left = '1px';\n        this._bindedContainerOff = this.containerOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedContainerOff, false);\n        if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable container\r\n       */\n      containerOff: function containerOff() {\n        this.removeDocEvent('mousedown', this._bindedContainerOff);\n        this._bindedContainerOff = null;\n\n        if (this.container) {\n          this._containerName = '';\n          this.container.style.display = 'none';\n          this.container = null;\n          util.removeClass(this.containerActiveButton, 'on');\n          this.containerActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n       * @param {*} arguments controller elements, functions..\r\n       */\n      controllersOn: function controllersOn() {\n        if (this._bindControllersOff) {\n          var tempName = this._resizingName;\n\n          this._bindControllersOff();\n\n          this._resizingName = tempName;\n        }\n\n        for (var i = 0, arg; i < arguments.length; i++) {\n          arg = arguments[i];\n\n          if (typeof arg === 'string') {\n            this.currentControllerName = arg;\n            continue;\n          }\n\n          if (typeof arg === 'function') {\n            this.controllerArray[i] = arg;\n            continue;\n          }\n\n          if (!util.hasClass(arg, 'se-controller')) {\n            this.currentControllerTarget = arg;\n            continue;\n          }\n\n          if (arg.style) arg.style.display = 'block';\n          this.controllerArray[i] = arg;\n        }\n\n        this._bindControllersOff = this.controllersOff.bind(this);\n        this.addDocEvent('mousedown', this._bindControllersOff, false);\n        this.addDocEvent('keydown', this._bindControllersOff, false);\n        this._antiBlur = true;\n        if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\n      },\n\n      /**\r\n       * @description Hide controller at editor area (link button, image resize button..)\r\n       * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n       */\n      controllersOff: function controllersOff(e) {\n        if (this._resizingName && e && e.type === 'keydown' && e.keyCode !== 27) return;\n        this._resizingName = '';\n        this.currentControllerName = '';\n        this.currentControllerTarget = null;\n        this.effectNode = null;\n        if (!this._bindControllersOff) return;\n        this.removeDocEvent('mousedown', this._bindControllersOff);\n        this.removeDocEvent('keydown', this._bindControllersOff);\n        this._bindControllersOff = null;\n        var len = this.controllerArray.length;\n\n        if (len > 0) {\n          for (var i = 0; i < len; i++) {\n            if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();else this.controllerArray[i].style.display = 'none';\n          }\n\n          this.controllerArray = [];\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description javascript execCommand\r\n       * @param {String} command javascript execCommand function property\r\n       * @param {Boolean} showDefaultUI javascript execCommand function property\r\n       * @param {String} value javascript execCommand function property\r\n       */\n      execCommand: function execCommand(command, showDefaultUI, value) {\n        this._wd.execCommand(command, showDefaultUI, command === 'formatBlock' ? '<' + value + '>' : value); // history stack\n\n\n        this.history.push(true);\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area using \"native focus function\"\r\n       */\n      nativeFocus: function nativeFocus() {\n        var caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\n\n        if (caption) {\n          caption.focus();\n        } else {\n          context.element.wysiwyg.focus();\n        }\n\n        this._editorRange();\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area\r\n       */\n      focus: function focus() {\n        if (context.element.wysiwygFrame.style.display === 'none') return;\n\n        if (options.iframe) {\n          this.nativeFocus();\n        } else {\n          try {\n            var range = this.getRange();\n\n            if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n              var format = util.createElement('P');\n              var br = util.createElement('BR');\n              format.appendChild(br);\n              this.setRange(br, 0, br, 0);\n            } else {\n              this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n            }\n          } catch (e) {\n            this.nativeFocus();\n          }\n        }\n\n        event._applyTagEffects();\n\n        if (core._isBalloon) event._toggleToolbarBalloon();\n      },\n\n      /**\r\n       * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n       * If \"focusEdge\" is null, then selected last element\r\n       * @param {Element|null} focusEl Focus element\r\n       */\n      focusEdge: function focusEdge(focusEl) {\n        if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n\n        if (util.isComponent(focusEl)) {\n          var imageComponent = focusEl.querySelector('IMG');\n          var videoComponent = focusEl.querySelector('IFRAME');\n\n          if (imageComponent) {\n            this.selectComponent(imageComponent, 'image');\n          } else if (videoComponent) {\n            this.selectComponent(videoComponent, 'video');\n          }\n        } else if (focusEl) {\n          focusEl = util.getChildElement(focusEl, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true);\n          if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n        } else {\n          this.nativeFocus();\n        }\n      },\n\n      /**\r\n       * @description Set current editor's range object\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       */\n      setRange: function setRange(startCon, startOff, endCon, endOff) {\n        if (!startCon || !endCon) return;\n        if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n        if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n        var range = this._wd.createRange();\n\n        try {\n          range.setStart(startCon, startOff);\n          range.setEnd(endCon, endOff);\n        } catch (error) {\n          this.nativeFocus();\n        }\n\n        var selection = this.getSelection();\n\n        if (selection.removeAllRanges) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(range);\n\n        this._editorRange();\n\n        if (options.iframe) this.nativeFocus();\n      },\n\n      /**\r\n       * @description Remove range object and button effect\r\n       */\n      removeRange: function removeRange() {\n        this._variable._range = null;\n        this._variable._selectionNode = null;\n        this.getSelection().removeAllRanges();\n        var commandMap = this.commandMap;\n        var activePlugins = this.activePlugins;\n\n        for (var key in commandMap) {\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n      },\n\n      /**\r\n       * @description Get current editor's range object\r\n       * @returns {Object}\r\n       */\n      getRange: function getRange() {\n        return this._variable._range || this._createDefaultRange();\n      },\n\n      /**\r\n       * @description Get window selection obejct\r\n       * @returns {Object}\r\n       */\n      getSelection: function getSelection() {\n        return this._ww.getSelection();\n      },\n\n      /**\r\n       * @description Get current select node\r\n       * @returns {Node}\r\n       */\n      getSelectionNode: function getSelectionNode() {\n        if (!this._variable._selectionNode || util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\n        return this._variable._selectionNode || context.element.wysiwyg.firstChild;\n      },\n\n      /**\r\n       * @description Saving the range object and the currently selected node of editor\r\n       * @private\r\n       */\n      _editorRange: function _editorRange() {\n        var selection = this.getSelection();\n        var range = null;\n        var selectionNode = null;\n\n        if (selection.rangeCount > 0) {\n          range = selection.getRangeAt(0);\n        } else {\n          range = this._createDefaultRange();\n        }\n\n        this._variable._range = range;\n\n        if (range.collapsed) {\n          selectionNode = range.commonAncestorContainer;\n        } else {\n          selectionNode = selection.extentNode || selection.anchorNode;\n        }\n\n        this._variable._selectionNode = selectionNode;\n      },\n\n      /**\r\n       * @description Return the range object of editor's first child node\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _createDefaultRange: function _createDefaultRange() {\n        context.element.wysiwyg.focus();\n\n        var range = this._wd.createRange();\n\n        if (!context.element.wysiwyg.firstChild) this.execCommand('formatBlock', false, 'P');\n        range.setStart(context.element.wysiwyg.firstChild, 0);\n        range.setEnd(context.element.wysiwyg.firstChild, 0);\n        return range;\n      },\n\n      /**\r\n       * @description Reset range object to text node selected status.\r\n       * @private\r\n       */\n      _resetRangeToTextNode: function _resetRangeToTextNode() {\n        var range = this.getRange();\n        var startCon = range.startContainer;\n        var startOff = range.startOffset;\n        var endCon = range.endContainer;\n        var endOff = range.endOffset;\n        var tempCon, tempOffset, tempChild;\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff];\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff];\n          endOff = 0;\n        } // startContainer\n\n\n        tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n        tempOffset = startOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          var onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n              tempOffset = 0;\n            }\n\n            var format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : 'P');\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            var emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n\n            if (onlyBreak) {\n              if (startCon === endCon) {\n                endCon = tempCon;\n                endOff = 1;\n              }\n            }\n          }\n        } // set startContainer\n\n\n        startCon = tempCon;\n        startOff = tempOffset; // endContainer\n\n        tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n        tempOffset = endOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          var _onlyBreak = util.isBreak(tempCon);\n\n          if (!_onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempChild = tempCon.childNodes;\n              if (tempChild.length === 0) break;\n              tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n              tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n            }\n\n            var _format = util.getFormatElement(tempCon, null);\n\n            if (_format === util.getRangeFormatElement(_format, null)) {\n              _format = util.createElement(util.isCell(_format) ? 'DIV' : 'P');\n              tempCon.parentNode.insertBefore(_format, tempCon);\n\n              _format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            var _emptyText = util.createTextNode(util.zeroWidthSpace);\n\n            tempCon.parentNode.insertBefore(_emptyText, tempCon);\n            tempCon = _emptyText;\n            tempOffset = 1;\n\n            if (_onlyBreak && !tempCon.previousSibling) {\n              util.removeItem(endCon);\n            }\n          }\n        } // set endContainer\n\n\n        endCon = tempCon;\n        endOff = tempOffset; // set Range\n\n        this.setRange(startCon, startOff, endCon, endOff);\n      },\n\n      /**\r\n       * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n       * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n       * @returns {Array}\r\n       */\n      getSelectedElements: function getSelectedElements(validation) {\n        this._resetRangeToTextNode();\n\n        var range = this.getRange();\n\n        if (util.isWysiwygDiv(range.startContainer)) {\n          var children = context.element.wysiwyg.children;\n          if (children.length === 0) return null;\n          this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n          range = this.getRange();\n        }\n\n        var startCon = range.startContainer;\n        var endCon = range.endContainer;\n        var commonCon = range.commonAncestorContainer; // get line nodes\n\n        var lineNodes = util.getListChildren(commonCon, function (current) {\n          return validation ? validation(current) : util.isFormatElement(current);\n        });\n        if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n        if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n        var startLine = util.getFormatElement(startCon, null);\n        var endLine = util.getFormatElement(endCon, null);\n        var startIdx = null;\n        var endIdx = null;\n\n        var onlyTable = function onlyTable(current) {\n          return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n        };\n\n        var startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n        var endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n        if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n        if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n        var sameRange = startRangeEl === endRangeEl;\n\n        for (var i = 0, len = lineNodes.length, line; i < len; i++) {\n          line = lineNodes[i];\n\n          if (startLine === line || !sameRange && line === startRangeEl) {\n            startIdx = i;\n            continue;\n          }\n\n          if (endLine === line || !sameRange && line === endRangeEl) {\n            endIdx = i;\n            break;\n          }\n        }\n\n        if (startIdx === null) startIdx = 0;\n        if (endIdx === null) endIdx = lineNodes.length - 1;\n        return lineNodes.slice(startIdx, endIdx + 1);\n      },\n\n      /**\r\n       * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n       * If some of the component are included in the selection, get the entire that component.\r\n       * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n       * @returns {Array}\r\n       */\n      getSelectedElementsAndComponents: function getSelectedElementsAndComponents(removeDuplicate) {\n        var commonCon = this.getRange().commonAncestorContainer;\n        var myComponent = util.getParentElement(commonCon, util.isComponent);\n        var selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n          var component = this.getParentElement(current, this.isComponent);\n          return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n        }.bind(util));\n\n        if (removeDuplicate) {\n          for (var i = 0, len = selectedLines.length; i < len; i++) {\n            for (var j = i - 1; j >= 0; j--) {\n              if (selectedLines[j].contains(selectedLines[i])) {\n                selectedLines.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        return selectedLines;\n      },\n\n      /**\r\n       * @description Determine if this offset is the edge offset of container\r\n       * @param {Node} container The node of the selection object. (range.startContainer..)\r\n       * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n       * @returns {Boolean}\r\n       */\n      isEdgePoint: function isEdgePoint(container, offset) {\n        return offset === 0 || !container.nodeValue && offset === 1 || offset === container.nodeValue.length;\n      },\n\n      /**\r\n       * @description Show loading box\r\n       */\n      showLoading: function showLoading() {\n        context.element.loading.style.display = 'block';\n      },\n\n      /**\r\n       * @description Close loading box\r\n       */\n      closeLoading: function closeLoading() {\n        context.element.loading.style.display = 'none';\n      },\n\n      /**\r\n       * @description Append format element to sibling node of argument element.\r\n       * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n       * If not, the currently selected format tag is inserted.\r\n       * @param {Element} element Insert as siblings of that element\r\n       * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n       * @returns {Element}\r\n       */\n      appendFormatTag: function appendFormatTag(element, formatNode) {\n        var currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n        var oFormatName = formatNode ? typeof formatNode === 'string' ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : 'P';\n        var oFormat = util.createElement(oFormatName);\n        oFormat.innerHTML = '<br>';\n\n        if (formatNode && typeof formatNode !== 'string' || !formatNode && util.isFormatElement(currentFormatEl)) {\n          util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n        }\n\n        if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n        return oFormat;\n      },\n\n      /**\r\n       * @description The method to insert a element. (used elements : table, hr, image, video)\r\n       * This method is add the element next line and insert the new line.\r\n       * When used in a tag in \"LI\", it is inserted into the LI tag.\r\n       * Returns the first node of next line added.\r\n       * @param {Element} element Element to be inserted\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @returns {Element}\r\n       */\n      insertComponent: function insertComponent(element, notHistoryPush) {\n        var r = this.removeNode();\n        var oNode = null;\n        var selectionNode = this.getSelectionNode();\n        var formatEl = util.getFormatElement(selectionNode, null);\n\n        if (util.isListCell(formatEl)) {\n          if (/^HR$/i.test(element.nodeName)) {\n            var newLi = util.createElement('LI');\n            var textNode = util.createTextNode(util.zeroWidthSpace);\n            newLi.appendChild(element);\n            newLi.appendChild(textNode);\n            formatEl.parentNode.insertBefore(newLi, formatEl.nextElementSibling);\n            this.setRange(textNode, 1, textNode, 1);\n          } else {\n            this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling);\n            if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\n            oNode = util.createElement('LI');\n            formatEl.parentNode.insertBefore(oNode, formatEl.nextElementSibling);\n          }\n        } else {\n          if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n            var depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current);\n            }.bind(util));\n            oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (oNode) formatEl = oNode.previousSibling;\n          }\n\n          this.insertNode(element, formatEl);\n          if (!oNode) oNode = this.appendFormatTag(element, util.isFormatElement(formatEl) ? formatEl : null);\n        }\n\n        var edgeNode = util.getEdgeChildNodes(oNode, null).sc;\n        oNode = edgeNode || oNode;\n        this.setRange(oNode, 0, oNode, 0); // history stack\n\n        if (!notHistoryPush) this.history.push(1);\n        return oNode;\n      },\n\n      /**\r\n       * @description The component(image, video) is selected and the resizing module is called.\r\n       * @param {Element} element Element tag (img or iframe)\r\n       * @param {String} componentName Component name (image or video)\r\n       */\n      selectComponent: function selectComponent(element, componentName) {\n        if (componentName === 'image') {\n          if (!core.plugins.image) return;\n          core.removeRange();\n          core.callPlugin('image', function () {\n            var size = core.plugins.resizing.call_controller_resize.call(core, element, 'image');\n            core.plugins.image.onModifyMode.call(core, element, size);\n\n            if (!util.getParentElement(element, '.se-image-container')) {\n              core.plugins.image.openModify.call(core, true);\n              core.plugins.image.update_image.call(core, true, true, true);\n            }\n          }, null);\n        } else if (componentName === 'video') {\n          if (!core.plugins.video) return;\n          core.removeRange();\n          core.callPlugin('video', function () {\n            var size = core.plugins.resizing.call_controller_resize.call(core, element, 'video');\n            core.plugins.video.onModifyMode.call(core, element, size);\n          }, null);\n        }\n      },\n\n      /**\r\n       * @description Delete selected node and insert argument value node\r\n       * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n       * Inserting a text node merges with both text nodes on both sides and returns a new \"{ startOffset, endOffset }\".\r\n       * @param {Node} oNode Element to be inserted\r\n       * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n       * @returns {undefined|Object}\r\n       */\n      insertNode: function insertNode(oNode, afterNode) {\n        var isComp = util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || util.isComponent(oNode);\n\n        if (!afterNode && isComp) {\n          var r = this.removeNode();\n\n          if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n            var depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current);\n            }.bind(util));\n            afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (afterNode) afterNode = afterNode.previousSibling;\n          }\n        }\n\n        var range = this.getRange();\n        var startCon = range.startContainer;\n        var startOff = range.startOffset;\n        var endCon = range.endContainer;\n        var endOff = range.endOffset;\n        var commonCon = range.commonAncestorContainer;\n        var parentNode,\n            originAfter = null;\n\n        if (!afterNode) {\n          parentNode = startCon;\n\n          if (startCon.nodeType === 3) {\n            parentNode = startCon.parentNode;\n          }\n          /** No Select range node */\n\n\n          if (range.collapsed) {\n            if (commonCon.nodeType === 3) {\n              if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n            } else {\n              if (!util.isBreak(parentNode)) {\n                var c = parentNode.childNodes[startOff];\n                var focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n                if (focusNode) {\n                  if (!focusNode.nextSibling) {\n                    parentNode.removeChild(focusNode);\n                    afterNode = null;\n                  } else {\n                    afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                afterNode = parentNode;\n                parentNode = parentNode.parentNode;\n              }\n            }\n          } else {\n            /** Select range nodes */\n            var isSameContainer = startCon === endCon;\n\n            if (isSameContainer) {\n              if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n              var removeNode = startCon;\n              if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n              parentNode.removeChild(removeNode);\n\n              if (parentNode.childNodes.length === 0 && isComp) {\n                parentNode.innerHTML = '<br>';\n              }\n            } else {\n              var removedTag = this.removeNode();\n              var container = removedTag.container;\n              var prevContainer = removedTag.prevContainer;\n\n              if (container && container.childNodes.length === 0 && isComp) {\n                if (util.isFormatElement(container)) {\n                  container.innerHTML = '<br>';\n                } else if (util.isRangeFormatElement(container)) {\n                  container.innerHTML = '<p><br></p>';\n                }\n              }\n\n              if (!isComp && prevContainer) {\n                parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n                if (parentNode.contains(container)) {\n                  afterNode = container;\n\n                  while (afterNode.parentNode === parentNode) {\n                    afterNode = afterNode.parentNode;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                parentNode = isComp ? commonCon : container;\n                afterNode = isComp ? endCon : null;\n              }\n\n              while (afterNode && afterNode.parentNode !== commonCon) {\n                afterNode = afterNode.parentNode;\n              }\n            }\n          }\n        } // has afterNode\n        else {\n            parentNode = afterNode.parentNode;\n            afterNode = afterNode.nextSibling;\n            originAfter = true;\n          } // --- insert node ---\n\n\n        try {\n          if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n            var oldParent = parentNode;\n\n            if (util.isList(afterNode)) {\n              parentNode = afterNode;\n              afterNode = null;\n            } else if (!originAfter && !afterNode) {\n              var _r3 = this.removeNode();\n\n              var _container = _r3.container.nodeType === 3 ? util.isListCell(util.getFormatElement(_r3.container, null)) ? _r3.container : util.getFormatElement(_r3.container, null) || _r3.container.parentNode : _r3.container;\n\n              var rangeCon = util.isWysiwygDiv(_container) || util.isRangeFormatElement(_container);\n              parentNode = rangeCon ? _container : _container.parentNode;\n              afterNode = rangeCon ? null : _container.nextSibling;\n            }\n\n            if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n          }\n\n          if (isComp && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n            afterNode = parentNode.nextElementSibling;\n            parentNode = parentNode.parentNode;\n          }\n\n          parentNode.insertBefore(oNode, afterNode);\n        } catch (e) {\n          parentNode.appendChild(oNode);\n        } finally {\n          var offset = 1;\n\n          if (oNode.nodeType === 3) {\n            var previous = oNode.previousSibling;\n            var next = oNode.nextSibling;\n            var previousText = !previous || previous.nodeType !== 3 || util.onlyZeroWidthSpace(previous) ? '' : previous.textContent;\n            var nextText = !next || next.nodeType !== 3 || util.onlyZeroWidthSpace(next) ? '' : next.textContent;\n\n            if (previous && previousText.length > 0) {\n              oNode.textContent = previousText + oNode.textContent;\n              util.removeItem(previous);\n            }\n\n            if (next && next.length > 0) {\n              oNode.textContent += nextText;\n              util.removeItem(next);\n            }\n\n            return {\n              startOffset: previousText.length,\n              endOffset: oNode.textContent.length - nextText.length\n            };\n          } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n            var zeroWidth = null;\n\n            if (!oNode.previousSibling) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.insertBefore(zeroWidth, oNode);\n            }\n\n            if (!oNode.nextSibling) {\n              zeroWidth = util.createTextNode(util.zeroWidthSpace);\n              oNode.parentNode.appendChild(zeroWidth);\n            }\n\n            if (util._isIgnoreNodeChange(oNode)) {\n              oNode = oNode.nextSibling;\n              offset = 0;\n            }\n          }\n\n          this.setRange(oNode, offset, oNode, offset); // history stack\n\n          this.history.push(true);\n        }\n      },\n\n      /**\r\n       * @description Delete the currently selected nodes and reset selection range\r\n       * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n       * @returns {Object}\r\n       */\n      removeNode: function removeNode() {\n        var range = this.getRange();\n        var container,\n            offset = 0;\n        var startCon = range.startContainer;\n        var endCon = range.endContainer;\n        var startOff = range.startOffset;\n        var endOff = range.endOffset;\n        var commonCon = range.commonAncestorContainer;\n        var beforeNode = null;\n        var afterNode = null;\n        var childNodes = util.getListChildNodes(commonCon, null);\n        var startIndex = util.getArrayIndex(childNodes, startCon);\n        var endIndex = util.getArrayIndex(childNodes, endCon);\n\n        if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n          for (var i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n            if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n              startIndex = i;\n              startNode = startNode.parentNode;\n            }\n          }\n\n          for (var _i40 = endIndex - 1, endNode = endCon; _i40 > startIndex; _i40--) {\n            if (childNodes[_i40] === endNode.parentNode && childNodes[_i40].nodeType === 1) {\n              childNodes.splice(_i40, 1);\n              endNode = endNode.parentNode;\n              --endIndex;\n            }\n          }\n        } else {\n          if (childNodes.length === 0) {\n            if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n              return {\n                container: commonCon,\n                offset: 0\n              };\n            }\n\n            childNodes.push(commonCon);\n            startCon = endCon = commonCon;\n          } else {\n            startCon = endCon = childNodes[0];\n\n            if (util.isBreak(startCon)) {\n              return {\n                container: startCon,\n                offset: 0\n              };\n            }\n          }\n\n          startIndex = endIndex = 0;\n        }\n\n        function remove(item) {\n          var format = util.getFormatElement(item, null);\n          util.removeItem(item);\n\n          if (util.isListCell(format)) {\n            var list = util.getArrayItem(format.children, util.isList, false);\n\n            if (list) {\n              var child = list.firstElementChild;\n              var children = child.childNodes;\n\n              while (children[0]) {\n                format.insertBefore(children[0], list);\n              }\n\n              util.removeItemAllParents(child, null, null);\n            }\n          }\n        }\n\n        for (var _i41 = startIndex; _i41 <= endIndex; _i41++) {\n          var item = childNodes[_i41];\n\n          if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n            remove(item);\n            continue;\n          }\n\n          if (item === startCon) {\n            if (startCon.nodeType === 1) {\n              beforeNode = util.createTextNode(startCon.textContent);\n            } else {\n              if (item === endCon) {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n                offset = startOff;\n              } else {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n              }\n            }\n\n            if (beforeNode.length > 0) {\n              startCon.data = beforeNode.data;\n            } else {\n              remove(startCon);\n            }\n\n            if (item === endCon) break;\n            continue;\n          }\n\n          if (item === endCon) {\n            if (endCon.nodeType === 1) {\n              afterNode = util.createTextNode(endCon.textContent);\n            } else {\n              afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n            }\n\n            if (afterNode.length > 0) {\n              endCon.data = afterNode.data;\n            } else {\n              remove(endCon);\n            }\n\n            continue;\n          }\n\n          remove(item);\n        }\n\n        container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n        if (!util.isWysiwygDiv(container)) {\n          var rc = util.removeItemAllParents(container, null, null);\n          if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n        } // set range\n\n\n        this.setRange(container, offset, container, offset); // history stack\n\n        this.history.push(true);\n        return {\n          container: container,\n          offset: offset,\n          prevContainer: startCon && startCon.parentNode ? startCon : null\n        };\n      },\n\n      /**\r\n       * @description Appended all selected format Element to the argument element and insert\r\n       * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n       */\n      applyRangeFormatElement: function applyRangeFormatElement(rangeElement) {\n        var rangeLines = this.getSelectedElementsAndComponents(false);\n        if (!rangeLines || rangeLines.length === 0) return;\n\n        linesLoop: for (var i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n          line = rangeLines[i];\n          if (!util.isListCell(line)) continue;\n          nested = line.lastElementChild;\n\n          if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n            lEl = nested.lastElementChild;\n\n            if (rangeLines.indexOf(lEl) > -1) {\n              var list = null;\n\n              while (list = lEl.lastElementChild) {\n                if (util.isList(list)) {\n                  if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                    lEl = list.lastElementChild;\n                  } else {\n                    continue linesLoop;\n                  }\n                }\n              }\n\n              fEl = nested.firstElementChild;\n              f = rangeLines.indexOf(fEl);\n              l = rangeLines.indexOf(lEl);\n              rangeLines.splice(f, l - f + 1);\n              len = rangeLines.length;\n              continue;\n            }\n          }\n        }\n\n        var last = rangeLines[rangeLines.length - 1];\n        var standTag, beforeTag, pElement;\n\n        if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n          standTag = last;\n        } else {\n          standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n        }\n\n        if (util.isCell(standTag)) {\n          beforeTag = null;\n          pElement = standTag;\n        } else {\n          beforeTag = standTag.nextSibling;\n          pElement = standTag.parentNode;\n        }\n\n        var parentDepth = util.getElementDepth(standTag);\n        var listParent = null;\n        var lineArr = [];\n\n        var removeItems = function removeItems(parent, origin, before) {\n          var cc = null;\n\n          if (parent !== origin && !util.isTable(origin)) {\n            if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n            cc = util.removeItemAllParents(origin, null, parent);\n          }\n\n          return cc ? cc.ec : before;\n        };\n\n        for (var _i42 = 0, _len27 = rangeLines.length, _line, originParent, depth, before, nextLine, nextList, _nested; _i42 < _len27; _i42++) {\n          _line = rangeLines[_i42];\n          originParent = _line.parentNode;\n          if (!originParent || rangeElement.contains(originParent)) continue;\n          depth = util.getElementDepth(_line);\n\n          if (util.isList(originParent)) {\n            if (listParent === null) {\n              if (nextList) {\n                listParent = nextList;\n                _nested = true;\n                nextList = null;\n              } else {\n                listParent = originParent.cloneNode(false);\n              }\n            }\n\n            lineArr.push(_line);\n            nextLine = rangeLines[_i42 + 1];\n\n            if (_i42 === _len27 - 1 || nextLine && nextLine.parentNode !== originParent) {\n              // nested list\n              if (nextLine && _line.contains(nextLine.parentNode)) {\n                nextList = nextLine.parentNode.cloneNode(false);\n              }\n\n              var _list = originParent.parentNode,\n                  p = void 0;\n\n              while (util.isList(_list)) {\n                p = util.createElement(_list.nodeName);\n                p.appendChild(listParent);\n                listParent = p;\n                _list = _list.parentNode;\n              }\n\n              var _edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n              if (parentDepth >= depth) {\n                parentDepth = depth;\n                pElement = _edge.cc;\n                beforeTag = removeItems(pElement, originParent, _edge.ec);\n                if (beforeTag) pElement = beforeTag.parentNode;\n              } else if (pElement === _edge.cc) {\n                beforeTag = _edge.ec;\n              }\n\n              if (pElement !== _edge.cc) {\n                before = removeItems(pElement, _edge.cc, before);\n                if (before !== undefined) beforeTag = before;else beforeTag = _edge.cc;\n              }\n\n              for (var c = 0, cLen = _edge.removeArray.length; c < cLen; c++) {\n                listParent.appendChild(_edge.removeArray[c]);\n              }\n\n              if (!_nested) rangeElement.appendChild(listParent);\n              if (nextList) _edge.removeArray[_edge.removeArray.length - 1].appendChild(nextList);\n              listParent = null;\n              _nested = false;\n            }\n          } else {\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = originParent;\n              beforeTag = _line.nextSibling;\n            }\n\n            rangeElement.appendChild(_line);\n\n            if (pElement !== originParent) {\n              before = removeItems(pElement, originParent);\n              if (before !== undefined) beforeTag = before;\n            }\n          }\n        }\n\n        this.effectNode = null;\n        util.mergeSameTags(rangeElement, null, false);\n        util.mergeNestedTags(rangeElement, function (current) {\n          return this.isList(current);\n        }.bind(util)); // Nested list\n\n        if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n          var depthFormat = util.getParentElement(beforeTag, function (current) {\n            return this.isRangeFormatElement(current) && !this.isList(current);\n          }.bind(util));\n          var splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          splitRange.parentNode.insertBefore(rangeElement, splitRange);\n        } // basic\n        else {\n            pElement.insertBefore(rangeElement, beforeTag);\n            removeItems(rangeElement, beforeTag);\n          }\n\n        var edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n        if (rangeLines.length > 1) {\n          this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n        } else {\n          this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n       * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n       * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n       * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n       * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n       * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @returns {Object}\r\n       */\n      detachRangeFormatElement: function detachRangeFormatElement(rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n        var range = this.getRange();\n        var so = range.startOffset;\n        var eo = range.endOffset;\n        var children = util.getListChildNodes(rangeElement, function (current) {\n          return current.parentNode === rangeElement;\n        });\n        var parent = rangeElement.parentNode;\n        var firstNode = null;\n        var lastNode = null;\n        var rangeEl = rangeElement.cloneNode(false);\n        var removeArray = [];\n        var newList = util.isList(newRangeElement);\n        var insertedNew = false;\n        var reset = false;\n        var moveComplete = false;\n\n        function appendNode(parent, insNode, sibling, originNode) {\n          if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n          if (insNode.nodeType === 3) {\n            parent.insertBefore(insNode, sibling);\n            return insNode;\n          }\n\n          var insChildren = (moveComplete ? insNode : originNode).childNodes;\n          var format = insNode.cloneNode(false);\n          var first = null;\n          var c = null;\n\n          while (insChildren[0]) {\n            c = insChildren[0];\n\n            if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n              if (format.childNodes.length > 0) {\n                if (!first) first = format;\n                parent.insertBefore(format, sibling);\n                format = insNode.cloneNode(false);\n              }\n\n              parent.insertBefore(c, sibling);\n              if (!first) first = c;\n            } else {\n              format.appendChild(c);\n            }\n          }\n\n          if (format.childNodes.length > 0) {\n            if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n              if (newList) {\n                first = sibling;\n\n                while (sibling) {\n                  format.appendChild(sibling);\n                  sibling = sibling.nextSibling;\n                }\n\n                parent.parentNode.insertBefore(format, parent.nextElementSibling);\n              } else {\n                var originNext = originNode.nextElementSibling;\n                var detachRange = util.detachNestedList(originNode, false);\n\n                if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              }\n            } else {\n              parent.insertBefore(format, sibling);\n            }\n\n            if (!first) first = format;\n          }\n\n          return first;\n        } // detach loop\n\n\n        for (var i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n          insNode = children[i];\n          moveComplete = false;\n\n          if (remove && i === 0) {\n            if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n              firstNode = rangeElement.previousSibling;\n            } else {\n              firstNode = rangeEl;\n            }\n          }\n\n          if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n          if (selectedFormats && lineIndex === -1) {\n            if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n            rangeEl.appendChild(insNode);\n          } else {\n            if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n            if (rangeEl && rangeEl.children.length > 0) {\n              parent.insertBefore(rangeEl, rangeElement);\n              rangeEl = null;\n            }\n\n            if (!newList && util.isListCell(insNode)) {\n              if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n                var insNext = insNode.nextElementSibling;\n                var detachRange = util.detachNestedList(insNode, false);\n\n                if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              } else {\n                var inner = insNode;\n                insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : 'P');\n                var isCell = util.isListCell(insNode);\n                var innerChildren = inner.childNodes;\n\n                while (innerChildren[0]) {\n                  if (util.isList(innerChildren[0]) && !isCell) break;\n                  insNode.appendChild(innerChildren[0]);\n                }\n\n                util.copyFormatAttributes(insNode, inner);\n                moveComplete = true;\n              }\n            } else {\n              insNode = insNode.cloneNode(false);\n            }\n\n            if (!reset) {\n              if (!remove) {\n                if (newRangeElement) {\n                  if (!insertedNew) {\n                    parent.insertBefore(newRangeElement, rangeElement);\n                    insertedNew = true;\n                  }\n\n                  insNode = appendNode(newRangeElement, insNode, null, children[i]);\n                } else {\n                  insNode = appendNode(parent, insNode, rangeElement, children[i]);\n                }\n\n                if (selectedFormats) {\n                  lastNode = insNode;\n\n                  if (!firstNode) {\n                    firstNode = insNode;\n                  }\n                } else if (!firstNode) {\n                  firstNode = lastNode = insNode;\n                }\n              } else {\n                removeArray.push(insNode);\n                util.removeItem(children[i]);\n              }\n            } else {\n              reset = moveComplete = false;\n              children = util.getListChildNodes(rangeElement, function (current) {\n                return current.parentNode === rangeElement;\n              });\n              rangeEl = rangeElement.cloneNode(false);\n              parent = rangeElement.parentNode;\n              i = -1;\n              len = children.length;\n              continue;\n            }\n          }\n        }\n\n        var rangeParent = rangeElement.parentNode;\n        var rangeRight = rangeElement.nextSibling;\n\n        if (rangeEl && rangeEl.children.length > 0) {\n          rangeParent.insertBefore(rangeEl, rangeRight);\n        }\n\n        if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n        rangeRight = rangeElement.nextSibling;\n\n        if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n          util.removeItem(rangeElement);\n        } else {\n          util.removeEmptyNode(rangeElement, null);\n        }\n\n        var edge = null;\n\n        if (remove) {\n          edge = {\n            cc: rangeParent,\n            sc: firstNode,\n            ec: rangeRight,\n            removeArray: removeArray\n          };\n        } else {\n          if (!firstNode) firstNode = lastNode;\n          if (!lastNode) lastNode = firstNode;\n          var childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n          edge = {\n            cc: (childEdge.sc || childEdge.ec).parentNode,\n            sc: childEdge.sc,\n            ec: childEdge.ec\n          };\n        }\n\n        this.effectNode = null;\n        if (notHistoryPush) return edge;\n\n        if (!remove && edge) {\n          if (!selectedFormats) {\n            this.setRange(edge.sc, 0, edge.sc, 0);\n          } else {\n            this.setRange(edge.sc, so, edge.ec, eo);\n          }\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description \"selectedFormats\" array are detached from the list element.\r\n       * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n       * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n       */\n      detachList: function detachList(selectedFormats, remove) {\n        var rangeArr = {};\n        var listFirst = false;\n        var listLast = false;\n        var first = null;\n        var last = null;\n\n        var passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        for (var i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n          lastIndex = i === len - 1;\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          isList = util.isList(o);\n\n          if (!r && isList) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n            if (i === 0) listFirst = true;\n          } else if (r && isList) {\n            if (r !== o) {\n              var edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n              o = selectedFormats[i].parentNode;\n\n              if (listFirst) {\n                first = edge.sc;\n                listFirst = false;\n              }\n\n              if (lastIndex) last = edge.ec;\n\n              if (isList) {\n                r = o;\n                rangeArr = {\n                  r: r,\n                  f: [util.getParentElement(selectedFormats[i], 'LI')]\n                };\n                if (lastIndex) listLast = true;\n              } else {\n                r = null;\n              }\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n              if (lastIndex) listLast = true;\n            }\n          }\n\n          if (lastIndex && util.isList(r)) {\n            var _edge2 = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n\n            if (listLast || len === 1) last = _edge2.ec;\n            if (listFirst) first = _edge2.sc || last;\n          }\n        }\n\n        return {\n          sc: first,\n          ec: last\n        };\n      },\n\n      /**\r\n       * @description Add, update, and delete nodes from selected text.\r\n       * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n       * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n       * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n       * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n       *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n       * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n       *    (The class name is preceded by \".\" [\".className\"])\r\n       * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n       * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n       * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n       * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       *10. It won't work if the parent node has the same class and same value style.\r\n       *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n       * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n       * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n       * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n       * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       */\n      nodeChange: function nodeChange(appendNode, styleArray, removeNodeArray, strictRemove) {\n        var range = this.getRange();\n        styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n        removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n        var isRemoveNode = !appendNode;\n        var isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n        var startCon = range.startContainer;\n        var startOff = range.startOffset;\n        var endCon = range.endContainer;\n        var endOff = range.endOffset;\n\n        if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && startCon.getAttribute('contenteditable') === 'false') {\n          return;\n        }\n\n        if (range.collapsed && !isRemoveFormat) {\n          if (startCon.nodeType === 1 && !util.isBreak(startCon)) {\n            var afterNode = null;\n            var focusNode = startCon.childNodes[startOff];\n\n            if (focusNode) {\n              if (!focusNode.nextSibling) {\n                startCon.removeChild(focusNode);\n                afterNode = null;\n              } else {\n                afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n              }\n            }\n\n            var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            startCon.insertBefore(zeroWidth, afterNode);\n            this.setRange(zeroWidth, 1, zeroWidth, 1);\n            range = this.getRange();\n            startCon = range.startContainer;\n            startOff = range.startOffset;\n            endCon = range.endContainer;\n            endOff = range.endOffset;\n          }\n        }\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff];\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff];\n          endOff = endCon.textContent.length;\n        }\n\n        if (isRemoveNode) {\n          appendNode = util.createElement('DIV');\n        }\n\n        var newNodeName = appendNode.nodeName;\n        /* checked same style property */\n\n        if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n          var sNode = startCon;\n          var checkCnt = 0;\n          var checkAttrs = [];\n          var checkStyles = appendNode.style;\n\n          for (var i = 0, len = checkStyles.length; i < len; i++) {\n            checkAttrs.push(checkStyles[i]);\n          }\n\n          var ckeckClasses = appendNode.classList;\n\n          for (var _i43 = 0, _len28 = ckeckClasses.length; _i43 < _len28; _i43++) {\n            checkAttrs.push('.' + ckeckClasses[_i43]);\n          }\n\n          if (checkAttrs.length > 0) {\n            while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n              for (var _i44 = 0; _i44 < checkAttrs.length; _i44++) {\n                if (sNode.nodeType === 1) {\n                  var s = checkAttrs[_i44];\n                  var classReg = /^\\./.test(s) ? new _w.RegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\n                  var styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                  var classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                  if (styleCheck || classCheck) {\n                    checkCnt++;\n                  }\n                }\n              }\n\n              sNode = sNode.parentNode;\n            }\n\n            if (checkCnt >= checkAttrs.length) return;\n          }\n        }\n\n        var start = {},\n            end = {};\n        var newNode,\n            styleRegExp = '',\n            classRegExp = '',\n            removeNodeRegExp = '';\n\n        if (styleArray) {\n          for (var _i45 = 0, _len29 = styleArray.length, _s; _i45 < _len29; _i45++) {\n            _s = styleArray[_i45];\n\n            if (/^\\./.test(_s)) {\n              classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + _s.replace(/^\\./, '');\n            } else {\n              styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + _s;\n            }\n          }\n\n          if (styleRegExp) {\n            styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\n            styleRegExp = new _w.RegExp(styleRegExp, 'ig');\n          }\n\n          if (classRegExp) {\n            classRegExp += ')(?=\\\\s+|$)';\n            classRegExp = new _w.RegExp(classRegExp, 'ig');\n          }\n        }\n\n        if (removeNodeArray) {\n          removeNodeRegExp = '^(?:' + removeNodeArray[0];\n\n          for (var _i46 = 1; _i46 < removeNodeArray.length; _i46++) {\n            removeNodeRegExp += '|' + removeNodeArray[_i46];\n          }\n\n          removeNodeRegExp += ')$';\n          removeNodeRegExp = new _w.RegExp(removeNodeRegExp, 'i');\n        }\n        /** validation check function*/\n\n\n        var _removeCheck = {\n          v: false\n        };\n\n        var validation = function validation(checkNode) {\n          var vNode = checkNode.cloneNode(false); // all path\n\n          if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n          if (isRemoveFormat) return null; // remove node check\n\n          var tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n          if (tagRemove && !strictRemove) {\n            _removeCheck.v = true;\n            return null;\n          } // style regexp\n\n\n          var originStyle = vNode.style.cssText;\n          var style = '';\n\n          if (styleRegExp && originStyle.length > 0) {\n            style = originStyle.replace(styleRegExp, '').trim();\n            if (style !== originStyle) _removeCheck.v = true;\n          } // class check\n\n\n          var originClasses = vNode.className;\n          var classes = '';\n\n          if (classRegExp && originClasses.length > 0) {\n            classes = originClasses.replace(classRegExp, '').trim();\n            if (classes !== originClasses) _removeCheck.v = true;\n          } // remove only\n\n\n          if (isRemoveNode) {\n            if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n              _removeCheck.v = true;\n              return null;\n            }\n          } // change\n\n\n          if (style || classes || vNode.nodeName !== newNodeName || _w.Boolean(styleRegExp) !== _w.Boolean(originStyle) || _w.Boolean(classRegExp) !== _w.Boolean(originClasses)) {\n            if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n            if (!vNode.style.cssText) {\n              vNode.removeAttribute('style');\n            }\n\n            if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n            if (!vNode.className.trim()) {\n              vNode.removeAttribute('class');\n            }\n\n            if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n              _removeCheck.v = true;\n              return null;\n            }\n\n            return vNode;\n          }\n\n          _removeCheck.v = true;\n          return null;\n        }; // get line nodes\n\n\n        var lineNodes = this.getSelectedElements(null);\n        range = this.getRange();\n        startCon = range.startContainer;\n        startOff = range.startOffset;\n        endCon = range.endContainer;\n        endOff = range.endOffset;\n\n        if (!util.getFormatElement(startCon, null)) {\n          startCon = util.getChildElement(lineNodes[0], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          startOff = 0;\n        }\n\n        if (!util.getFormatElement(endCon, null)) {\n          endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          endOff = endCon.textContent.length;\n        }\n\n        var oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n        var endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n        newNode = appendNode.cloneNode(false);\n\n        var isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr, _isMaintainedNode) {\n          for (var n = 0, _len30 = arr.length; n < _len30; n++) {\n            if (_isMaintainedNode(arr[n])) return true;\n          }\n\n          return false;\n        }(removeNodeArray, util._isMaintainedNode);\n\n        var _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor);\n\n        var _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor); // one line\n\n\n        if (oneLine) {\n          var newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n          start.container = newRange.startContainer;\n          start.offset = newRange.startOffset;\n          end.container = newRange.endContainer;\n          end.offset = newRange.endOffset;\n\n          if (start.container === end.container && util.zeroWidthRegExp.test(start.container.textContent)) {\n            start.offset = end.offset = 1;\n          }\n        } // multi line \n        else {\n            // end\n            if (endLength > 0) {\n              newNode = appendNode.cloneNode(false);\n              end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n            } // mid\n\n\n            for (var _i47 = endLength - 1; _i47 > 0; _i47--) {\n              newNode = appendNode.cloneNode(false);\n\n              this._nodeChange_middleLine(lineNodes[_i47], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck);\n            } // start\n\n\n            newNode = appendNode.cloneNode(false);\n            start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n            if (endLength <= 0) {\n              end = start;\n            } else if (!end.container) {\n              end.container = start.container;\n              end.offset = start.container.textContent.length;\n            }\n          } // set range\n\n\n        this.controllersOff();\n        this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Strip remove node\r\n       * @param {Node} removeNode The remove node\r\n       * @private\r\n       */\n      _stripRemoveNode: function _stripRemoveNode(removeNode) {\n        var element = removeNode.parentNode;\n        if (!removeNode || removeNode.nodeType === 3 || !element) return;\n        var children = removeNode.childNodes;\n\n        while (children[0]) {\n          element.insertBefore(children[0], removeNode);\n        }\n\n        element.removeChild(removeNode);\n      },\n\n      /**\r\n       * @description Return the parent maintained tag. (bind and use a util object)\r\n       * @param {Boolean} isRemove Delete maintained tag\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_getMaintainedNode: function _util_getMaintainedNode(isRemove, element) {\n        return element && !isRemove ? this.getParentElement(element, function (current) {\n          return this._isMaintainedNode(current);\n        }.bind(this)) : null;\n      },\n\n      /**\r\n       * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n       * @param {Boolean} isRemove Delete maintained tag\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_isMaintainedNode: function _util_isMaintainedNode(isRemove, element) {\n        return element && !isRemove && element.nodeType !== 3 && this._isMaintainedNode(element);\n      },\n\n      /**\r\n       * @description wraps text nodes of line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Boolean} collapsed range.collapsed\r\n       * @returns {{startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n       * @private\r\n       */\n      _nodeChange_oneLine: function _nodeChange_oneLine(element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        var parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n          if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n            var children = parentCon.childNodes;\n            var sameTag = true;\n\n            for (var i = 0, len = children.length, c, s, e, z; i < len; i++) {\n              c = children[i];\n              z = !util.onlyZeroWidthSpace(c);\n\n              if (c === startCon) {\n                s = true;\n                continue;\n              }\n\n              if (c === endCon) {\n                e = true;\n                continue;\n              }\n\n              if (!s && z || s && e && z) {\n                sameTag = false;\n                break;\n              }\n            }\n\n            if (sameTag) {\n              util.copyTagAttributes(parentCon, newInnerNode);\n              return {\n                startContainer: startCon,\n                startOffset: startOff,\n                endContainer: endCon,\n                endOffset: endOff\n              };\n            }\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        var el = element;\n        var nNodeArray = [newInnerNode];\n        var pNode = element.cloneNode(false);\n        var isSameNode = startCon === endCon;\n        var startContainer = startCon;\n        var startOffset = startOff;\n        var endContainer = endCon;\n        var endOffset = endOff;\n        var startPass = false;\n        var endPass = false;\n        var pCurrent, newNode, appendNode, cssText, anchorNode;\n\n        function checkCss(vNode) {\n          var regExp = new _w.RegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\n          var style = '';\n\n          if (regExp && vNode.style.cssText.length > 0) {\n            style = regExp.test(vNode.style.cssText);\n          }\n\n          return !style;\n        }\n\n        (function recursionFunc(current, ancestor) {\n          var childNodes = current.childNodes;\n\n          for (var _i48 = 0, _len31 = childNodes.length, vNode; _i48 < _len31; _i48++) {\n            var child = childNodes[_i48];\n            if (!child) continue;\n            var coverNode = ancestor;\n            var cloneNode = void 0; // startContainer\n\n            if (!startPass && child === startContainer) {\n              var line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              var prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\n              var textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n              if (anchorNode) {\n                var a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  var m = a;\n                  var p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              var prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== line && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              var childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              newInnerNode.appendChild(childNode);\n              line.appendChild(newInnerNode);\n\n              if (anchorNode && !_getMaintainedNode(endContainer)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              startContainer = textNode;\n              startOffset = 0;\n              startPass = true;\n              if (newNode !== textNode) newNode.appendChild(startContainer);\n              if (!isSameNode) continue;\n            } // endContainer\n\n\n            if (!endPass && child === endContainer) {\n              anchorNode = _getMaintainedNode(child);\n              var afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, endContainer.length - endOffset));\n\n              var _textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                newNode = child;\n                cssText = '';\n                pCurrent = [];\n                var anchors = [];\n\n                while (newNode !== pNode && newNode !== el && newNode !== null) {\n                  if (newNode.nodeType === 1 && checkCss(newNode)) {\n                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                  }\n\n                  newNode = newNode.parentNode;\n                }\n\n                pCurrent = pCurrent.concat(anchors);\n                cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n                while (pCurrent.length > 0) {\n                  newNode = pCurrent.pop();\n                  appendNode.appendChild(newNode);\n                  appendNode = newNode;\n                }\n\n                pNode.appendChild(cloneNode);\n                newNode.textContent = afterNode.data;\n              }\n\n              if (anchorNode && cloneNode) {\n                var afterAnchorNode = _getMaintainedNode(cloneNode);\n\n                if (afterAnchorNode) {\n                  anchorNode = afterAnchorNode;\n                }\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              var _childNode = pCurrent.pop() || _textNode;\n\n              appendNode = newNode = _childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                newInnerNode.appendChild(_childNode);\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.appendChild(anchorNode);\n                nNodeArray.push(newInnerNode);\n                anchorNode = null;\n              } else {\n                newInnerNode.appendChild(_childNode);\n              }\n\n              endContainer = _textNode;\n              endOffset = _textNode.data.length;\n              endPass = true;\n\n              if (!isRemoveFormat && collapsed) {\n                newInnerNode = _textNode;\n                _textNode.textContent = util.zeroWidthSpace;\n              }\n\n              if (newNode !== _textNode) newNode.appendChild(endContainer);\n              continue;\n            } // other\n\n\n            if (startPass) {\n              if (child.nodeType === 1 && !util.isBreak(child)) {\n                if (util._isIgnoreNodeChange(child)) {\n                  pNode.appendChild(child.cloneNode(true));\n\n                  if (!collapsed) {\n                    newInnerNode = newInnerNode.cloneNode(false);\n                    pNode.appendChild(newInnerNode);\n                    nNodeArray.push(newInnerNode);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n              var _anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n                if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                  if (vNode) {\n                    if (_isMaintainedNode(vNode)) {\n                      if (!anchorNode) _anchors.push(vNode);\n                    } else {\n                      pCurrent.push(vNode);\n                    }\n                  }\n\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(_anchors);\n\n              var _childNode2 = pCurrent.pop() || child;\n\n              appendNode = newNode = _childNode2;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(_childNode2)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!endPass && !anchorNode && _isMaintainedNode(_childNode2)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                var aChildren = _childNode2.childNodes;\n\n                for (var _a = 0, aLen = aChildren.length; _a < aLen; _a++) {\n                  newInnerNode.appendChild(aChildren[_a]);\n                }\n\n                _childNode2.appendChild(newInnerNode);\n\n                pNode.appendChild(_childNode2);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (_childNode2 === child) {\n                if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n              } else if (endPass) {\n                pNode.appendChild(_childNode2);\n                ancestor = newNode;\n              } else {\n                newInnerNode.appendChild(_childNode2);\n                ancestor = newNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            }\n\n            cloneNode = child.cloneNode(false);\n            ancestor.appendChild(cloneNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            startContainer: startCon,\n            startOffset: startOff,\n            endContainer: endCon,\n            endOffset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (var _i49 = 0; _i49 < nNodeArray.length; _i49++) {\n            var removeNode = nNodeArray[_i49];\n            var textNode = void 0,\n                textNode_s = void 0,\n                textNode_e = void 0;\n\n            if (collapsed) {\n              textNode = util.createTextNode(util.zeroWidthSpace);\n              pNode.replaceChild(textNode, removeNode);\n            } else {\n              var rChildren = removeNode.childNodes;\n              textNode_s = rChildren[0];\n\n              while (rChildren[0]) {\n                textNode_e = rChildren[0];\n                pNode.insertBefore(textNode_e, removeNode);\n              }\n\n              util.removeItem(removeNode);\n            }\n\n            if (_i49 === 0) {\n              if (collapsed) {\n                startContainer = endContainer = textNode;\n              } else {\n                startContainer = textNode_s;\n                endContainer = textNode_e;\n              }\n            }\n          }\n        } else {\n          if (isRemoveNode) {\n            for (var _i50 = 0; _i50 < nNodeArray.length; _i50++) {\n              this._stripRemoveNode(nNodeArray[_i50]);\n            }\n          }\n\n          if (collapsed) {\n            startContainer = endContainer = newInnerNode;\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (collapsed) {\n          startOffset = startContainer.textContent.length;\n          endOffset = endContainer.textContent.length;\n        } // endContainer reset\n\n\n        var endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n        if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n          util.removeItem(endContainer);\n          endContainer = startContainer;\n        }\n\n        endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n        var newStartOffset = {\n          s: 0,\n          e: 0\n        };\n        var startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n        var mergeEndCon = !endContainer.parentNode;\n        if (mergeEndCon) endContainer = startContainer;\n        var newEndOffset = {\n          s: 0,\n          e: 0\n        };\n        var endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n        startOffset += newStartOffset.s;\n        endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n        var newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n        element.parentNode.replaceChild(pNode, element);\n        startContainer = util.getNodeFromPath(startPath, pNode);\n        endContainer = util.getNodeFromPath(endPath, pNode);\n        return {\n          startContainer: startContainer,\n          startOffset: startOffset + newOffsets[0],\n          endContainer: endContainer,\n          endOffset: endOffset + newOffsets[1]\n        };\n      },\n\n      /**\r\n       * @description wraps first line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {Object} { container, offset }\r\n       * @private\r\n       */\n      _nodeChange_startLine: function _nodeChange_startLine(element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        var parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n          var sameTag = true;\n          var s = startCon.previousSibling;\n\n          while (s) {\n            if (!util.onlyZeroWidthSpace(s)) {\n              sameTag = false;\n              break;\n            }\n\n            s = s.previousSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              container: startCon,\n              offset: startOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        var el = element;\n        var nNodeArray = [newInnerNode];\n        var pNode = element.cloneNode(false);\n        var container = startCon;\n        var offset = startOff;\n        var passNode = false;\n        var pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          var childNodes = current.childNodes;\n\n          for (var i = 0, len = childNodes.length, vNode; i < len; i++) {\n            var child = childNodes[i];\n            if (!child) continue;\n            var coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  pNode.appendChild(child.cloneNode(true));\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode);\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              var anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  if (_isMaintainedNode(vNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              var isTopNode = pCurrent.length > 0;\n              var childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                var aChildren = childNode.childNodes;\n\n                for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n                nNodeArray.push(newInnerNode);\n              } else if (isTopNode) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // startContainer\n\n\n            if (!passNode && child === container) {\n              var line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              var prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n              var textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n\n              if (anchorNode) {\n                var _a2 = _getMaintainedNode(ancestor);\n\n                if (_a2 && _a2.parentNode !== line) {\n                  var m = _a2;\n                  var p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(_a2);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              var prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== line && newNode !== null) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              var _childNode3 = pCurrent.pop() || ancestor;\n\n              appendNode = newNode = _childNode3;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_childNode3 !== ancestor) {\n                newInnerNode.appendChild(_childNode3);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n              line.appendChild(newInnerNode);\n              container = textNode;\n              offset = 0;\n              passNode = true;\n              ancestor.appendChild(container);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.appendChild(vNode);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            container: startCon,\n            offset: startOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (var i = 0; i < nNodeArray.length; i++) {\n            var removeNode = nNodeArray[i];\n            var rChildren = removeNode.childNodes;\n            var textNode = rChildren[0];\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n            if (i === 0) container = textNode;\n          }\n        } else if (isRemoveNode) {\n          for (var _i51 = 0; _i51 < nNodeArray.length; _i51++) {\n            this._stripRemoveNode(nNodeArray[_i51]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = 0;\n          } // node change\n\n\n          var offsets = {\n            s: 0,\n            e: 0\n          };\n          var path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          var newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          container: container,\n          offset: offset\n        };\n      },\n\n      /**\r\n       * @description wraps mid lines selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @private\r\n       */\n      _nodeChange_middleLine: function _nodeChange_middleLine(element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck) {\n        // not add tag\n        if (!isRemoveNode) {\n          var tempNode = element.cloneNode(true);\n          var newNodeName = newInnerNode.nodeName;\n          var newCssText = newInnerNode.style.cssText;\n          var newClass = newInnerNode.className;\n          var children = tempNode.childNodes;\n          var i = 0,\n              len = children.length;\n\n          for (var child; i < len; i++) {\n            child = children[i];\n            if (child.nodeType === 3) break;\n\n            if (child.nodeName === newNodeName) {\n              child.style.cssText += newCssText;\n              util.addClass(child, newClass);\n            } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              continue;\n            } else if (len === 1) {\n              children = child.childNodes;\n              len = children.length;\n              i = -1;\n              continue;\n            } else {\n              break;\n            }\n          }\n\n          if (len > 0 && i === len) {\n            element.innerHTML = tempNode.innerHTML;\n            return;\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        var pNode = element.cloneNode(false);\n        var nNodeArray = [newInnerNode];\n        var noneChange = true;\n\n        (function recursionFunc(current, ancestor) {\n          var childNodes = current.childNodes;\n\n          for (var _i52 = 0, _len32 = childNodes.length, vNode; _i52 < _len32; _i52++) {\n            var _child = childNodes[_i52];\n            if (!_child) continue;\n            var coverNode = ancestor;\n\n            if (!util.isBreak(_child) && util._isIgnoreNodeChange(_child)) {\n              if (newInnerNode.childNodes.length > 0) {\n                pNode.appendChild(newInnerNode);\n                newInnerNode = newInnerNode.cloneNode(false);\n              }\n\n              pNode.appendChild(_child.cloneNode(true));\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n              ancestor = newInnerNode;\n              continue;\n            } else {\n              vNode = validation(_child);\n\n              if (vNode) {\n                noneChange = false;\n                ancestor.appendChild(vNode);\n                if (_child.nodeType === 1) coverNode = vNode;\n              }\n            }\n\n            if (!util.isBreak(_child)) recursionFunc(_child, coverNode);\n          }\n        })(element, newInnerNode); // not remove tag\n\n\n        if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return;\n        pNode.appendChild(newInnerNode);\n\n        if (isRemoveFormat && isRemoveNode) {\n          for (var _i53 = 0; _i53 < nNodeArray.length; _i53++) {\n            var removeNode = nNodeArray[_i53];\n            var rChildren = removeNode.childNodes;\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n        } else if (isRemoveNode) {\n          for (var _i54 = 0; _i54 < nNodeArray.length; _i54++) {\n            this._stripRemoveNode(nNodeArray[_i54]);\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n        util.mergeSameTags(pNode, null, true); // node change\n\n        element.parentNode.replaceChild(pNode, element);\n      },\n\n      /**\r\n       * @description wraps last line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {Object} { container, offset }\r\n       * @private\r\n       */\n      _nodeChange_endLine: function _nodeChange_endLine(element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        var parentCon = endCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          var sameTag = true;\n          var e = endCon.nextSibling;\n\n          while (e) {\n            if (!util.onlyZeroWidthSpace(e)) {\n              sameTag = false;\n              break;\n            }\n\n            e = e.nextSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              container: endCon,\n              offset: endOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        var el = element;\n        var nNodeArray = [newInnerNode];\n        var pNode = element.cloneNode(false);\n        var container = endCon;\n        var offset = endOff;\n        var passNode = false;\n        var pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          var childNodes = current.childNodes;\n\n          for (var i = childNodes.length - 1, vNode; 0 <= i; i--) {\n            var child = childNodes[i];\n            if (!child) continue;\n            var coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  var cloneChild = child.cloneNode(true);\n                  pNode.insertBefore(cloneChild, ancestor);\n                  pNode.insertBefore(newInnerNode, cloneChild);\n                  nNodeArray.push(newInnerNode);\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              var anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  if (_isMaintainedNode(vNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              var isTopNode = pCurrent.length > 0;\n              var childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                var aChildren = childNode.childNodes;\n\n                for (var a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.insertBefore(childNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (isTopNode) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  var ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.insertBefore(newInnerNode, pNode.firstChild);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // endContainer\n\n\n            if (!passNode && child === container) {\n              anchorNode = _getMaintainedNode(child);\n              var afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n              var textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n\n                var _a3 = _getMaintainedNode(ancestor);\n\n                if (_a3 && _a3.parentNode !== pNode) {\n                  var m = _a3;\n                  var p = null;\n\n                  while (m.parentNode !== pNode) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.insertBefore(_a3, m.parentNode.firstChild);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                ancestor.insertBefore(afterNode, ancestor.firstChild);\n              }\n\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== pNode && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              var _childNode4 = pCurrent.pop() || ancestor;\n\n              appendNode = newNode = _childNode4;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_childNode4 !== ancestor) {\n                newInnerNode.insertBefore(_childNode4, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n              if (anchorNode) {\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.insertBefore(anchorNode, pNode.firstChild);\n                anchorNode = null;\n              } else {\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              }\n\n              container = textNode;\n              offset = textNode.data.length;\n              passNode = true;\n              ancestor.insertBefore(container, ancestor.firstChild);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.insertBefore(vNode, ancestor.firstChild);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            container: endCon,\n            offset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (var i = 0; i < nNodeArray.length; i++) {\n            var removeNode = nNodeArray[i];\n            var rChildren = removeNode.childNodes;\n            var textNode = null;\n\n            while (rChildren[0]) {\n              textNode = rChildren[0];\n              pNode.insertBefore(textNode, removeNode);\n            }\n\n            util.removeItem(removeNode);\n\n            if (i === nNodeArray.length - 1) {\n              container = textNode;\n              offset = textNode.textContent.length;\n            }\n          }\n        } else if (isRemoveNode) {\n          for (var _i55 = 0; _i55 < nNodeArray.length; _i55++) {\n            this._stripRemoveNode(nNodeArray[_i55]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n            util.removeEmptyNode(pNode, null);\n            return {\n              container: null,\n              offset: 0\n            };\n          }\n\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = container.textContent.length;\n          } else if (util.onlyZeroWidthSpace(container)) {\n            container = newInnerNode;\n            offset = 1;\n          } // node change\n\n\n          var offsets = {\n            s: 0,\n            e: 0\n          };\n          var path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          var newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          container: container,\n          offset: offset\n        };\n      },\n\n      /**\r\n       * @description Run plugin calls and basic commands.\r\n       * @param {String} command Command string\r\n       * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n       * @param {Element} target The element of command button\r\n       */\n      actionCall: function actionCall(command, display, target) {\n        // call plugins\n        if (display) {\n          if (/submenu/.test(display) && (target.nextElementSibling === null || target !== this.submenuActiveButton)) {\n            this.callPlugin(command, this.submenuOn.bind(this, target), target);\n            return;\n          } else if (/dialog/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this), target);\n            return;\n          } else if (/command/.test(display)) {\n            this.callPlugin(command, this.plugins[command].action.bind(this), target);\n          } else if (/container/.test(display) && (target.nextElementSibling === null || target !== this.containerActiveButton)) {\n            this.callPlugin(command, this.containerOn.bind(this, target), target);\n            return;\n          }\n        } // default command\n        else if (command) {\n            this.commandHandler(target, command);\n          }\n\n        if (/submenu/.test(display)) {\n          this.submenuOff();\n        } else {\n          this.submenuOff();\n          this.containerOff();\n        }\n      },\n\n      /**\r\n       * @description Execute command of command button(All Buttons except submenu and dialog)\r\n       * (undo, redo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n       * @param {Element} target The element of command button\r\n       * @param {String} command Property of command button (data-value)\r\n       */\n      commandHandler: function commandHandler(target, command) {\n        switch (command) {\n          case 'selectAll':\n            var wysiwyg = context.element.wysiwyg;\n            var first = util.getChildElement(wysiwyg.firstChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, false) || wysiwyg.firstChild;\n            var last = util.getChildElement(wysiwyg.lastChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, true) || wysiwyg.lastChild;\n            if (!first || !last) return;\n            this.setRange(first, 0, last, last.textContent.length);\n            this.focus();\n            break;\n\n          case 'codeView':\n            util.toggleClass(target, 'active');\n            this.toggleCodeView();\n            break;\n\n          case 'fullScreen':\n            util.toggleClass(target, 'active');\n            this.toggleFullScreen(target);\n            break;\n\n          case 'indent':\n          case 'outdent':\n            this.indent(command);\n            break;\n\n          case 'undo':\n            this.history.undo();\n            break;\n\n          case 'redo':\n            this.history.redo();\n            break;\n\n          case 'removeFormat':\n            this.removeFormat();\n            this.focus();\n            break;\n\n          case 'print':\n            this.print();\n            break;\n\n          case 'preview':\n            this.preview();\n            break;\n\n          case 'showBlocks':\n            util.toggleClass(target, 'active');\n            this.toggleDisplayBlocks();\n            break;\n\n          case 'save':\n            if (typeof options.callBackSave === 'function') {\n              options.callBackSave(this.getContents(false));\n            } else if (typeof functions.save === 'function') {\n              functions.save();\n            } else {\n              throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\n            }\n\n            if (context.tool.save) context.tool.save.setAttribute('disabled', true);\n            break;\n\n          default:\n            // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'\n            command = this._defaultCommand[command.toLowerCase()] || command;\n            if (!this.commandMap[command]) this.commandMap[command] = target;\n            var btn = util.hasClass(this.commandMap[command], 'active') ? null : util.createElement(command);\n            var removeNode = command;\n\n            if (/^SUB$/i.test(command) && util.hasClass(this.commandMap.SUP, 'active')) {\n              removeNode = 'SUP';\n            } else if (/^SUP$/i.test(command) && util.hasClass(this.commandMap.SUB, 'active')) {\n              removeNode = 'SUB';\n            }\n\n            this.nodeChange(btn, null, [removeNode], false);\n            this.focus();\n        }\n      },\n\n      /**\r\n       * @description Remove format of the currently selected range\r\n       */\n      removeFormat: function removeFormat() {\n        this.nodeChange(null, null, null, null);\n      },\n\n      /**\r\n       * @description This method implements indentation to selected range.\r\n       * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n       * @param {String} command Separator (\"indent\" or \"outdent\")\r\n       */\n      indent: function indent(command) {\n        var range = this.getRange();\n        var rangeLines = this.getSelectedElements(null);\n        var cells = [];\n        var shift = 'indent' !== command;\n        var sc = range.startContainer;\n        var ec = range.endContainer;\n        var so = range.startOffset;\n        var eo = range.endOffset;\n\n        for (var i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n          f = rangeLines[i];\n\n          if (!util.isListCell(f) || !this.plugins.list) {\n            margin = /\\d+/.test(f.style.marginLeft) ? util.getNumber(f.style.marginLeft, 0) : 0;\n\n            if (shift) {\n              margin -= 25;\n            } else {\n              margin += 25;\n            }\n\n            util.setStyle(f, 'marginLeft', margin <= 0 ? '' : margin + 'px');\n          } else {\n            if (shift || f.previousElementSibling) {\n              cells.push(f);\n            }\n          }\n        } // list cells\n\n\n        if (cells.length > 0) {\n          this.plugins.list.editInsideList.call(this, shift, cells);\n        }\n\n        this.effectNode = null;\n        this.setRange(sc, so, ec, eo); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Add or remove the class name of \"body\" so that the code block is visible\r\n       */\n      toggleDisplayBlocks: function toggleDisplayBlocks() {\n        util.toggleClass(context.element.wysiwyg, 'se-show-block');\n\n        this._resourcesStateChange();\n      },\n\n      /**\r\n       * @description Changes to code view or wysiwyg view\r\n       */\n      toggleCodeView: function toggleCodeView() {\n        var isCodeView = this._variable.isCodeView;\n        this.controllersOff();\n        util.toggleDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n        if (isCodeView) {\n          this._setCodeDataToEditor();\n\n          context.element.wysiwygFrame.scrollTop = 0;\n          context.element.code.style.display = 'none';\n          context.element.wysiwygFrame.style.display = 'block';\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\n          this._variable.isCodeView = false;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = false;\n\n            if (/balloon|balloon-always/i.test(options.mode)) {\n              context.element._arrow.style.display = '';\n              this._isInline = false;\n              this._isBalloon = true;\n\n              event._hideToolbar();\n            }\n          }\n\n          this.nativeFocus(); // history stack\n\n          this.history.push(false);\n        } else {\n          this._setEditorDataToCodeView();\n\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + 'px' : 'auto';\n          if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n          this._variable.isCodeView = true;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = true;\n\n            if (this._isBalloon) {\n              context.element._arrow.style.display = 'none';\n              context.element.toolbar.style.left = '';\n              this._isInline = true;\n              this._isBalloon = false;\n\n              event._showToolbarInline();\n            }\n          }\n\n          this._variable._range = null;\n          context.element.code.focus();\n        }\n\n        this._checkPlaceholder();\n      },\n\n      /**\r\n       * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n       * @private\r\n       */\n      _setCodeDataToEditor: function _setCodeDataToEditor() {\n        var code_html = this._getCodeView();\n\n        if (options.fullPage) {\n          var parseDocument = this._parser.parseFromString(code_html, 'text/html');\n\n          var headChildren = parseDocument.head.children;\n\n          for (var i = 0, len = headChildren.length; i < len; i++) {\n            if (/script/i.test(headChildren[i].tagName)) {\n              parseDocument.head.removeChild(headChildren[i]);\n              i--, len--;\n            }\n          }\n\n          this._wd.head.innerHTML = parseDocument.head.innerHTML;\n          this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n          var attrs = parseDocument.body.attributes;\n\n          for (var _i56 = 0, _len33 = attrs.length; _i56 < _len33; _i56++) {\n            if (attrs[_i56].name === 'contenteditable') continue;\n\n            this._wd.body.setAttribute(attrs[_i56].name, attrs[_i56].value);\n          }\n\n          if (!util.hasClass(this._wd.body, 'sun-editor-editable')) util.addClass(this._wd.body, 'sun-editor-editable');\n        } else {\n          context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<p><br></p>';\n        }\n      },\n\n      /**\r\n       * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n       * @private\r\n       */\n      _setEditorDataToCodeView: function _setEditorDataToCodeView() {\n        var codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n        var codeValue = '';\n\n        if (options.fullPage) {\n          var attrs = util.getAttributesToString(this._wd.body, null);\n          codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\n        } else {\n          codeValue = codeContents;\n        }\n\n        context.element.code.style.display = 'block';\n        context.element.wysiwygFrame.style.display = 'none';\n\n        this._setCodeView(codeValue);\n      },\n\n      /**\r\n       * @description Changes to full screen or default screen\r\n       * @param {Element} element full screen button\r\n       */\n      toggleFullScreen: function toggleFullScreen(element) {\n        var topArea = context.element.topArea;\n        var toolbar = context.element.toolbar;\n        var editorArea = context.element.editorArea;\n        var wysiwygFrame = context.element.wysiwygFrame;\n        var code = context.element.code;\n        var _var = this._variable;\n        this.controllersOff();\n\n        if (!_var.isFullScreen) {\n          _var.isFullScreen = true;\n          _var._fullScreenAttrs.inline = this._isInline;\n          _var._fullScreenAttrs.balloon = this._isBalloon;\n\n          if (this._isInline || this._isBalloon) {\n            this._isInline = false;\n            this._isBalloon = false;\n          }\n\n          topArea.style.position = 'fixed';\n          topArea.style.top = '0';\n          topArea.style.left = '0';\n          topArea.style.width = '100%';\n          topArea.style.height = '100%';\n          topArea.style.zIndex = '2147483647';\n\n          if (context.element._stickyDummy.style.display !== (true && '')) {\n            _var._fullScreenAttrs.sticky = true;\n            context.element._stickyDummy.style.display = 'none';\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          _var._bodyOverflow = _d.body.style.overflow;\n          _d.body.style.overflow = 'hidden';\n          _var._editorAreaOriginCssText = editorArea.style.cssText;\n          _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n          _var._codeOriginCssText = code.style.cssText;\n          editorArea.style.cssText = toolbar.style.cssText = '';\n          wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\n          toolbar.style.position = 'relative';\n          toolbar.style.display = 'block';\n          _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n          editorArea.style.height = _var.innerHeight_fullScreen + 'px';\n          util.changeElement(element.querySelector('svg'), icons.reduction);\n\n          if (options.iframe && options.height === 'auto') {\n            editorArea.style.overflow = 'auto';\n\n            this._iframeAutoHeight();\n          }\n        } else {\n          _var.isFullScreen = false;\n          wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n          code.style.cssText = _var._codeOriginCssText;\n          toolbar.style.cssText = '';\n          editorArea.style.cssText = _var._editorAreaOriginCssText;\n          topArea.style.cssText = _var._originCssText;\n          _d.body.style.overflow = _var._bodyOverflow;\n\n          if (options.stickyToolbar > -1) {\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          if (_var._fullScreenAttrs.sticky) {\n            _var._fullScreenAttrs.sticky = false;\n            context.element._stickyDummy.style.display = 'block';\n            util.addClass(toolbar, \"se-toolbar-sticky\");\n          }\n\n          this._isInline = _var._fullScreenAttrs.inline;\n          this._isBalloon = _var._fullScreenAttrs.balloon;\n          if (this._isInline) event._showToolbarInline();\n          event.onScroll_window();\n          util.changeElement(element.querySelector('svg'), icons.expansion);\n        }\n      },\n\n      /**\r\n       * @description Prints the current contents of the editor.\r\n       */\n      print: function print() {\n        var iframe = util.createElement('IFRAME');\n        iframe.style.display = 'none';\n\n        _d.body.appendChild(iframe);\n\n        var printDocument = util.getIframeDocument(iframe);\n        var contentsHTML = this.getContents(true);\n        var wDoc = this._wd;\n\n        if (options.iframe) {\n          var arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '<style>' + util.getPageStyle(wDoc) + '</style>' + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          var contents = util.createElement('DIV');\n          var style = util.createElement('STYLE');\n          style.innerHTML = util.getPageStyle(wDoc);\n          contents.className = 'sun-editor-editable';\n          contents.innerHTML = contentsHTML;\n          printDocument.head.appendChild(style);\n          printDocument.body.appendChild(contents);\n        }\n\n        try {\n          iframe.focus(); // IE or Edge\n\n          if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n            try {\n              iframe.contentWindow.document.execCommand('print', false, null);\n            } catch (e) {\n              iframe.contentWindow.print();\n            }\n          } else {\n            // Other browsers\n            iframe.contentWindow.print();\n          }\n        } catch (error) {\n          throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\n        } finally {\n          util.removeItem(iframe);\n        }\n      },\n\n      /**\r\n       * @description Open the preview window.\r\n       */\n      preview: function preview() {\n        var contentsHTML = this.getContents(true);\n\n        var windowObject = _w.open('', '_blank');\n\n        windowObject.mimeType = 'text/html';\n        var wDoc = this._wd;\n\n        if (options.iframe) {\n          var arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '<style>body {overflow: auto !important;}</style>' + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.preview + '</title>' + '<style>' + util.getPageStyle(wDoc) + '</style>' + '</head>' + '<body class=\"sun-editor-editable\">' + contentsHTML + '</body>' + '</html>');\n        }\n      },\n\n      /**\r\n       * @description Sets the HTML string\r\n       * @param {String} html HTML string\r\n       */\n      setContents: function setContents(html) {\n        var convertValue = this.convertContentsForEditor(html);\n\n        this._resetComponents();\n\n        if (!core._variable.isCodeView) {\n          context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n          core.history.push(false);\n        } else {\n          var value = this.convertHTMLForCodeView(convertValue);\n\n          core._setCodeView(value);\n        }\n      },\n\n      /**\r\n       * @description Gets the current contents\r\n       * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {Object}\r\n       */\n      getContents: function getContents(onlyContents) {\n        var contents = context.element.wysiwyg.innerHTML;\n        var renderHTML = util.createElement('DIV');\n        renderHTML.innerHTML = contents;\n        var figcaptions = util.getListChildren(renderHTML, function (current) {\n          return /FIGCAPTION/i.test(current.nodeName);\n        });\n\n        for (var i = 0, len = figcaptions.length; i < len; i++) {\n          figcaptions[i].removeAttribute('contenteditable');\n        }\n\n        if (options.fullPage && !onlyContents) {\n          var attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\n          return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\n        } else {\n          return renderHTML.innerHTML;\n        }\n      },\n\n      /**\r\n       * @description Returns HTML string according to tag type and configuration.\r\n       * Use only \"cleanHTML\", \"convertContentsForEditor\"\r\n       * @param {Node} node Node\r\n       * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n       * @private\r\n       */\n      _makeLine: function _makeLine(node, requireFormat) {\n        // element\n        if (node.nodeType === 1) {\n          if (util._notAllowedTags(node)) return '';\n\n          if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n            return node.outerHTML;\n          } else {\n            return '<p>' + node.outerHTML + '</p>';\n          }\n        } // text\n\n\n        if (node.nodeType === 3) {\n          if (!requireFormat) return node.textContent;\n          var textArray = node.textContent.split(/\\n/g);\n          var html = '';\n\n          for (var i = 0, tLen = textArray.length, text; i < tLen; i++) {\n            text = textArray[i].trim();\n            if (text.length > 0) html += '<p>' + text + '</p>';\n          }\n\n          return html;\n        } // comments\n\n\n        if (node.nodeType === 8 && this._allowHTMLComments) {\n          return '<__comment__>' + node.textContent.trim() + '</__comment__>';\n        }\n\n        return '';\n      },\n\n      /**\r\n       * @description Gets the clean HTML code for editor\r\n       * @param {String} html HTML string\r\n       * @param {String|RegExp} whitelist Regular expression of allowed tags.\r\n       * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n       * @returns {String}\r\n       */\n      cleanHTML: function cleanHTML(html, whitelist) {\n        var dom = _d.createRange().createContextualFragment(html);\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\n        }\n\n        var domTree = dom.childNodes;\n        var cleanHTML = '';\n        var requireFormat = false;\n\n        for (var i = 0, len = domTree.length, t; i < len; i++) {\n          t = domTree[i];\n\n          if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._notAllowedTags(t)) {\n            requireFormat = true;\n            break;\n          }\n        }\n\n        for (var _i57 = 0, _len34 = domTree.length; _i57 < _len34; _i57++) {\n          cleanHTML += this._makeLine(domTree[_i57], requireFormat);\n        }\n\n        cleanHTML = cleanHTML.replace(/\\n/g, '').replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/g, '').replace(this.editorTagsWhitelistRegExp, '').replace(/<__comment__>/g, '<!-- ').replace(/<\\/__comment__>/g, ' -->').replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\n          var v = null;\n\n          var tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z]+/)[0].toLowerCase()];\n\n          if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n          if (v) {\n            for (var _i58 = 0, _len35 = v.length; _i58 < _len35; _i58++) {\n              if (/^class=\"(?!(__se__|se-))/.test(v[_i58])) continue;\n              t += ' ' + v[_i58];\n            }\n          }\n\n          return t;\n        }.bind(this));\n        if (!this._attributesTagsWhitelist.span) cleanHTML = cleanHTML.replace(/<\\/?(span[^>^<]*)>/g, '');\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return util._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\n      },\n\n      /**\r\n       * @description Converts contents into a format that can be placed in an editor\r\n       * @param {String} contents contents\r\n       * @returns {String}\r\n       */\n      convertContentsForEditor: function convertContentsForEditor(contents) {\n        var dom = _d.createRange().createContextualFragment(contents);\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\n        }\n\n        var returnHTML = '';\n        var domTree = dom.childNodes;\n\n        for (var i = 0, len = domTree.length; i < len; i++) {\n          returnHTML += this._makeLine(domTree[i], true);\n        }\n\n        if (returnHTML.length === 0) return '<p><br></p>';\n        returnHTML = util.htmlRemoveWhiteSpace(returnHTML);\n        returnHTML = returnHTML.replace(this.editorTagsWhitelistRegExp, '').replace(/\\n/g, '').replace(/<__comment__>/g, '<!-- ').replace(/<\\/__comment__>/g, ' -->');\n        return util._tagConvertor(returnHTML);\n      },\n\n      /**\r\n       * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n       * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n       * @returns {String}\r\n       */\n      convertHTMLForCodeView: function convertHTMLForCodeView(html) {\n        var returnHTML = '';\n        var reg = _w.RegExp;\n        var brReg = new reg('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\n        var isFormatElement = util.isFormatElement.bind(util);\n        var wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\n        var indentSize = this._variable.codeIndent * 1;\n        indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\n\n        (function recursionFunc(element, indent, lineBR) {\n          var children = element.childNodes;\n          var elementRegTest = brReg.test(element.nodeName);\n          var elementIndent = elementRegTest ? indent : '';\n\n          for (var i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\n            node = children[i];\n            nodeRegTest = brReg.test(node.nodeName);\n            br = nodeRegTest ? '\\n' : '';\n            lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\n\n            if (node.nodeType === 8) {\n              returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\n              continue;\n            }\n\n            if (node.nodeType === 3) {\n              returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? '' : node.data);\n              continue;\n            }\n\n            if (node.childNodes.length === 0) {\n              returnHTML += (/^(HR)$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\n              continue;\n            }\n\n            node.innerHTML = node.innerHTML;\n            var tag = node.nodeName.toLowerCase();\n            returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(reg('<' + tag + '[^>]*>', 'i'))[0] + br;\n            recursionFunc(node, indent + indentSize, '');\n            returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' : false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\n          }\n        })(wDoc, '', '\\n');\n\n        return returnHTML.trim() + '\\n';\n      },\n\n      /**\r\n       * @description Add an event to document.\r\n       * When created as an Iframe, the same event is added to the document in the Iframe.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       * @param {Boolean} useCapture Use event capture\r\n       */\n      addDocEvent: function addDocEvent(type, listener, useCapture) {\n        _d.addEventListener(type, listener, useCapture);\n\n        if (options.iframe) {\n          this._wd.addEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description Remove events from document.\r\n       * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       */\n      removeDocEvent: function removeDocEvent(type, listener) {\n        _d.removeEventListener(type, listener);\n\n        if (options.iframe) {\n          this._wd.removeEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description The current number of characters is counted and displayed.\r\n       * @param {String} inputText Text added.\r\n       * @returns {Boolean}\r\n       * @private\r\n       */\n      _charCount: function _charCount(inputText) {\n        var charCounter = context.element.charCounter;\n        var maxCharCount = options.maxCharCount;\n        var nextCharCount = 0;\n        if (!!inputText) nextCharCount = core._getCharLength(inputText, options.charCounterType);\n\n        if (charCounter) {\n          _w.setTimeout(function () {\n            charCounter.textContent = functions.getCharCount(null);\n          });\n        }\n\n        if (maxCharCount > 0) {\n          var over = false;\n          var count = functions.getCharCount(null);\n\n          if (count > maxCharCount) {\n            over = true;\n\n            if (nextCharCount > 0) {\n              this._editorRange();\n\n              var range = this.getRange();\n              var endOff = range.endOffset - 1;\n              var text = this.getSelectionNode().textContent;\n              var slicePosition = range.endOffset - (count - maxCharCount);\n              this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n              this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n            }\n          } else if (count + nextCharCount > maxCharCount) {\n            over = true;\n          }\n\n          if (over) {\n            var charWrapper = context.element.charWrapper;\n\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\n              util.addClass(charWrapper, 'se-blink');\n\n              _w.setTimeout(function () {\n                util.removeClass(charWrapper, 'se-blink');\n              }, 600);\n            }\n\n            if (nextCharCount > 0) return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description Method used only in \"_charCount\".\r\n       * Depending on the option, the length of the character is taken.\r\n       * @param {String} content Content to count\r\n       * @param {String} charCounterType option - charCounterType\r\n       * @returns {Number}\r\n       */\n      _getCharLength: function _getCharLength(content, charCounterType) {\n        return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n      },\n\n      /**\r\n       * @description Check the components such as image and video and modify them according to the format.\r\n       * @private\r\n       */\n      _checkComponents: function _checkComponents() {\n        for (var i in this.componentInfoPlugins) {\n          this.componentInfoPlugins[i].checkComponentInfo.call(this);\n        }\n      },\n\n      /**\r\n       * @description Initialize the information of the components.\r\n       * @private\r\n       */\n      _resetComponents: function _resetComponents() {\n        for (var i in this.componentInfoPlugins) {\n          this.componentInfoPlugins[i].resetComponentInfo.call(this);\n        }\n      },\n\n      /**\r\n       * @description Set method in the code view area\r\n       * @param {String} value HTML string\r\n       * @private\r\n       */\n      _setCodeView: function _setCodeView(value) {\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.getDoc().setValue(value);\n        } else {\n          context.element.code.value = value;\n        }\n      },\n\n      /**\r\n       * @description Get method in the code view area\r\n       * @private\r\n       */\n      _getCodeView: function _getCodeView() {\n        return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n      },\n\n      /**\r\n       * @description Initializ core variable\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string when \"reload\" is true\r\n       * @private\r\n       */\n      _init: function _init(reload, _initHTML) {\n        this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n        this._wd = _d;\n        if (options.iframe && options.height === 'auto') this._iframeAuto = this._wd.body;\n        this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\n        this._htmlCheckWhitelistRegExp = new _w.RegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\n        this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|__comment__'));\n        this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n        var _attr = options.attributesWhitelist;\n        var tagsAttr = {};\n        var allAttr = '';\n\n        if (!!_attr) {\n          for (var k in _attr) {\n            if (k === 'all') {\n              allAttr = _attr[k] + '|';\n            } else {\n              tagsAttr[k] = new _w.RegExp('((?:' + _attr[k] + ')\\s*=\\s*\"[^\"]*\")', 'ig');\n            }\n          }\n        }\n\n        this._attributesWhitelistRegExp = new _w.RegExp('((?:' + allAttr + 'contenteditable|colspan|rowspan|target|href|src|class|type|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size)\\s*=\\s*\"[^\"]*\")', 'ig');\n        this._attributesTagsWhitelist = tagsAttr;\n        this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\n        this._isInline = /inline/i.test(options.mode);\n        this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n        this._isBalloonAlways = /balloon-always/i.test(options.mode);\n        this.commandMap = {\n          STRONG: context.tool.bold,\n          U: context.tool.underline,\n          EM: context.tool.italic,\n          DEL: context.tool.strike,\n          SUB: context.tool.subscript,\n          SUP: context.tool.superscript,\n          OUTDENT: context.tool.outdent,\n          INDENT: context.tool.indent\n        }; // Command plugins registration\n\n        this.activePlugins = [];\n        this.componentInfoPlugins = [];\n        var c, button;\n\n        for (var key in plugins) {\n          c = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (c.active && button) {\n            this.callPlugin(key, null, button);\n          }\n\n          if (typeof c.checkComponentInfo === 'function' && typeof c.resetComponentInfo === 'function') {\n            this.callPlugin(key, null, button);\n            this.componentInfoPlugins.push(c);\n          }\n        }\n\n        this._variable._originCssText = context.element.topArea.style.cssText;\n        this._placeholder = context.element.placeholder;\n        this._lineBreaker = context.element.lineBreaker;\n        this._lineBreakerButton = this._lineBreaker.querySelector('button'); // Excute history function\n\n        this.history = lib_history(this, event._onChange_historyStack); // Init, validate\n\n        if (!options.iframe) this._initWysiwygArea(reload, _initHTML);\n\n        _w.setTimeout(function () {\n          // after iframe loaded\n          if (options.iframe) {\n            this._wd = context.element.wysiwygFrame.contentDocument;\n            context.element.wysiwyg = this._wd.body;\n\n            this._initWysiwygArea(reload, _initHTML);\n\n            if (options.height === 'auto') this._iframeAuto = this._wd.body;\n          }\n\n          this._checkComponents();\n\n          this._componentsInfoInit = false;\n          this._componentsInfoReset = false;\n          this.history.reset(true);\n\n          this._resourcesStateChange();\n\n          if (typeof functions.onload === 'function') return functions.onload(this, reload);\n        }.bind(this));\n      },\n\n      /**\r\n       * @description Initializ wysiwyg area (Only called from core._init())\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string when \"reload\" is true\r\n       * @private\r\n       */\n      _initWysiwygArea: function _initWysiwygArea(reload, _initHTML) {\n        // Default style\n        if (options.defaultStyle) context.element.wysiwyg.style.cssText = options.defaultStyle; // Set html\n\n        if (!reload) {\n          context.element.wysiwyg.innerHTML = this.convertContentsForEditor(context.element.originElement.value);\n        } else if (_initHTML) {\n          context.element.wysiwyg.innerHTML = _initHTML;\n        }\n      },\n\n      /**\r\n       * @description Called when there are changes to tags in the wysiwyg region.\r\n       * @private\r\n       */\n      _resourcesStateChange: function _resourcesStateChange() {\n        core._iframeAutoHeight();\n\n        core._checkPlaceholder();\n      },\n\n      /**\r\n       * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n       * @private\r\n       */\n      _iframeAutoHeight: function _iframeAutoHeight() {\n        if (this._iframeAuto) {\n          _w.setTimeout(function () {\n            context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px';\n          });\n        }\n      },\n\n      /**\r\n       * @description Set display property when there is placeholder.\r\n       * @private\r\n       */\n      _checkPlaceholder: function _checkPlaceholder() {\n        if (this._placeholder) {\n          if (this._variable.isCodeView) {\n            this._placeholder.style.display = 'none';\n            return;\n          }\n\n          var wysiwyg = context.element.wysiwyg;\n\n          if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\n            this._placeholder.style.display = 'none';\n          } else {\n            this._placeholder.style.display = 'block';\n          }\n        }\n      },\n\n      /**\r\n       * @description If there is no default format, add a format and move \"selection\".\r\n       * Alternative code for - execCommand('formatBlock');\r\n       * @param {String|null} formatName Format tag name (default: 'P')\r\n       * @private\r\n       */\n      _setDefaultFormat: function _setDefaultFormat(formatName) {\n        if (!!this._resizingName) return;\n        var range = this.getRange();\n        var commonCon = range.commonAncestorContainer;\n        var startCon = range.startContainer;\n        var rangeEl = util.getRangeFormatElement(commonCon, null);\n        var focusNode, offset, format;\n        if (util.getParentElement(commonCon, util.isComponent)) return;\n        if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\n\n        if (rangeEl) {\n          format = util.createElement(formatName || 'P');\n          format.innerHTML = rangeEl.innerHTML;\n          if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n          rangeEl.innerHTML = format.outerHTML;\n          format = rangeEl.firstChild;\n          focusNode = util.getEdgeChildNodes(format, null).sc;\n\n          if (!focusNode) {\n            focusNode = util.createTextNode(util.zeroWidthSpace);\n            format.insertBefore(focusNode, format.firstChild);\n          }\n\n          offset = focusNode.textContent.length;\n          this.setRange(focusNode, offset, focusNode, offset);\n          return;\n        }\n\n        if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n          var br = null;\n\n          if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n            br = commonCon.firstChild;\n          } else {\n            br = util.createTextNode(util.zeroWidthSpace);\n            commonCon.appendChild(br);\n          }\n\n          this.setRange(br, 1, br, 1);\n        }\n\n        this.execCommand('formatBlock', false, formatName || 'P');\n        focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n        focusNode = focusNode ? focusNode.ec : commonCon;\n        format = util.getFormatElement(focusNode, null);\n\n        if (!format) {\n          this.removeRange();\n\n          this._editorRange();\n\n          return;\n        }\n\n        if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n        if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n        if (util.isBreak(focusNode)) {\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n          focusNode = zeroWidth;\n        }\n\n        offset = focusNode.nodeType === 3 ? focusNode.textContent.length : 1;\n        this.effectNode = null;\n        this.setRange(focusNode, offset, focusNode, offset);\n      }\n    };\n    /**\r\n     * @description event function\r\n     */\n\n    var event = {\n      _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\n      _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\n      _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\n      _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\n      _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\n      _keyCodeShortcut: {\n        65: 'A',\n        66: 'B',\n        83: 'S',\n        85: 'U',\n        73: 'I',\n        89: 'Y',\n        90: 'Z',\n        219: '[',\n        221: ']'\n      },\n      _shortcutCommand: function _shortcutCommand(keyCode, shift) {\n        var command = null;\n        var keyStr = event._keyCodeShortcut[keyCode];\n\n        switch (keyStr) {\n          case 'A':\n            command = 'selectAll';\n            break;\n\n          case 'B':\n            command = 'STRONG';\n            break;\n\n          case 'S':\n            if (shift) {\n              command = 'DEL';\n            }\n\n            break;\n\n          case 'U':\n            command = 'U';\n            break;\n\n          case 'I':\n            command = 'EM';\n            break;\n\n          case 'Z':\n            if (shift) {\n              command = 'redo';\n            } else {\n              command = 'undo';\n            }\n\n            break;\n\n          case 'Y':\n            command = 'redo';\n            break;\n\n          case '[':\n            command = 'outdent';\n            break;\n\n          case ']':\n            command = 'indent';\n            break;\n        }\n\n        if (!command) return false;\n        core.commandHandler(core.commandMap[command], command);\n        return true;\n      },\n      _applyTagEffects: function _applyTagEffects() {\n        var selectionNode = core.getSelectionNode();\n        if (selectionNode === core.effectNode) return;\n        core.effectNode = selectionNode;\n        var commandMap = core.commandMap;\n        var classOnCheck = this._onButtonsCheck;\n        var commandMapNodes = [];\n        var currentNodes = [];\n        var activePlugins = core.activePlugins;\n        var cLen = activePlugins.length;\n        var nodeName = '';\n\n        while (selectionNode.firstChild) {\n          selectionNode = selectionNode.firstChild;\n        }\n\n        for (var element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n          if (!element) break;\n          if (element.nodeType !== 1 || util.isBreak(element)) continue;\n          nodeName = element.nodeName.toUpperCase();\n          currentNodes.push(nodeName);\n          /* Active plugins */\n\n          for (var c = 0, _name4; c < cLen; c++) {\n            _name4 = activePlugins[c];\n\n            if (commandMapNodes.indexOf(_name4) === -1 && plugins[_name4].active.call(core, element)) {\n              commandMapNodes.push(_name4);\n            }\n          }\n\n          if (util.isFormatElement(element)) {\n            /* Outdent */\n            if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\n              if (util.isListCell(element) || element.style.marginLeft && util.getNumber(element.style.marginLeft, 0) > 0) {\n                commandMapNodes.push('OUTDENT');\n                commandMap.OUTDENT.removeAttribute('disabled');\n              }\n            }\n            /* Indent */\n\n\n            if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\n              commandMapNodes.push('INDENT');\n              commandMap.INDENT.setAttribute('disabled', true);\n            }\n\n            continue;\n          }\n          /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n          if (classOnCheck.test(nodeName)) {\n            commandMapNodes.push(nodeName);\n            util.addClass(commandMap[nodeName], 'active');\n          }\n        }\n        /** remove class, display text */\n\n\n        for (var key in commandMap) {\n          if (commandMapNodes.indexOf(key) > -1) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n        /** save current nodes */\n\n\n        core._variable.currentNodes = currentNodes.reverse();\n        /**  Displays the current node structure to resizingBar */\n\n        if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\n      },\n      _cancelCaptionEdit: function _cancelCaptionEdit() {\n        this.setAttribute('contenteditable', false);\n        this.removeEventListener('blur', event._cancelCaptionEdit);\n      },\n      onMouseDown_toolbar: function onMouseDown_toolbar(e) {\n        var target = e.target;\n        if (core._bindControllersOff) e.stopPropagation();\n\n        if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n          core._antiBlur = false;\n        } else {\n          e.preventDefault();\n        }\n\n        if (util.getParentElement(target, '.se-submenu')) {\n          e.stopPropagation();\n          core._notHideToolbar = true;\n        } else {\n          var command = target.getAttribute('data-command');\n          var className = target.className;\n\n          while (!command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\n            target = target.parentNode;\n            command = target.getAttribute('data-command');\n            className = target.className;\n          }\n\n          if (command === core._submenuName || command === core._containerName) {\n            e.stopPropagation();\n          }\n        }\n      },\n      onClick_toolbar: function onClick_toolbar(e) {\n        var target = e.target;\n        var display = target.getAttribute('data-display');\n        var command = target.getAttribute('data-command');\n        var className = target.className;\n\n        while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute('data-command');\n          display = target.getAttribute('data-display');\n          className = target.className;\n        }\n\n        if (!command && !display) return;\n        if (target.disabled) return;\n        if (!core.hasFocus) core.nativeFocus();\n        if (!core._variable.isCodeView) core._editorRange();\n        core.actionCall(command, display, target);\n      },\n      onMouseDown_wysiwyg: function onMouseDown_wysiwyg(e) {\n        if (context.element.wysiwyg.getAttribute('contenteditable') === 'false') return;\n        var tableCell = util.getParentElement(e.target, util.isCell);\n\n        if (tableCell) {\n          var tablePlugin = core.plugins.table;\n\n          if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n            core.callPlugin('table', function () {\n              tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n            }, null);\n          }\n        }\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n\n        if (functions.onMouseDown) functions.onMouseDown(e, core);\n      },\n      onClick_wysiwyg: function onClick_wysiwyg(e) {\n        var targetElement = e.target;\n        if (context.element.wysiwyg.getAttribute('contenteditable') === 'false') return;\n\n        if (/^FIGURE$/i.test(targetElement.nodeName)) {\n          var imageComponent = targetElement.querySelector('IMG');\n          var videoComponent = targetElement.querySelector('IFRAME');\n\n          if (imageComponent) {\n            e.preventDefault();\n            core.selectComponent(imageComponent, 'image');\n            return;\n          } else if (videoComponent) {\n            e.preventDefault();\n            core.selectComponent(videoComponent, 'video');\n            return;\n          }\n        }\n\n        var figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\n\n        if (figcaption && (!figcaption.getAttribute('contenteditable') || figcaption.getAttribute('contenteditable') === 'false')) {\n          e.preventDefault();\n          figcaption.setAttribute('contenteditable', true);\n          figcaption.focus();\n\n          if (core._isInline && !core._inlineToolbarAttr.isShow) {\n            event._showToolbarInline();\n\n            var hideToolbar = function hideToolbar() {\n              event._hideToolbar();\n\n              figcaption.removeEventListener('blur', hideToolbar);\n            };\n\n            figcaption.addEventListener('blur', hideToolbar);\n          }\n        }\n\n        _w.setTimeout(core._editorRange.bind(core));\n\n        core._editorRange();\n\n        var selectionNode = core.getSelectionNode();\n        var formatEl = util.getFormatElement(selectionNode, null);\n        var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl || formatEl === rangeEl) && targetElement.getAttribute('contenteditable') !== 'false') {\n          if (util.isList(rangeEl)) {\n            var oLi = util.createElement('LI');\n            var prevLi = selectionNode.nextElementSibling;\n            oLi.appendChild(selectionNode);\n            rangeEl.insertBefore(oLi, prevLi);\n          } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode)) {\n            core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\n          }\n\n          e.preventDefault();\n          core.focus();\n        } else {\n          event._applyTagEffects();\n        }\n\n        if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n        if (functions.onClick) functions.onClick(e, core);\n      },\n      _balloonDelay: null,\n      _showToolbarBalloonDelay: function _showToolbarBalloonDelay() {\n        if (event._balloonDelay) {\n          _w.clearTimeout(event._balloonDelay);\n        }\n\n        event._balloonDelay = _w.setTimeout(function () {\n          _w.clearTimeout(this._balloonDelay);\n\n          this._balloonDelay = null;\n\n          this._showToolbarBalloon();\n        }.bind(event), 350);\n      },\n      _toggleToolbarBalloon: function _toggleToolbarBalloon() {\n        core._editorRange();\n\n        var range = core.getRange();\n        if (core.currentControllerName === 'table' || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n      },\n      _showToolbarBalloon: function _showToolbarBalloon(rangeObj) {\n        if (!core._isBalloon) return;\n        var range = rangeObj || core.getRange();\n        var toolbar = context.element.toolbar;\n        var selection = core.getSelection();\n        var isDirTop;\n\n        if (core._isBalloonAlways && range.collapsed) {\n          isDirTop = true;\n        } else if (selection.focusNode === selection.anchorNode) {\n          isDirTop = selection.focusOffset < selection.anchorOffset;\n        } else {\n          var childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n          isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n        }\n\n        var rects = range.getClientRects();\n        rects = rects[isDirTop ? 0 : rects.length - 1];\n        var scrollLeft = 0;\n        var scrollTop = 0;\n        var el = context.element.topArea;\n\n        while (!!el) {\n          scrollLeft += el.scrollLeft;\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        }\n\n        var editorWidth = context.element.topArea.offsetWidth;\n\n        var offsets = event._getEditorOffsets();\n\n        var stickyTop = offsets.top;\n        var editorLeft = offsets.left;\n        toolbar.style.top = '-10000px';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n\n        if (!rects) {\n          var node = core.getSelectionNode();\n\n          if (util.isFormatElement(node)) {\n            var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            core.insertNode(zeroWidth, null);\n            core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n            core._editorRange();\n\n            rects = core.getRange().getClientRects();\n            rects = rects[isDirTop ? 0 : rects.length - 1];\n          }\n\n          if (!rects) {\n            var nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n            rects = {\n              left: nodeOffset.left,\n              top: nodeOffset.top,\n              right: nodeOffset.left,\n              bottom: nodeOffset.top + node.offsetHeight,\n              noText: true\n            };\n            scrollLeft = 0;\n            scrollTop = 0;\n          }\n\n          isDirTop = true;\n        }\n\n        var arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\n\n        var toolbarWidth = toolbar.offsetWidth;\n        var toolbarHeight = toolbar.offsetHeight;\n        var iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n        if (iframeRects) {\n          rects = {\n            left: rects.left + iframeRects.left,\n            top: rects.top + iframeRects.top,\n            right: rects.right + iframeRects.right - iframeRects.width,\n            bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n          };\n        }\n\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n        if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n          event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n        }\n\n        toolbar.style.visibility = '';\n      },\n      _setToolbarOffset: function _setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n        var padding = 1;\n        var toolbarWidth = toolbar.offsetWidth;\n        var toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n        var absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n        var overRight = absoluteLeft + toolbarWidth - editorWidth;\n        var t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        var l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n        var resetTop = false;\n        var space = t + (isDirTop ? event._getEditorOffsets().top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n        if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n          isDirTop = true;\n          resetTop = true;\n        } else if (isDirTop && _d.documentElement.offsetTop > space) {\n          isDirTop = false;\n          resetTop = true;\n        }\n\n        if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        toolbar.style.left = _w.Math.floor(l) + 'px';\n        toolbar.style.top = _w.Math.floor(t) + 'px';\n\n        if (isDirTop) {\n          util.removeClass(context.element._arrow, 'se-arrow-up');\n          util.addClass(context.element._arrow, 'se-arrow-down');\n          context.element._arrow.style.top = toolbarHeight + 'px';\n        } else {\n          util.removeClass(context.element._arrow, 'se-arrow-down');\n          util.addClass(context.element._arrow, 'se-arrow-up');\n          context.element._arrow.style.top = -arrowMargin + 'px';\n        }\n\n        var arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n        context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\n      },\n      _showToolbarInline: function _showToolbarInline() {\n        if (!core._isInline) return;\n        var toolbar = context.element.toolbar;\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n        core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n        core._inlineToolbarAttr.top = toolbar.style.top = -1 - toolbar.offsetHeight + 'px';\n        if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\n        event.onScroll_window();\n        core._inlineToolbarAttr.isShow = true;\n        toolbar.style.visibility = '';\n      },\n      _hideToolbar: function _hideToolbar() {\n        if (!core._notHideToolbar && !core._variable.isFullScreen) {\n          context.element.toolbar.style.display = 'none';\n          core._inlineToolbarAttr.isShow = false;\n        }\n      },\n      onInput_wysiwyg: function onInput_wysiwyg(e) {\n        core._editorRange();\n\n        var data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';\n\n        if (!core._charCount(data)) {\n          e.preventDefault();\n          e.stopPropagation();\n        } // history stack\n\n\n        core.history.push(true);\n        if (functions.onInput) functions.onInput(e, core);\n      },\n      _onShortcutKey: false,\n      onKeyDown_wysiwyg: function onKeyDown_wysiwyg(e) {\n        var keyCode = e.keyCode;\n        var shift = e.shiftKey;\n        var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92;\n        var alt = e.altKey;\n        core.submenuOff();\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n        /** Shortcuts */\n\n\n        if (ctrl && event._shortcutCommand(keyCode, shift)) {\n          event._onShortcutKey = true;\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        } else if (event._onShortcutKey) {\n          event._onShortcutKey = false;\n        }\n        /** default key action */\n\n\n        var selectionNode = core.getSelectionNode();\n        var range = core.getRange();\n        var selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n        var resizingName = core._resizingName;\n        var formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n        var rangeEl = util.getRangeFormatElement(formatEl, null);\n\n        switch (keyCode) {\n          case 8:\n            /** backspace key */\n            if (!selectRange) {\n              if (resizingName) {\n                e.preventDefault();\n                e.stopPropagation();\n                core.plugins[resizingName].destroy.call(core);\n                break;\n              }\n            }\n\n            if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              core._setDefaultFormat('P');\n\n              return false;\n            }\n\n            if (!selectRange && !formatEl.previousElementSibling && util.isWysiwygDiv(formatEl.parentNode) && util.isFormatElement(formatEl) && !util.isFreeFormatElement(formatEl) && !util.isListCell(formatEl) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n              e.preventDefault();\n              e.stopPropagation();\n              formatEl.innerHTML = '<br>';\n              var attrs = formatEl.attributes;\n\n              while (attrs[0]) {\n                formatEl.removeAttribute(attrs[0].name);\n              }\n\n              core.nativeFocus();\n              return false;\n            } // clean remove tag\n\n\n            if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n              if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n                e.preventDefault();\n                var offset = null;\n                var prev = selectionNode.parentNode.previousSibling;\n                var next = selectionNode.parentNode.nextSibling;\n\n                if (!prev) {\n                  if (!next) {\n                    prev = util.createElement('BR');\n                    formatEl.appendChild(prev);\n                  } else {\n                    prev = next;\n                    offset = 0;\n                  }\n                }\n\n                selectionNode.textContent = '';\n                util.removeItemAllParents(selectionNode, null, formatEl);\n                offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n                core.setRange(prev, offset, prev, offset);\n                break;\n              }\n            } // nested list\n\n\n            var commonCon = range.commonAncestorContainer;\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n                if (range.startContainer !== range.endContainer) {\n                  e.preventDefault();\n                  core.removeNode();\n\n                  if (range.startContainer.nodeType === 3) {\n                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                  } // history stack\n\n\n                  core.history.push(true);\n                } else {\n                  var _prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                  if (util.isListCell(_prev)) {\n                    e.preventDefault();\n                    var prevLast = _prev;\n\n                    if (!_prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild.lastElementChild;\n\n                      while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                        prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                      }\n\n                      _prev = prevLast;\n                    }\n\n                    var con = _prev === rangeEl.parentNode ? rangeEl.previousSibling : _prev.lastChild;\n\n                    if (!con) {\n                      con = util.createTextNode(util.zeroWidthSpace);\n                      rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                    }\n\n                    var _offset = con.nodeType === 3 ? con.textContent.length : 1;\n\n                    var children = formatEl.childNodes;\n                    var after = con;\n                    var child = children[0];\n\n                    while (child = children[0]) {\n                      _prev.insertBefore(child, after.nextSibling);\n\n                      after = child;\n                    }\n\n                    util.removeItem(formatEl);\n                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                    core.setRange(con, _offset, con, _offset); // history stack\n\n                    core.history.push(true);\n                  }\n                }\n\n                break;\n              } // detach range\n\n\n              if (!selectRange && range.startOffset === 0) {\n                var detach = true;\n                var comm = commonCon;\n\n                while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                  if (comm.previousSibling) {\n                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                      detach = false;\n                      break;\n                    }\n                  }\n\n                  comm = comm.parentNode;\n                }\n\n                if (detach && rangeEl.parentNode) {\n                  e.preventDefault();\n                  core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                  core.history.push(true);\n                  break;\n                }\n              }\n            } // component\n\n\n            if (!selectRange && range.startOffset === 0) {\n              if (util.isComponent(commonCon.previousSibling) || commonCon.nodeType === 3 && !commonCon.previousSibling && range.startOffset === 0 && range.endOffset === 0 && util.isComponent(formatEl.previousSibling)) {\n                var previousEl = formatEl.previousSibling;\n\n                if (util.hasClass(previousEl, 'se-image-container') || /^IMG$/i.test(previousEl.nodeName)) {\n                  previousEl = /^IMG$/i.test(previousEl.nodeName) ? previousEl : previousEl.querySelector('img');\n                  core.selectComponent(previousEl, 'image');\n                  if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                } else if (util.hasClass(previousEl, 'se-video-container')) {\n                  core.selectComponent(previousEl.querySelector('iframe'), 'video');\n                  if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                }\n\n                break;\n              }\n            }\n\n            break;\n\n          case 46:\n            /** delete key */\n            if (resizingName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[resizingName].destroy.call(core);\n              break;\n            } // component\n\n\n            if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n              var nextEl = formatEl.nextElementSibling;\n\n              if (!nextEl) {\n                e.preventDefault();\n                break;\n              }\n\n              if (util.isComponent(nextEl)) {\n                e.preventDefault();\n\n                if (util.onlyZeroWidthSpace(formatEl)) {\n                  util.removeItem(formatEl); // table component\n\n                  if (util.isTable(nextEl)) {\n                    var cell = util.getChildElement(nextEl, util.isCell, false);\n                    cell = cell.firstElementChild || cell;\n                    core.setRange(cell, 0, cell, 0);\n                    break;\n                  }\n                } // resizing component\n\n\n                if (util.hasClass(nextEl, 'se-component') || /^(IMG|IFRAME)$/i.test(nextEl.nodeName)) {\n                  e.stopPropagation();\n\n                  if (util.hasClass(nextEl, 'se-image-container') || /^IMG$/i.test(nextEl.nodeName)) {\n                    nextEl = /^IMG$/i.test(nextEl.nodeName) ? nextEl : nextEl.querySelector('img');\n                    core.selectComponent(nextEl, 'image');\n                  } else if (util.hasClass(nextEl, 'se-video-container')) {\n                    core.selectComponent(nextEl.querySelector('iframe'), 'video');\n                  }\n                }\n\n                break;\n              }\n            } // nested list\n\n\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n              if (range.startContainer !== range.endContainer) core.removeNode();\n\n              var _next = util.getArrayItem(formatEl.children, util.isList, false);\n\n              _next = _next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n              if (_next && (util.isList(_next) || util.getArrayItem(_next.children, util.isList, false))) {\n                e.preventDefault();\n\n                var _con, _children2;\n\n                if (util.isList(_next)) {\n                  var _child2 = _next.firstElementChild;\n                  _children2 = _child2.childNodes;\n                  _con = _children2[0];\n\n                  while (_children2[0]) {\n                    formatEl.insertBefore(_children2[0], _next);\n                  }\n\n                  util.removeItem(_child2);\n                } else {\n                  _con = _next.firstChild;\n                  _children2 = _next.childNodes;\n\n                  while (_children2[0]) {\n                    formatEl.appendChild(_children2[0]);\n                  }\n\n                  util.removeItem(_next);\n                }\n\n                core.setRange(_con, 0, _con, 0); // history stack\n\n                core.history.push(true);\n              }\n\n              break;\n            }\n\n            break;\n\n          case 9:\n            /** tab key */\n            if (resizingName) break;\n            e.preventDefault();\n            if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n            var isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n            var selectedFormats = core.getSelectedElements(null);\n            selectionNode = core.getSelectionNode();\n            var cells = [];\n            var lines = [];\n            var fc = util.isListCell(selectedFormats[0]),\n                lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n            var r = {\n              sc: range.startContainer,\n              so: range.startOffset,\n              ec: range.endContainer,\n              eo: range.endOffset\n            };\n\n            for (var i = 0, len = selectedFormats.length, f; i < len; i++) {\n              f = selectedFormats[i];\n\n              if (util.isListCell(f)) {\n                if (!f.previousElementSibling && !shift) {\n                  continue;\n                } else {\n                  cells.push(f);\n                }\n              } else {\n                lines.push(f);\n              }\n            } // Nested list\n\n\n            if (cells.length > 0 && isEdge && core.plugins.list) {\n              r = core.plugins.list.editInsideList.call(core, shift, cells);\n            } else {\n              // table\n              var tableCell = util.getParentElement(selectionNode, util.isCell);\n\n              if (tableCell && isEdge) {\n                var table = util.getParentElement(tableCell, 'table');\n\n                var _cells5 = util.getListChildren(table, util.isCell);\n\n                var idx = shift ? util.prevIdx(_cells5, tableCell) : util.nextIdx(_cells5, tableCell);\n                if (idx === _cells5.length && !shift) idx = 0;\n                if (idx === -1 && shift) idx = _cells5.length - 1;\n                var moveCell = _cells5[idx];\n                if (!moveCell) break;\n                moveCell = moveCell.firstElementChild || moveCell;\n                core.setRange(moveCell, 0, moveCell, 0);\n                break;\n              }\n\n              lines = lines.concat(cells);\n              fc = lc = null;\n            } // Lines tab(4)\n\n\n            if (lines.length > 0) {\n              if (!shift) {\n                var tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join(\"\\xA0\"));\n\n                if (lines.length === 1) {\n                  var textRange = core.insertNode(tabText, null);\n\n                  if (!fc) {\n                    r.sc = tabText;\n                    r.so = textRange.endOffset;\n                  }\n\n                  if (!lc) {\n                    r.ec = tabText;\n                    r.eo = textRange.endOffset;\n                  }\n                } else {\n                  var _len36 = lines.length - 1;\n\n                  for (var _i59 = 0, _child3; _i59 <= _len36; _i59++) {\n                    _child3 = lines[_i59].firstChild;\n                    if (!_child3) continue;\n\n                    if (util.isBreak(_child3)) {\n                      lines[_i59].insertBefore(tabText.cloneNode(false), _child3);\n                    } else {\n                      _child3.textContent = tabText.textContent + _child3.textContent;\n                    }\n                  }\n\n                  var firstChild = util.getChildElement(lines[0], 'text', false);\n                  var endChild = util.getChildElement(lines[_len36], 'text', true);\n\n                  if (!fc && firstChild) {\n                    r.sc = firstChild;\n                    r.so = 0;\n                  }\n\n                  if (!lc && endChild) {\n                    r.ec = endChild;\n                    r.eo = endChild.textContent.length;\n                  }\n                }\n              } else {\n                var _len37 = lines.length - 1;\n\n                for (var _i60 = 0, line; _i60 <= _len37; _i60++) {\n                  line = lines[_i60].childNodes;\n\n                  for (var c = 0, cLen = line.length, _child4; c < cLen; c++) {\n                    _child4 = line[c];\n                    if (!_child4) break;\n                    if (util.onlyZeroWidthSpace(_child4)) continue;\n\n                    if (/^\\s{1,4}$/.test(_child4.textContent)) {\n                      util.removeItem(_child4);\n                    } else if (/^\\s{1,4}/.test(_child4.textContent)) {\n                      _child4.textContent = _child4.textContent.replace(/^\\s{1,4}/, '');\n                    }\n\n                    break;\n                  }\n                }\n\n                var _firstChild = util.getChildElement(lines[0], 'text', false);\n\n                var _endChild = util.getChildElement(lines[_len37], 'text', true);\n\n                if (!fc && _firstChild) {\n                  r.sc = _firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && _endChild) {\n                  r.ec = _endChild;\n                  r.eo = _endChild.textContent.length;\n                }\n              }\n            }\n\n            core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n            core.history.push(false);\n            break;\n\n          case 13:\n            /** enter key */\n            var freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n            if (!shift && freeFormatEl) {\n              e.preventDefault();\n              var selectionFormat = selectionNode === freeFormatEl;\n              var wSelection = core.getSelection();\n              var _children3 = selectionNode.childNodes,\n                  _offset2 = wSelection.focusOffset,\n                  _prev2 = selectionNode.previousElementSibling,\n                  _next2 = selectionNode.nextSibling;\n\n              if (!!_children3 && (selectionFormat && range.collapsed && _children3.length - 1 <= _offset2 + 1 && util.isBreak(_children3[_offset2]) && (!_children3[_offset2 + 1] || (!_children3[_offset2 + 2] || util.onlyZeroWidthSpace(_children3[_offset2 + 2].textContent)) && _children3[_offset2 + 1].nodeType === 3 && util.onlyZeroWidthSpace(_children3[_offset2 + 1].textContent)) && _offset2 > 0 && util.isBreak(_children3[_offset2 - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(_prev2) && (util.isBreak(_prev2.previousSibling) || !util.onlyZeroWidthSpace(_prev2.previousSibling.textContent)) && (!_next2 || !util.isBreak(_next2) && util.onlyZeroWidthSpace(_next2.textContent)))) {\n                if (selectionFormat) util.removeItem(_children3[_offset2 - 1]);else util.removeItem(selectionNode);\n                var newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                util.copyFormatAttributes(newEl, freeFormatEl);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n\n              if (selectionFormat) {\n                functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? '<br>' : '<br><br>', true);\n                var focusNode = wSelection.focusNode;\n                var wOffset = wSelection.focusOffset;\n\n                if (freeFormatEl === focusNode) {\n                  focusNode = focusNode.childNodes[wOffset - _offset2 > 1 ? wOffset - 1 : wOffset];\n                }\n\n                core.setRange(focusNode, 1, focusNode, 1);\n              } else {\n                var focusNext = wSelection.focusNode.nextSibling;\n                var br = util.createElement('BR');\n                core.insertNode(br, null);\n                var brPrev = br.previousSibling,\n                    brNext = br.nextSibling;\n\n                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                  br.parentNode.insertBefore(br.cloneNode(false), br);\n                  core.setRange(br, 1, br, 1);\n                } else {\n                  core.setRange(brNext, 0, brNext, 0);\n                }\n              }\n\n              event._onShortcutKey = true;\n              break;\n            }\n\n            if (selectRange) break;\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              var _range = core.getRange();\n\n              if ((_range.commonAncestorContainer.nodeType === 3 ? !_range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n                e.preventDefault();\n                var _newEl2 = null;\n\n                if (util.isListCell(rangeEl.parentNode)) {\n                  rangeEl = formatEl.parentNode.parentNode.parentNode;\n                  var splitRange = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n                  _newEl2 = util.createElement('LI');\n                  rangeEl.insertBefore(_newEl2, splitRange);\n                } else {\n                  var newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : 'P';\n                  _newEl2 = util.createElement(newFormat);\n                  var edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                  edge.cc.insertBefore(_newEl2, edge.ec);\n                }\n\n                _newEl2.innerHTML = '<br>';\n                util.copyFormatAttributes(_newEl2, formatEl);\n                util.removeItemAllParents(formatEl, null, null);\n                core.setRange(_newEl2, 1, _newEl2, 1);\n                break;\n              }\n            }\n\n            if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\n              e.preventDefault();\n              formatEl = core.appendFormatTag(formatEl, null);\n              core.setRange(formatEl, 0, formatEl, 0);\n            }\n\n            if (resizingName) {\n              e.preventDefault();\n              e.stopPropagation();\n              var compContext = context[resizingName];\n              var container = compContext._container;\n              var sibling = container.previousElementSibling || container.nextElementSibling;\n              var _newEl3 = null;\n\n              if (util.isListCell(container.parentNode)) {\n                _newEl3 = util.createElement('BR');\n              } else {\n                _newEl3 = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : 'P');\n                _newEl3.innerHTML = '<br>';\n              }\n\n              container.parentNode.insertBefore(_newEl3, container);\n              core.callPlugin(resizingName, function () {\n                var size = core.plugins.resizing.call_controller_resize.call(core, compContext._element, resizingName);\n                core.plugins[resizingName].onModifyMode.call(core, compContext._element, size);\n              }, null);\n            }\n\n            break;\n\n          case 27:\n            if (resizingName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.controllersOff();\n              return false;\n            }\n\n            break;\n        }\n\n        if (shift && /16/.test(keyCode)) {\n          e.preventDefault();\n          e.stopPropagation();\n          var tablePlugin = core.plugins.table;\n\n          if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n            var _cell7 = util.getParentElement(formatEl, util.isCell);\n\n            if (_cell7) {\n              tablePlugin.onTableCellMultiSelect.call(core, _cell7, true);\n              return;\n            }\n          }\n        }\n\n        var textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n          var zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n        }\n\n        if (functions.onKeyDown) functions.onKeyDown(e, core);\n      },\n      onKeyUp_wysiwyg: function onKeyUp_wysiwyg(e) {\n        if (event._onShortcutKey) return;\n\n        core._editorRange();\n\n        var range = core.getRange();\n        var keyCode = e.keyCode;\n        var ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92;\n        var alt = e.altKey;\n        var selectionNode = core.getSelectionNode();\n\n        if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n          if (core._isBalloonAlways) {\n            if (keyCode !== 27) event._showToolbarBalloonDelay();\n          } else {\n            event._showToolbarBalloon();\n\n            return;\n          }\n        }\n        /** when format tag deleted */\n\n\n        if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '') {\n          e.preventDefault();\n          e.stopPropagation();\n          selectionNode.innerHTML = '';\n          var oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : 'P');\n          oFormatTag.innerHTML = '<br>';\n          selectionNode.appendChild(oFormatTag);\n          core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n          event._applyTagEffects();\n\n          core.history.push(false);\n          return;\n        }\n\n        var formatEl = util.getFormatElement(selectionNode, null);\n        var rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode)) {\n          core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\n\n          selectionNode = core.getSelectionNode();\n        }\n\n        if (event._directionKeyCode.test(keyCode)) {\n          event._applyTagEffects();\n        }\n\n        var textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && util.getByteLength(e.key) < 3) {\n          var so = range.startOffset,\n              eo = range.endOffset;\n          var frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\n          so = range.startOffset - frontZeroWidthCnt;\n          eo = range.endOffset - frontZeroWidthCnt;\n          selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\n          core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n        }\n\n        core._charCount(''); // history stack\n\n\n        core.history.push(true);\n        if (functions.onKeyUp) functions.onKeyUp(e, core);\n      },\n      onScroll_wysiwyg: function onScroll_wysiwyg(e) {\n        core.controllersOff();\n        core._lineBreaker.style.display = 'none';\n        if (core._isBalloon) event._hideToolbar();\n        if (functions.onScroll) functions.onScroll(e, core);\n      },\n      onFocus_wysiwyg: function onFocus_wysiwyg(e) {\n        if (core._antiBlur) return;\n        core.hasFocus = true;\n        if (core._isInline) event._showToolbarInline();\n        if (functions.onFocus) functions.onFocus(e, core);\n      },\n      onBlur_wysiwyg: function onBlur_wysiwyg(e) {\n        if (core._antiBlur) return;\n        core.hasFocus = false;\n        core.controllersOff();\n        if (core._isInline || core._isBalloon) event._hideToolbar();\n        if (functions.onBlur) functions.onBlur(e, core);\n      },\n      onMouseDown_resizingBar: function onMouseDown_resizingBar(e) {\n        e.stopPropagation();\n        core._variable.resizeClientY = e.clientY;\n        context.element.resizeBackground.style.display = 'block';\n\n        function closureFunc() {\n          context.element.resizeBackground.style.display = 'none';\n\n          _d.removeEventListener('mousemove', event._resize_editor);\n\n          _d.removeEventListener('mouseup', closureFunc);\n        }\n\n        _d.addEventListener('mousemove', event._resize_editor);\n\n        _d.addEventListener('mouseup', closureFunc);\n      },\n      _resize_editor: function _resize_editor(e) {\n        var resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n        context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\n        core._variable.resizeClientY = e.clientY;\n      },\n      onResize_window: function onResize_window() {\n        core.controllersOff();\n        if (context.element.toolbar.offsetWidth === 0) return;\n\n        if (core._variable.isFullScreen) {\n          core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n          context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\n          return;\n        }\n\n        if (core._variable.isCodeView && core._isInline) {\n          event._showToolbarInline();\n\n          return;\n        }\n\n        core._iframeAutoHeight();\n\n        if (core._sticky) {\n          context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + 'px';\n          event.onScroll_window();\n        }\n      },\n      onScroll_window: function onScroll_window() {\n        if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n        var element = context.element;\n        var editorHeight = element.editorArea.offsetHeight;\n        var y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n        var editorTop = event._getEditorOffsets().top - (core._isInline ? element.toolbar.offsetHeight : 0);\n\n        if (y < editorTop) {\n          event._offStickyToolbar();\n        } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n          if (!core._sticky) event._onStickyToolbar();\n          element.toolbar.style.top = editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + 'px';\n        } else if (y >= editorTop) {\n          event._onStickyToolbar();\n        }\n      },\n      _getEditorOffsets: function _getEditorOffsets() {\n        var offsetEl = context.element.topArea;\n        var t = 0,\n            l = 0,\n            s = 0;\n\n        while (offsetEl) {\n          t += offsetEl.offsetTop;\n          l += offsetEl.offsetLeft;\n          s += offsetEl.scrollTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        return {\n          top: t,\n          left: l,\n          scroll: s\n        };\n      },\n      _getPageBottomSpace: function _getPageBottomSpace() {\n        return _d.documentElement.scrollHeight - (event._getEditorOffsets().top + context.element.topArea.offsetHeight);\n      },\n      _onStickyToolbar: function _onStickyToolbar() {\n        var element = context.element;\n\n        if (!core._isInline) {\n          element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\n          element._stickyDummy.style.display = 'block';\n        }\n\n        element.toolbar.style.top = options.stickyToolbar + 'px';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\n        util.addClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = true;\n      },\n      _offStickyToolbar: function _offStickyToolbar() {\n        var element = context.element;\n        element._stickyDummy.style.display = 'none';\n        element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\n        element.editorArea.style.marginTop = '';\n        util.removeClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = false;\n      },\n      _codeViewAutoHeight: function _codeViewAutoHeight() {\n        context.element.code.style.height = context.element.code.scrollHeight + 'px';\n      },\n      onPaste_wysiwyg: function onPaste_wysiwyg(e) {\n        var clipboardData = e.clipboardData;\n        if (!clipboardData) return true;\n        var plainText = clipboardData.getData('text/plain').replace(/\\n/g, '');\n        var cleanData = core.cleanHTML(clipboardData.getData('text/html'), core.pasteTagsWhitelistRegExp);\n\n        var maxCharCount = core._charCount(options.charCounterType === 'byte-html' ? cleanData : plainText);\n\n        if (typeof functions.onPaste === 'function' && !functions.onPaste(e, cleanData, maxCharCount, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        if (!maxCharCount) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        if (cleanData) {\n          e.stopPropagation();\n          e.preventDefault();\n          functions.insertHTML(cleanData, true);\n        } else {\n          // history stack\n          core.history.push(true);\n        }\n      },\n      onCut_wysiwyg: function onCut_wysiwyg() {\n        _w.setTimeout(function () {\n          // history stack\n          core.history.push(false);\n        });\n      },\n      onDragOver_wysiwyg: function onDragOver_wysiwyg(e) {\n        e.preventDefault();\n      },\n      onDrop_wysiwyg: function onDrop_wysiwyg(e) {\n        var dataTransfer = e.dataTransfer;\n        if (!dataTransfer) return true; // files\n\n        var files = dataTransfer.files;\n\n        if (files.length > 0 && core.plugins.image) {\n          event._setDropLocationSelection(e);\n\n          core.callPlugin('image', function () {\n            context.image.imgInputFile.files = files;\n            core.plugins.image.onRender_imgInput.call(core);\n            context.image.imgInputFile.files = null;\n          }, null); // check char count\n        } else if (!core._charCount(dataTransfer.getData('text/plain'))) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false; // html paste\n        } else {\n          var cleanData = core.cleanHTML(dataTransfer.getData('text/html'), core.pasteTagsWhitelistRegExp);\n\n          if (cleanData) {\n            event._setDropLocationSelection(e);\n\n            functions.insertHTML(cleanData, true);\n          }\n        }\n\n        if (functions.onDrop) functions.onDrop(e, core);\n      },\n      onmouseMove_wysiwyg: function onmouseMove_wysiwyg(e) {\n        var component = util.getParentElement(e.target, util.isComponent);\n        var lineBreakerStyle = core._lineBreaker.style;\n\n        if (component) {\n          var scrollTop = 0;\n          var el = context.element.wysiwyg;\n\n          do {\n            scrollTop += el.scrollTop;\n            el = el.parentElement;\n          } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n          var wScroll = context.element.wysiwyg.scrollTop;\n\n          var offsets = event._getEditorOffsets();\n\n          var componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\n          var y = e.pageY + scrollTop + (options.iframe ? context.element.toolbar.offsetHeight : 0);\n          var c = componentTop + (options.iframe ? scrollTop : offsets.top);\n          var dir = '',\n              top = '';\n\n          if (!util.isFormatElement(component.previousElementSibling) && y < c + 20) {\n            top = componentTop;\n            dir = 't';\n          } else if (!util.isFormatElement(component.nextElementSibling) && y > c + component.offsetHeight - 20) {\n            top = componentTop + component.offsetHeight;\n            dir = 'b';\n          } else {\n            lineBreakerStyle.display = 'none';\n            return;\n          }\n\n          core._variable._lineBreakComp = component;\n          core._variable._lineBreakDir = dir;\n          lineBreakerStyle.top = top - wScroll + 'px';\n          lineBreakerStyle.visibility = 'hidden';\n          lineBreakerStyle.display = 'block';\n          core._lineBreakerButton.style.left = component.offsetLeft + component.offsetWidth / 2 - core._lineBreakerButton.offsetWidth / 2 + 'px';\n          lineBreakerStyle.visibility = '';\n        } // off line breaker\n        else if (lineBreakerStyle.display !== 'none') {\n            lineBreakerStyle.display = 'none';\n          }\n      },\n      _onMouseDown_lineBreak: function _onMouseDown_lineBreak(e) {\n        e.preventDefault();\n      },\n      _onLineBreak: function _onLineBreak() {\n        var component = core._variable._lineBreakComp;\n        var format = util.createElement('P');\n        format.innerHTML = '<br>';\n        component.parentNode.insertBefore(format, core._variable._lineBreakDir === 't' ? component : component.nextSibling);\n        core._lineBreaker.style.display = 'none';\n        core._variable._lineBreakComp = null;\n        core.setRange(format.firstChild, 1, format.firstChild, 1); // history stack\n\n        core.history.push(false);\n      },\n      _setDropLocationSelection: function _setDropLocationSelection(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        var range = core.getRange();\n        core.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n      },\n      _onChange_historyStack: function _onChange_historyStack() {\n        event._applyTagEffects();\n\n        if (context.tool.save) context.tool.save.removeAttribute('disabled');\n        if (functions.onChange) functions.onChange(core.getContents(true), core);\n      },\n      _addEvent: function _addEvent() {\n        var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        /** toolbar event */\n\n        context.element.toolbar.addEventListener('mousedown', event.onMouseDown_toolbar, false);\n        context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\n        /** editor area */\n\n        eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\n        eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\n        eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\n        eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\n        eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\n        eventWysiwyg.addEventListener('dragover', event.onDragOver_wysiwyg, false);\n        eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\n        eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\n        eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\n        eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\n        /** line breaker */\n\n        eventWysiwyg.addEventListener('mousemove', event.onmouseMove_wysiwyg, false);\n\n        core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\n\n        core._lineBreakerButton.addEventListener('click', event._onLineBreak, false);\n        /** Events are registered only when there is a table plugin.  */\n\n\n        if (core.plugins.table) {\n          eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {\n            passive: true,\n            useCapture: false\n          });\n        }\n        /** code view area auto line */\n\n\n        if (options.height === 'auto' && !options.codeMirrorEditor) {\n          context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\n        }\n        /** resizingBar */\n\n\n        if (context.element.resizingBar) {\n          if (/\\d+/.test(options.height)) {\n            context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\n          } else {\n            util.addClass(context.element.resizingBar, 'se-resizing-none');\n          }\n        }\n        /** window event */\n\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n\n        _w.addEventListener('resize', event.onResize_window, false);\n\n        if (options.stickyToolbar > -1) {\n          _w.addEventListener('scroll', event.onScroll_window, false);\n        }\n      },\n      _removeEvent: function _removeEvent() {\n        var eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        context.element.toolbar.removeEventListener('mousedown', event.onMouseDown_toolbar);\n        context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\n        eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\n        eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\n        eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\n        eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\n        eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\n        eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\n        eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\n        eventWysiwyg.removeEventListener('dragover', event.onDragOver_wysiwyg);\n        eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\n        eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\n        eventWysiwyg.removeEventListener('mousemove', event.onmouseMove_wysiwyg);\n\n        core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\n\n        core._lineBreakerButton.removeEventListener('click', event._onLineBreak);\n\n        eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n        eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\n        eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\n        context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\n\n        if (context.element.resizingBar) {\n          context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\n        }\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n      }\n    };\n    /** functions */\n\n    var functions = {\n      /**\r\n       * @description Core, Util object\r\n       */\n      core: core,\n      util: util,\n\n      /**\r\n       * @description Event functions\r\n       * @param {Object} e Event Object\r\n       * @param {Object} core Core object\r\n       */\n      onload: null,\n      onScroll: null,\n      onMouseDown: null,\n      onClick: null,\n      onInput: null,\n      onKeyDown: null,\n      onKeyUp: null,\n      onDrop: null,\n      onChange: null,\n      onPaste: null,\n      onFocus: null,\n      onBlur: null,\n\n      /**\r\n       * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n       * @param {Element} toolbar Toolbar Element\r\n       * @param {Object} context The editor's context object (editor.getContext())\r\n       * @param {Object} core Core object\r\n       */\n      showInline: null,\n\n      /**\r\n       * @description Called just after the controller is positioned and displayed on the screen.\r\n       * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n       * @param {String} name The name of the plugin that called the controller\r\n       * @param {Array} controllers Array of Controller elements\r\n       * @param {Object} core Core object\r\n       */\n      showController: null,\n\n      /**\r\n       * @description It replaces the default callback function of the image upload\r\n       * @param {Object} response Response object\r\n       * @param {Object} info Input information\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - currentImage: If isUpdate is true, the currently selected image.\r\n       * @param {Object} core Core object\r\n       */\n      imageUploadHandler: null,\n\n      /**\r\n       * @description Called before the image is uploaded\r\n       * If false is returned, no image upload is performed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info Input information\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean}\r\n       */\n      onImageUploadBefore: null,\n\n      /**\r\n       * @description Called when the image is uploaded, updated, deleted\r\n       * @param {Element} targetElement Current img element\r\n       * @param {Number} index Uploaded index\r\n       * @param {String} state Upload status ('create', 'update', 'delete')\r\n       * @param {Object} imageInfo Image info object\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: img element\r\n       * - src: src attribute of img tag\r\n       * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n       * @param {Object} core Core object\r\n       */\n      onImageUpload: null,\n\n      /**\r\n       * @description Called when the image is upload failed\r\n       * @param {String} errorMessage Error message\r\n       * @param {Object} result Result info Object\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean}\r\n       */\n      onImageUploadError: null,\n\n      /**\r\n       * @description Called when the video(iframe) is is uploaded, updated, deleted\r\n       * @param {Element} targetElement Current iframe element\r\n       * @param {Number} index Uploaded index\r\n       * @param {String} state Upload status ('create', 'update', 'delete')\r\n       * @param {Object} videoInfo Video info object\r\n       * - index: data index\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: iframe element\r\n       * - src: src attribute of iframe tag\r\n       * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n       * @param {Object} core Core object\r\n       */\n      onVideoUpload: null,\n\n      /**\r\n       * @description Add or reset option property\r\n       * @param {Object} options Options\r\n       */\n      setOptions: function setOptions(_options) {\n        event._removeEvent();\n\n        core.plugins = _options.plugins || core.plugins;\n        var mergeOptions = [_options, _options].reduce(function (init, option) {\n          for (var key in option) {\n            if (key === 'plugins' && option[key] && init[key]) {\n              (function () {\n                var i = init[key],\n                    o = option[key];\n                i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                  return i[name];\n                });\n                o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                  return o[name];\n                });\n                init[key] = o.filter(function (val) {\n                  return i.indexOf(val) === -1;\n                }).concat(i);\n              })();\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n\n        var cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, _options);\n\n        if (cons.callButtons) {\n          pluginCallButtons = cons.callButtons;\n          core.initPlugins = {};\n        }\n\n        if (cons.plugins) {\n          core.plugins = plugins = cons.plugins;\n        } // reset context\n\n\n        var _initHTML = context.element.wysiwyg.innerHTML;\n        var el = context.element;\n        var constructed = {\n          _top: el.topArea,\n          _relative: el.relative,\n          _toolBar: el.toolbar,\n          _editorArea: el.editorArea,\n          _wysiwygArea: el.wysiwygFrame,\n          _codeArea: el.code,\n          _placeholder: el.placeholder,\n          _resizingBar: el.resizingBar,\n          _navigation: el.navigation,\n          _charCounter: el.charCounter,\n          _charWrapper: el.charWrapper,\n          _loading: el.loading,\n          _lineBreaker: el.lineBreaker,\n          _resizeBack: el.resizeBackground,\n          _stickyDummy: el._stickyDummy,\n          _arrow: el._arrow\n        };\n        options = mergeOptions;\n        core.lang = lang = options.lang;\n        core.context = context = lib_context(context.element.originElement, constructed, options);\n        core._componentsInfoReset = true;\n\n        core._init(true, _initHTML);\n\n        event._addEvent();\n\n        core._charCount('');\n\n        event._offStickyToolbar();\n\n        event.onResize_window();\n      },\n\n      /**\r\n       * @description Set \"options.defaultStyle\" style.\r\n       * Define the style of the edit area\r\n       * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n       * @param {String} style Style string\r\n       */\n      setDefaultStyle: function setDefaultStyle(style) {\n        var optionStyle = util._setDefaultOptionStyle(options);\n\n        if (typeof style === 'string' && style.trim().length > 0) {\n          context.element.wysiwyg.style.cssText = optionStyle + style;\n        } else {\n          context.element.wysiwyg.style.cssText = optionStyle;\n        }\n      },\n\n      /**\r\n       * @description Open a notice area\r\n       * @param {String} message Notice message\r\n       */\n      noticeOpen: function noticeOpen(message) {\n        core.notice.open.call(core, message);\n      },\n\n      /**\r\n       * @description Close a notice area\r\n       */\n      noticeClose: function noticeClose() {\n        core.notice.close.call(core);\n      },\n\n      /**\r\n       * @description Copying the contents of the editor to the original textarea\r\n       */\n      save: function save() {\n        context.element.originElement.value = core.getContents(false);\n      },\n\n      /**\r\n       * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n       * @returns {Object}\r\n       */\n      getContext: function getContext() {\n        return context;\n      },\n\n      /**\r\n       * @description Gets the contents of the suneditor\r\n       * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {String}\r\n       */\n      getContents: function getContents(onlyContents) {\n        return core.getContents(onlyContents);\n      },\n\n      /**\r\n       * @description Get the editor's number of characters or binary data size.\r\n       * You can use the \"charCounterType\" option format.\r\n       * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n       * If argument is no value, the currently set \"charCounterType\" option is used.\r\n       * @returns {Number}\r\n       */\n      getCharCount: function getCharCount(charCounterType) {\n        charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\n        return core._getCharLength(charCounterType === 'byte-html' ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n      },\n\n      /**\r\n       * @description Gets uploaded images informations\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: img element\r\n       * - src: src attribute of img tag\r\n       * @returns {Array}\r\n       */\n      getImagesInfo: function getImagesInfo() {\n        return context.image ? context.image._imagesInfo : [];\n      },\n\n      /**\r\n       * @description Gets uploaded videos informations\r\n       * - index: data index\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: iframe element\r\n       * - src: src attribute of iframe tag\r\n       * @returns {Array}\r\n       */\n      getVideosInfo: function getVideosInfo() {\n        return context.video ? context.video._videosInfo : [];\n      },\n\n      /**\r\n       * @description Upload images using image plugin\r\n       * @param {FileList} files FileList\r\n       */\n      insertImage: function insertImage(files) {\n        if (!core.plugins.image || !files) return;\n        if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n        core.focus();\n      },\n\n      /**\r\n       * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n       * @param {Element|String} html HTML Element or HTML string or plain string\r\n       * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n       */\n      insertHTML: function insertHTML(html, notCleaningData) {\n        if (typeof html === 'string') {\n          if (!notCleaningData) html = core.cleanHTML(html, null);\n\n          try {\n            var dom = _d.createRange().createContextualFragment(html);\n\n            var domTree = dom.childNodes;\n            var c, a, t;\n\n            while (c = domTree[0]) {\n              t = core.insertNode(c, a);\n              a = c;\n            }\n\n            var offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n            core.setRange(a, offset, a, offset);\n          } catch (error) {\n            core.execCommand('insertHTML', false, html);\n          }\n        } else {\n          if (util.isComponent(html)) {\n            core.insertComponent(html, false);\n          } else {\n            var afterNode = null;\n\n            if (util.isFormatElement(html) || util.isMedia(html)) {\n              afterNode = util.getFormatElement(core.getSelectionNode(), null);\n            }\n\n            core.insertNode(html, afterNode);\n          }\n        }\n\n        core.effectNode = null;\n        core.focus(); // history stack\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Change the contents of the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      setContents: function setContents(contents) {\n        core.setContents(contents);\n      },\n\n      /**\r\n       * @description Add contents to the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      appendContents: function appendContents(contents) {\n        var convertValue = core.convertContentsForEditor(contents);\n\n        if (!core._variable.isCodeView) {\n          var temp = util.createElement('DIV');\n          temp.innerHTML = convertValue;\n          var wysiwyg = context.element.wysiwyg;\n          var children = temp.children;\n\n          for (var i = 0, len = children.length; i < len; i++) {\n            wysiwyg.appendChild(children[i]);\n          }\n        } else {\n          core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\n        } // history stack\n\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Disable the suneditor\r\n       */\n      disabled: function disabled() {\n        context.tool.cover.style.display = 'block';\n        context.element.wysiwyg.setAttribute('contenteditable', false);\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', true);\n        } else {\n          context.element.code.setAttribute('disabled', 'disabled');\n        }\n      },\n\n      /**\r\n       * @description Enable the suneditor\r\n       */\n      enabled: function enabled() {\n        context.tool.cover.style.display = 'none';\n        context.element.wysiwyg.setAttribute('contenteditable', true);\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', false);\n        } else {\n          context.element.code.removeAttribute('disabled');\n        }\n      },\n\n      /**\r\n       * @description Show the suneditor\r\n       */\n      show: function show() {\n        var topAreaStyle = context.element.topArea.style;\n        if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\n      },\n\n      /**\r\n       * @description Hide the suneditor\r\n       */\n      hide: function hide() {\n        context.element.topArea.style.display = 'none';\n      },\n\n      /**\r\n       * @description Destroy the suneditor\r\n       */\n      destroy: function destroy() {\n        /** remove history */\n        core.history._destroy();\n        /** remove event listeners */\n\n\n        event._removeEvent();\n        /** remove element */\n\n\n        util.removeItem(context.element.topArea);\n        /** remove object reference */\n\n        for (var k in core) {\n          delete core[k];\n        }\n\n        for (var k in event) {\n          delete event[k];\n        }\n\n        for (var k in context) {\n          delete context[k];\n        }\n\n        for (var k in pluginCallButtons) {\n          delete pluginCallButtons[k];\n        }\n        /** remove user object */\n\n\n        for (var k in this) {\n          delete this[k];\n        }\n      },\n\n      /**\r\n       * @description Toolbar methods\r\n       */\n      toolbar: {\n        /**\r\n         * @description Disable the toolbar\r\n         */\n        disabled: function disabled() {\n          context.tool.cover.style.display = 'block';\n        },\n\n        /**\r\n         * @description Enable the toolbar\r\n         */\n        enabled: function enabled() {\n          context.tool.cover.style.display = 'none';\n        },\n\n        /**\r\n         * @description Show the toolbar\r\n         */\n        show: function show() {\n          if (core._isInline) {\n            event._showToolbarInline();\n          } else {\n            context.element.toolbar.style.display = '';\n            context.element._stickyDummy.style.display = '';\n          }\n        },\n\n        /**\r\n         * @description Hide the toolbar\r\n         */\n        hide: function hide() {\n          if (core._isInline) {\n            event._hideToolbar();\n          } else {\n            context.element.toolbar.style.display = 'none';\n            context.element._stickyDummy.style.display = 'none';\n          }\n        }\n      }\n    };\n    /** initialize core and add event listeners */\n\n    core._init(false, null);\n\n    event._addEvent();\n\n    core._charCount(''); // functionss\n\n\n    core.functions = functions; // register notice module\n\n    core.addModule([_notice]);\n    return functions;\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var suneditor = {\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function init(init_options) {\n      return {\n        create: function (idOrElement, options) {\n          return this.create(idOrElement, options, init_options);\n        }.bind(this)\n      };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function create(idOrElement, options, _init_options) {\n      if (typeof options !== 'object') options = {};\n\n      if (_init_options) {\n        options = [_init_options, options].reduce(function (init, option) {\n          for (var key in option) {\n            if (key === 'plugins' && option[key] && init[key]) {\n              (function () {\n                var i = init[key],\n                    o = option[key];\n                i = i.length ? i : Object.keys(i).map(function (name) {\n                  return i[name];\n                });\n                o = o.length ? o : Object.keys(o).map(function (name) {\n                  return o[name];\n                });\n                init[key] = o.filter(function (val) {\n                  return i.indexOf(val) === -1;\n                }).concat(i);\n              })();\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n      }\n\n      var element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n      if (!element) {\n        if (typeof idOrElement === 'string') {\n          throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n        }\n\n        throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n      }\n\n      var cons = lib_constructor.init(element, options);\n\n      if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n        throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n      }\n\n      element.style.display = 'none';\n      cons.constructed._top.style.display = 'block';\n      /** Create to sibling node */\n\n      if (typeof element.nextElementSibling === 'object') {\n        element.parentNode.insertBefore(cons.constructed._top, element.nextElementSibling);\n      } else {\n        element.parentNode.appendChild(cons.constructed._top);\n      }\n\n      return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._icons);\n    }\n  }; // CONCATENATED MODULE: ./misc/getPlugins.js\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    }\n  }\n\n  var getPlugins = function getPlugins(_ref) {\n    var buttonList = _ref.buttonList;\n    if (!buttonList) return undefined;\n    if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n      var pluginList = [];\n      buttonList = flatten(buttonList);\n      if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(6).default);\n      if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(7).default);\n      if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(8).default);\n      if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(9).default);\n      if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(10).default);\n      if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(11).default);\n      if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(12).default);\n      if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(13).default);\n      if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(14).default);\n      if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(15).default);\n      if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(16).default);\n      if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(17).default);\n      if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(18).default);\n      if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(19).default);\n      if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(20).default);\n      if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(21).default);\n      if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(22).default);\n      if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(23).default);\n      return pluginList;\n    }\n  };\n\n  var flatten = function flatten(arr) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (!isArray(arr)) {\n      return [].concat(_toConsumableArray(result), [arr]);\n    }\n\n    for (var a = 0; a < arr.length; a++) {\n      result = flatten(arr[a], result);\n    }\n\n    return result;\n  };\n\n  var isArray = function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  /* harmony default export */\n\n\n  var misc_getPlugins = getPlugins; // CONCATENATED MODULE: ./misc/getLanguage.js\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var getLanguage = function getLanguage(lang) {\n    switch (_typeof(lang)) {\n      case 'object':\n        return lang;\n\n      case 'string':\n        switch (lang) {\n          case 'en':\n            return __webpack_require__(2);\n\n          case 'da':\n            return __webpack_require__(24);\n\n          case 'de':\n            return __webpack_require__(25);\n\n          case 'es':\n            return __webpack_require__(26);\n\n          case 'fr':\n            return __webpack_require__(27);\n\n          case 'ja':\n            return __webpack_require__(28);\n\n          case 'ko':\n            return __webpack_require__(29);\n\n          case 'pt_br':\n            return __webpack_require__(30);\n\n          case 'ru':\n            return __webpack_require__(31);\n\n          case 'zh_cn':\n            return __webpack_require__(32);\n\n          default:\n            return __webpack_require__(2);\n        }\n\n    }\n\n    return __webpack_require__(2);\n  };\n  /* harmony default export */\n\n\n  var misc_getLanguage = getLanguage; // EXTERNAL MODULE: ./node_modules/prop-types/index.js\n\n  var prop_types = __webpack_require__(0);\n\n  var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types); // CONCATENATED MODULE: ./SunEditor.js\n\n\n  function SunEditor_typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      SunEditor_typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      SunEditor_typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return SunEditor_typeof(obj);\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (SunEditor_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  var SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n    _inherits(SunEditor, _Component);\n\n    function SunEditor(props) {\n      var _this;\n\n      _classCallCheck(this, SunEditor);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(SunEditor).call(this, props));\n      _this.txtArea = Object(external_react_[\"createRef\"])();\n      return _this;\n    }\n\n    _createClass(SunEditor, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            lang = _this$props.lang,\n            _this$props$setOption = _this$props.setOptions,\n            setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n            _this$props$width = _this$props.width,\n            width = _this$props$width === void 0 ? \"100%\" : _this$props$width;\n        var editor = suneditor.create(this.txtArea.current, {\n          width: width,\n          lang: misc_getLanguage(lang)\n        });\n        var _this$props2 = this.props,\n            name = _this$props2.name,\n            insertHTML = _this$props2.insertHTML,\n            setContents = _this$props2.setContents,\n            setDefaultStyle = _this$props2.setDefaultStyle,\n            appendContents = _this$props2.appendContents,\n            disable = _this$props2.disable,\n            enable = _this$props2.enable,\n            hide = _this$props2.hide,\n            show = _this$props2.show,\n            _this$props2$showTool = _this$props2.showToolbar,\n            showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n            _this$props2$enableTo = _this$props2.enableToolbar,\n            enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n            onScroll = _this$props2.onScroll,\n            onClick = _this$props2.onClick,\n            onKeyDown = _this$props2.onKeyDown,\n            onKeyUp = _this$props2.onKeyUp,\n            onDrop = _this$props2.onDrop,\n            onChange = _this$props2.onChange,\n            onImageUpload = _this$props2.onImageUpload,\n            onImageUploadError = _this$props2.onImageUploadError,\n            onPaste = _this$props2.onPaste,\n            autoFocus = _this$props2.autoFocus,\n            onBlur = _this$props2.onBlur,\n            onFocus = _this$props2.onFocus,\n            onLoad = _this$props2.onLoad,\n            onImageUploadBefore = _this$props2.onImageUploadBefore,\n            placeholder = _this$props2.placeholder;\n        if (onChange || name) editor.onChange = function (content) {\n          if (name) _this2.txtArea.current.value = content;\n          if (onChange) onChange(content);\n        };\n        if (onScroll) editor.onScroll = function (e) {\n          return onScroll(e);\n        };\n        if (onClick) editor.onClick = function (e) {\n          return onClick(e);\n        };\n        if (onKeyUp) editor.onKeyUp = function (e) {\n          return onKeyUp(e);\n        };\n        if (onKeyDown) editor.onKeyDown = function (e) {\n          return onKeyDown(e);\n        };\n        if (onBlur) editor.onBlur = function (e) {\n          return onBlur(e, editor.getContents());\n        };\n        if (onFocus) editor.onFocus = function (e) {\n          return onFocus(e);\n        };\n        if (onLoad) editor.onload = function (c, reload) {\n          return onLoad(reload);\n        };\n        if (onImageUploadBefore) editor.onImageUploadBefore = function (files, info) {\n          return onImageUploadBefore(files, info);\n        };\n        if (onDrop) editor.onDrop = function (e) {\n          return onDrop(e);\n        };\n        if (onPaste) editor.onPaste = function (e, cleanData, maxCharCount) {\n          return onPaste(e, cleanData, maxCharCount);\n        };\n        if (onImageUpload) editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n          return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n        };\n        if (onImageUploadError) editor.onImageUploadError = function (errorMessage, result) {\n          return onImageUploadError(errorMessage, result);\n        };\n        if (placeholder) setOptions.placeholder = placeholder;\n        if (!setOptions.plugins) setOptions.plugins = misc_getPlugins(setOptions);\n        editor.setOptions(setOptions);\n\n        if (setContents) {\n          editor.setContents(setContents);\n          editor.core.focusEdge();\n        }\n\n        ;\n        if (setDefaultStyle) editor.setDefaultStyle(setDefaultStyle);\n        if (insertHTML) editor.insertHTML(insertHTML);\n        if (appendContents) editor.appendContents(appendContents);\n        if (enable === true) editor.enabled();\n        if (disable === true) editor.disabled();\n        if (hide === true) editor.hide();\n        if (show === true) editor.show();\n        if (showToolbar === true) editor.toolbar.show();else editor.toolbar.hide();\n        if (enableToolbar === true) editor.toolbar.enabled();else editor.toolbar.disabled();\n        setTimeout(function () {\n          if (autoFocus === false) editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) editor.core.context.element.wysiwyg.focus();\n        }, 0);\n        this.editor = editor; // Contributed by https://github.com/AramRafeq\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // Props compared\n        if (prevProps.setContents !== this.props.setContents) {\n          !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n        }\n\n        if (prevProps.appendContents !== this.props.appendContents) {\n          this.editor.appendContents(this.props.appendContents);\n        }\n\n        if (prevProps.enable !== this.props.enable) {\n          if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n        }\n\n        if (prevProps.disable !== this.props.disable) {\n          if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n        }\n\n        if (prevProps.showToolbar !== this.props.showToolbar) {\n          if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n        }\n\n        if (prevProps.enableToolbar !== this.props.enableToolbar) {\n          if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n        }\n\n        if (prevProps.show !== this.props.show) {\n          if (this.props.show === true) this.editor.show();else this.editor.hide();\n        }\n\n        if (prevProps.hide !== this.props.hide) {\n          if (this.props.hide === true) this.editor.hide();else this.editor.show();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var dynamicName = {};\n        if (this.props.name) dynamicName.name = this.props.name;\n        return external_react_default.a.createElement(\"textarea\", _extends({\n          ref: this.txtArea\n        }, dynamicName));\n      }\n    }]);\n\n    return SunEditor;\n  }(external_react_[\"Component\"]);\n\n  SunEditor_SunEditor.propTypes = {\n    onChange: prop_types_default.a.func,\n    onScroll: prop_types_default.a.func,\n    onClick: prop_types_default.a.func,\n    onKeyUp: prop_types_default.a.func,\n    onKeyDown: prop_types_default.a.func,\n    onDrop: prop_types_default.a.func,\n    onBlur: prop_types_default.a.func,\n    onFocus: prop_types_default.a.func,\n    onLoad: prop_types_default.a.func,\n    onPaste: prop_types_default.a.func,\n    onImageUploadBefore: prop_types_default.a.func,\n    onImageUpload: prop_types_default.a.func,\n    onImageUploadError: prop_types_default.a.func,\n    setOptions: prop_types_default.a.object,\n    setContents: prop_types_default.a.string,\n    name: prop_types_default.a.string,\n    appendContents: prop_types_default.a.string,\n    setDefaultStyle: prop_types_default.a.string,\n    enable: prop_types_default.a.bool,\n    showToolbar: prop_types_default.a.bool,\n    enableToolbar: prop_types_default.a.bool,\n    disable: prop_types_default.a.bool,\n    hide: prop_types_default.a.bool,\n    show: prop_types_default.a.bool,\n    autoFocus: prop_types_default.a.bool,\n    placeholder: prop_types_default.a.string,\n    lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n    width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n  };\n  /* harmony default export */\n\n  var SunEditor_0 = SunEditor_SunEditor; // CONCATENATED MODULE: ./main.js\n\n  /* harmony default export */\n\n  var main = __webpack_exports__[\"default\"] = SunEditor_0;\n  /***/\n}\n/******/\n]);","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/suneditor-react/dist/main.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","throwOnDirectAccess","ReactIs","global","factory","document","w","Error","window","noGlobal","dialog","add","core","context","kind","updateModal","_closeSignal","dialog_div","util","createElement","className","dialog_back","style","display","dialog_area","appendChild","modalArea","back","modal","addEventListener","onMouseDown_dialog","onClick_dialog","element","relative","e","test","target","stopPropagation","getAttribute","plugins","close","open","update","modalForm","_bindClose","_d","removeEventListener","keyCode","option","popupDisplay","position","focusElement","on","focus","init","undefined","SUNEDITOR_MODULES","lang","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","dialogBox","linkBox","title","url","text","newWindowCheck","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","file","altText","videoBox","caption","submitButton","revertButton","proportion","basic","left","right","center","width","height","size","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","en","__webpack_exports__","colorPicker","colorListHTML","_colorInput","_defaultColor","_styleProperty","_currentColor","_colorList","listDiv","createColorList","_makeColorList","makeColor","colorList","length","colorArr","len","color","push","icons","checked","erase","node","fillColor","getColorInNode","isHexColor","rgb2hex","toLowerCase","addClass","removeClass","setInputText","colorName2hex","setCurrentColor","hexColorStr","borderColor","findColor","styleProperty","isWysiwygDiv","nodeType","parentNode","str","rgb","rgbMatch","match","parseInt","toString","slice","colorName","temp","colors","_w","getComputedStyle","body","map","a","removeItem","substr","resizing","_resizeClientX","_resizeClientY","_resize_plugin","_resize_w","_resize_h","_origin_w","_origin_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_left","align_right","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","querySelector","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","onMouseDown_resize_handle","onClick_resizeButton","resize_container","innerHTML","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","delete","_module_getSizeX","contextPlugin","cover","container","_element","_cover","_container","getNumber","_module_getSizeY","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","replace","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","setAttribute","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","wysiwygFrame","isVertical","Math","abs","offsetHeight","offsetWidth","h","top","scrollLeft","getParentElement","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","pButtons","_captionShow","getChildElement","_captionChecked","_resizingName","toggleDisabledButtons","resizingDisabledButtons","controllersOn","overLeft","firstElementChild","originSize","split","naturalWidth","naturalHeight","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","create_caption","set_cover","set_container","command","pluginName","currentContext","contextEl","currentModule","preventDefault","setAutoSize","onModifyMode","percentY","percentage","resetTransform","setPercentSize","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","submitAction","captionText","_caption","current","setRange","textContent","controllersOff","setOriginSize","destroy","history","maxWidth","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","float","closureFunc_bind","closureFunc","type","change","resizing_element_bind","cancel_controller_resize","resizing_element","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","clientWidth","require","targetButton","_alignList","currentAlign","justify","setSubmenu","listUl","pickup","initMenuTarget","active","removeAttribute","isFormatElement","textAlign","alignContext","tagName","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","_modules_dialog__WEBPACK_IMPORTED_MODULE_0__","_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default","addModule","previewElement","fontSizeElement","_mathExp","_renderer","math_dialog","setDialog","exp","src","renderToString","options","katex","_renderMathExp","math_controller","setController_MathButton","mathController","submit","onClick_mathController","cancel","math_btn","currentControllerName","showLoading","trim","contextMath","mathExp","katexEl","selectedFormats","oFormat","nodeName","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","findParent","child","contains","parent","containerEl","replaceChild","closeLoading","controllerArray","indexOf","call_controller","mathTag","mathBtn","offsetLeft","blockquote","tag","action","currentBlockquote","getSelectionNode","detachRangeFormatElement","applyRangeFormatElement","cloneNode","targetText","targetTooltip","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontContext","newNode","nodeChange","_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__","previewEl","colorInput","onChangeInput","colorArea","contextPicker","contextFontColor","applyColor","_sizeList","currentSize","sizeList","unit","fontSizeUnit","fontSizeContext","formatBlock","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","format","attrs","class","formatTitle","formatContext","f","firstChild","rangeElement","range","getRange","startOffset","endOffset","getSelectedElementsAndComponents","first","last","firstPath","getNodePath","startContainer","lastPath","endContainer","rlist","detachList","sc","ec","getNodeFromPath","modifiedFormsts","freeElement","html","before","next","inner","isComp","isSameAttributes","prev","previousSibling","newFormat","copyFormatAttributes","contextHiliteColor","backgroundColor","horizontalRulePick","appendHr","oHr","oNode","insertComponent","lineHeights","lineHeightContext","getFormatElement","_list","currentList","bullets","list_bullets","number","list_number","button","icon","isList","listContext","editList","selectedCells","detach","sortByDepth","firstSel","lastSel","topEl","isListCell","previousElementSibling","bottomEl","nextElementSibling","originRange","so","eo","isRemove","getRangeFormatElement","toUpperCase","j","splice","rangeArr","tempList","passComponent","_detachNested","topElParent","bottomElParent","mergeTop","mergeBottom","firstList","lastList","topNumber","bottomNumber","newCell","fTag","isCell","originParent","nextParent","parentTag","siblingTag","rangeTag","childNodes","_isIgnoreNodeChange","isRangeFormatElement","isHR","outerHTML","fChildren","children","getElementDepth","cells","originList","sibling","cLen","newList","index","getPositionIndex","mergeSameTags","edge","getEdgeChildNodes","cc","editInsideList","filter","el","cellsLen","lastCell","innerList","nodePath","sl","_insiedList","insertPrev","removeChild","slPath","lastElementChild","mergeNestedTags","_classList","menuLang","defaultList","_class","paragraphStyles","defaultStyle","paragraphContext","paragraphList","hasClass","toggleClass","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","expansion","reduction","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","cell","ceil","offsetX","offsetY","x_u","y_u","highlight","unHighlight","contextTable","tablePlugin","_removeEvents","_selectedTable","_toggleEditor","_shift","_selectedCells","_ref","_fixedCell","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","getSelection","isCollapsed","setPositionControllerDiv","tableElement","tableLayout","setTableStyle","setPositionControllerTop","reset","setCellInfo","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","arr","row","concat","sort","b","editTable","isRow","tableAttr","positionCell","removeCells","editRow","firstRow","editCell","rightCell","positionResetElement","up","originRowIndex","sign","spanCells","spanCell","shift","newRow","insertRow","passCell","removeCell","removeSpanArr","insertIndex","applySpan","cellColSpan","removeIndex","getOverlapRangeAtIndex","removeFirst","removeEnd","rLen","getArrayIndex","rowSpanCell","_closeSplitMenu","openSplitMenu","vertical","currentCell","currentRow","currentColSpan","floor","currentRowSpan","newRowSpan","nextRowIndex","nextRow","nextCells","physicalIndex","focusEdge","ref","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","ch","onlyZeroWidthSpace","rowIndexFirst","rowIndexLast","removeRows","setActiveButton","toggleHeader","header","styles","span","sizeIcon","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","enabled","wysiwyg","_offCellMultiSelect","_initBind","_wd","_onCellMultiSelect","_antiBlur","_setMultiCells","startCell","endCell","findSelectedCell","_i","newCs","newCe","newRs","newRe","onTableCellMultiSelect","emptyDiv","removeItemAllParents","templateDiv","templateList","templates","setContents","_styleList","styleList","textStyles","textStyleContext","styleButtonList","selectionNode","btn","data","v","checkStyles","cssText","pop","classes","removeNodes","_modules_resizing__WEBPACK_IMPORTED_MODULE_1__","_modules_resizing__WEBPACK_IMPORTED_MODULE_1___default","contextImage","_imagesInfo","_imageIndex","_imageSizeUnit","_altText","_linkElement","_linkValue","_align","_floatClassRegExp","_uploadFileLength","_xmlHttp","_element_l","_element_t","imageWidth","imageHeight","imageResizing","imageHeightShow","imageRotation","imageSizeOnlyPercentage","image_dialog","imgInputFile","imgUrlFile","imgLink","imgLinkNewWindowCheck","openTab","_removeSelectedFiles","_fileInputChange","sizeRevert","imageFileInput","imageUrlInput","onlyPercentage","onlyPercentDisplay","heightDisplay","fileInput","urlInput","tabName","contentClassName","tabContent","tabLinks","getElementsByClassName","fileList","fileSize","files","limitSize","imageUploadSizeLimit","infoSize","imagesInfo","err","_imageUploadError","functions","noticeOpen","imageUploadUrl","imageUploadHeader","filesLen","info","linkValue","linkNewWindow","inputWidth","inputHeight","isUpdate","currentImage","_imageUploadBefore","formData","FormData","append","getXMLHttpRequest","onreadystatechange","callBack_imgUpload","keys","setRequestHeader","send","setup_reader","onRender_imgInput","message","imgLinkValue","reader","FileReader","onload","updateElement","update_src","result","create_image","readAsDataURL","readyState","status","_imageUploadHandler","response","JSON","parse","responseText","errorMessage","onRender_imgUrl","onRender_link","imgTag","href","imagePlugin","error","setImagesInfo","img","dataIndex","state","_componentsInfoInit","select","scrollIntoView","setTimeout","isMediaComponent","applySize","_imageUpload","checkComponentInfo","images","getElementsByTagName","_componentsInfoReset","infoUpdate","currentImages","infoIndex","resetComponentInfo","oImg","alt","openController","notHistoryPush","imageEl","isNewContainer","changeSize","isNumber","newEl","imageElement","existElement","isPercent","userSize","notOpen","notResetPercentage","onlyW","onlyH","heightPercentage","margin","minWidth","resetAlign","imageContainer","focusEl","linkNewWindowCheck","linkAnchorText","_linkAnchor","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","link_btn","contextLink","anchor","anchorText","oA","textNode","isAnchor","selectionATag","editLink","linkBtn","contextVideo","_videosInfo","_videoIndex","_videoSizeUnit","_youtubeQuery","youtubeQuery","videoRatio","_defaultRatio","videoWidth","videoHeight","videoResizing","videoHeightShow","videoRotation","videoSizeOnlyPercentage","video_dialog","videoRatioOption","setVideoRatio","ratioList","videoRatioList","ratioDisplay","videoRatioShow","onlyWidthDisplay","selectedIndex","placeholder","setVideoRatioSelect","oIframe","DOMParser","parseFromString","splitUrl","frameBorder","allowFullscreen","inputUpdate","setVideosInfo","_update_videoCover","origin","ratioSelected","ratioOptions","selected","frame","videosInfo","_videoUpload","videos","videoPlugin","currentVideos","dataSize","da","de","es","fr","ja","ko","pt_br","ru","zh_cn","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","func","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","buttonList_namespaceObject","complex","formatting","buttonList","external_react_","external_react_default","defaultIcons","code_view","line_height","paragraph_style","text_style","arrow_down","font_color","highlight_color","horizontal_rule","show_blocks","line_break","attachment","magic_stick","empty_file","more_horizontal","more_vertical","en_default","util_util","isIE","navigator","userAgent","isIE_Edge","appVersion","_tagConvertor","_HTMLConvertor","contents","zeroWidthRegExp","RegExp","String","fromCharCode","onlyZeroWidthRegExp","ActiveXObject","e1","XMLHttpRequest","elementName","getIncludePath","nameArray","extension","path","pathList","fileName","regExp","extRegExp","editorTag","getPageStyle","doc","sheets","styleSheets","rules","cssRules","getIframeDocument","iframe","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","encode","isTextStyleElement","isFreeFormatElement","validation","getFreeFormatElement","copyTagAttributes","originEl","copyEl","getArrayItem","multi","idx","nextIdx","item","prevIdx","_newOffsets","finds","tempText","previous","reverse","offsets","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isTable","isBreak","isMedia","maxDec","toFixed","getListChildren","recursionFunc","getListChildNodes","depth","query","check","attr","childList","lastChild","offsetTop","offsetElement","parentElement","offsetParent","scrollTop","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","stopParent","detachNestedList","baseNode","all","rNode","_deleteNestedList","cNodes","rChildren","baseParent","liSibling","liParent","splitElement","bp","splitText","after","depthEl","pElement","nodePathArray","onlyText","inst","Array","apply","Number","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","nLen","addOffset","textOffset","tempL","removeEmptyNode","notRemoveNode","_notTextNode","htmlRemoveWhiteSpace","des","_isMaintainedNode","_notAllowedTags","createTagsWhitelist","exclusionTags","regStr","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","emptyWhitelistTags","wrongTags","checkTags","tp","emptyTags","wrongList","_setDefaultOptionStyle","optionStyle","minHeight","maxHeight","lib_util","lib_constructor","_initOptions","top_div","id","tool_bar","_createToolBar","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","resize_back","_checkCodeMirror","constructed","_top","_relative","_toolBar","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_loading","_lineBreaker","_resizeBack","_stickyDummy","_arrow","_icons","codeMirror","cmOptions","htmlMode","lineNumbers","lineWrapping","reduce","viewportMargin","Infinity","cm","fromTextArea","wrapper","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","editorArea","isNewToolbar","isNewPlugins","topArea","callButtons","topDiv","toolBar","toolBarArrow","toolbarWidth","wysiwygDiv","cssTags","linkNames","iframeCSSFileName","tagString","CSSFileName","styleTag","head","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","pasteTagsWhitelist","attributesWhitelist","stickyToolbar","fullPage","showPathLabel","charCounterType","clientHeight","callBackSave","_default","_new","_defaultButtons","_createModuleGroup","oneModule","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","oLi","oButton","_plugins","separator_vertical","defaultButtonList","pluginsValues","moduleElement","buttonElement","buttonGroup","custom","ul","li","div","enterDiv","tool_cover","_Context","cons","loading","lineBreaker","tool","lib_context","lib_history","editor","pushDelay","stackIndex","stack","setContentsFromStack","_checkComponents","_charCount","_resourcesStateChange","pushStack","getContents","_variable","_range","delay","time","clearTimeout","go","ignoreChangeEvent","_destroy","_notice","notice","notice_div","notice_span","notice_button","onClick_cancel","lib_core","ownerDocument","defaultView","_parser","_ww","initPlugins","_targetPlugins","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","codeViewDisabledButtons","_htmlCheckWhitelistRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_lineBreakerButton","onImageUploadBefore","imageInfo","remainingFilesCount","onImageUpload","onImageUploadError","imageUploadHandler","videoInfo","onVideoUpload","activePlugins","componentInfoPlugins","commandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callPlugin","callBackFunction","_target","moduleArray","moduleName","submenuOn","submenuName","visibility","toolbarW","menuW","offsetEl","space","event","_getPageBottomSpace","containerOn","containerName","_containerName","containerOff","tempName","arg","arguments","showController","execCommand","showDefaultUI","nativeFocus","_editorRange","br","_applyTagEffects","_toggleToolbarBalloon","imageComponent","videoComponent","selectComponent","startCon","startOff","endCon","endOff","createRange","setStart","setEnd","selection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","rangeCount","getRangeAt","collapsed","commonAncestorContainer","extentNode","anchorNode","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","commonCon","lineNodes","unshift","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","line","removeDuplicate","myComponent","selectedLines","component","isEdgePoint","nodeValue","appendFormatTag","formatNode","currentFormatEl","oFormatName","removeNode","formatEl","newLi","depthFormat","edgeNode","afterNode","originAfter","focusNode","isSameContainer","removedTag","prevContainer","oldParent","rangeCon","previousText","nextText","zeroWidth","beforeNode","startIndex","endIndex","startNode","endNode","substringData","rc","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","removeItems","nextLine","nextList","removeArray","splitRange","newRangeElement","firstNode","lastNode","rangeEl","insertedNew","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","lineIndex","insNext","innerChildren","rangeParent","rangeRight","childEdge","listFirst","listLast","lastIndex","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","Boolean","oneLine","endLength","isRemoveAnchor","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","newRange","_nodeChange_oneLine","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","_stripRemoveNode","newInnerNode","parentCon","sameTag","z","nNodeArray","pNode","isSameNode","startPass","endPass","pCurrent","checkCss","ancestor","coverNode","prevNode","prevAnchorNode","childNode","anchors","afterAnchorNode","aChildren","aLen","ancestorAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","passNode","isTopNode","tempNode","newCssText","newClass","noneChange","cloneChild","actionCall","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","SUP","SUB","marginLeft","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_showToolbarInline","_checkPlaceholder","code_html","_getCodeView","parseDocument","headChildren","convertContentsForEditor","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","zIndex","innerHeight","_iframeAutoHeight","onScroll_window","printDocument","contentsHTML","wDoc","arrts","write","documentMode","StyleMedia","windowObject","mimeType","convertValue","_resetComponents","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","textArray","tLen","_allowHTMLComments","cleanHTML","whitelist","dom","createContextualFragment","console","warn","domTree","tAttr","returnHTML","brReg","indentSize","join","lineBR","elementRegTest","elementIndent","nodeRegTest","listener","useCapture","inputText","nextCharCount","_getCharLength","getCharCount","over","count","slicePosition","content","getDoc","setValue","getValue","_init","reload","_initHTML","_iframeAuto","_attr","tagsAttr","allAttr","k","STRONG","U","EM","DEL","_onChange_historyStack","_initWysiwygArea","_setDefaultFormat","formatName","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","onMouseDown_toolbar","onClick_toolbar","onMouseDown_wysiwyg","tableCell","onMouseDown","onClick_wysiwyg","hideToolbar","prevLi","onClick","_balloonDelay","_showToolbarBalloonDelay","_showToolbarBalloon","rangeObj","isDirTop","focusOffset","anchorOffset","rects","getClientRects","editorWidth","_getEditorOffsets","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","absoluteLeft","overRight","resetTop","documentElement","arrow_left","showInline","onInput_wysiwyg","onInput","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","selectRange","resizingName","prevLast","con","comm","previousEl","nextEl","isEdge","lines","fc","lc","moveCell","tabText","textRange","endChild","freeFormatEl","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","compContext","textKey","onKeyDown","onKeyUp_wysiwyg","oFormatTag","frontZeroWidthCnt","substring","onKeyUp","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","_resize_editor","resizeInterval","onResize_window","editorHeight","scrollY","editorTop","_offStickyToolbar","_onStickyToolbar","scroll","_codeViewAutoHeight","onPaste_wysiwyg","clipboardData","plainText","getData","cleanData","onPaste","onCut_wysiwyg","onDragOver_wysiwyg","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","onDrop","onmouseMove_wysiwyg","lineBreakerStyle","wScroll","componentTop","pageY","dir","_onMouseDown_lineBreak","_onLineBreak","onChange","_addEvent","eventWysiwyg","passive","_removeEvent","setOptions","_options","val","setDefaultStyle","noticeClose","getContext","getImagesInfo","getVideosInfo","insertImage","notCleaningData","appendContents","setOption","show","topAreaStyle","hide","suneditor","init_options","idOrElement","_init_options","getElementById","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","iterator","from","isArray","arr2","getPlugins","pluginList","flatten","obj","misc_getPlugins","_typeof","constructor","getLanguage","misc_getLanguage","prop_types","prop_types_default","SunEditor_typeof","_extends","assign","source","_classCallCheck","instance","Constructor","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","_setPrototypeOf","SunEditor_SunEditor","_Component","SunEditor","_this","txtArea","componentDidMount","_this2","_this$props","_this$props$setOption","_this$props$width","_this$props2","disable","enable","_this$props2$showTool","showToolbar","_this$props2$enableTo","enableToolbar","autoFocus","onLoad","targetImgElement","blur","componentDidUpdate","prevProps","componentWillUnmount","render","dynamicName","propTypes","SunEditor_0","main"],"mappings":"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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 35);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, ReactIs; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(33)();\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n        name: 'dialog',\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.dialog = {\n                kind: '',\n                updateModal: false,\n                _closeSignal: false\n            };\n\n            /** dialog */\n            let dialog_div = core.util.createElement('DIV');\n            dialog_div.className = 'se-dialog sun-editor-common';\n\n            let dialog_back = core.util.createElement('DIV');\n            dialog_back.className = 'se-dialog-back';\n            dialog_back.style.display = 'none';\n\n            let dialog_area = core.util.createElement('DIV');\n            dialog_area.className = 'se-dialog-inner';\n            dialog_area.style.display = 'none';\n\n            dialog_div.appendChild(dialog_back);\n            dialog_div.appendChild(dialog_area);\n\n            context.dialog.modalArea = dialog_div;\n            context.dialog.back = dialog_back;\n            context.dialog.modal = dialog_area;\n\n            /** add event listeners */\n            context.dialog.modal.addEventListener('mousedown', this.onMouseDown_dialog.bind(core));\n            context.dialog.modal.addEventListener('click', this.onClick_dialog.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(dialog_div);\n            \n            /** empty memory */\n            dialog_div = null, dialog_back = null, dialog_area = null;\n        },\n\n        /**\n         * @description Event to control the behavior of closing the dialog\n         * @param {MouseEvent} e Event object\n         */\n        onMouseDown_dialog: function (e) {\n            if (/se-dialog-inner/.test(e.target.className)) {\n                this.context.dialog._closeSignal = true;\n            } else {\n                this.context.dialog._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the dialog or close button is click\n         * @param {MouseEvent} e Event object\n         */\n        onClick_dialog: function (e) {\n            e.stopPropagation();\n\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n                this.plugins.dialog.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a Dialog plugin\n         * @param {String} kind Dialog plugin name\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n         */\n        open: function (kind, update)  {\n            if (this.modalForm) return false;\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            this.plugins.dialog._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.dialog.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n            this.context.dialog.updateModal = update;\n\n            if (this.context.option.popupDisplay === 'full') {\n                this.context.dialog.modalArea.style.position = 'fixed';\n            } else {\n                this.context.dialog.modalArea.style.position = 'absolute';\n            }\n\n            this.context.dialog.kind = kind;\n            this.modalForm = this.context[kind].modal;\n            const focusElement = this.context[kind].focusElement;\n\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n\n            this.context.dialog.modalArea.style.display = 'block';\n            this.context.dialog.back.style.display = 'block';\n            this.context.dialog.modal.style.display = 'block';\n            this.modalForm.style.display = 'block';\n\n            if (focusElement) focusElement.focus();\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a Dialog plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            const kind = this.context.dialog.kind;\n            this.modalForm.style.display = 'none';\n            this.context.dialog.back.style.display = 'none';\n            this.context.dialog.modalArea.style.display = 'none';\n            this.context.dialog.updateModal = false;\n            this.plugins[kind].init.call(this);\n            this.context.dialog.kind = '';\n            this.modalForm = null;\n            this.focus();\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            window.SUNEDITOR_MODULES = {};\n        }\n\n        window.SUNEDITOR_MODULES.dialog = dialog;\n    }\n\n    return dialog;\n}));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'en',\n        toolbar: {\n            default: 'Default',\n            save: 'Save',\n            font: 'Font',\n            formats: 'Formats',\n            fontSize: 'Size',\n            bold: 'Bold',\n            underline: 'Underline',\n            italic: 'Italic',\n            strike: 'Strike',\n            subscript: 'Subscript',\n            superscript: 'Superscript',\n            removeFormat: 'Remove Format',\n            fontColor: 'Font Color',\n            hiliteColor: 'Highlight Color',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            align: 'Align',\n            alignLeft: 'Align left',\n            alignRight: 'Align right',\n            alignCenter: 'Align center',\n            alignJustify: 'Align justify',\n            list: 'List',\n            orderList: 'Ordered list',\n            unorderList: 'Unordered list',\n            horizontalRule: 'Horizontal line',\n            hr_solid: 'Solid',\n            hr_dotted: 'Dotted',\n            hr_dashed: 'Dashed',\n            table: 'Table',\n            link: 'Link',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            fullScreen: 'Full screen',\n            showBlocks: 'Show blocks',\n            codeView: 'Code view',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Quote',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Line height',\n            paragraphStyle: 'Paragraph style',\n            textStyle: 'Text style'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insert Link',\n                url: 'URL to link',\n                text: 'Text to display',\n                newWindowCheck: 'Open in new window'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Mathematical Notation',\n                fontSizeLabel: 'Font Size',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Insert image',\n                file: 'Select from files',\n                url: 'Image URL',\n                altText: 'Alternative text'\n            },\n            videoBox: {\n                title: 'Insert Video',\n                url: 'Media embed URL, YouTube'\n            },\n            caption: 'Insert description',\n            close: 'Close',\n            submitButton: 'Submit',\n            revertButton: 'Revert',\n            proportion: 'Constrain proportions',\n            basic: 'Basic',\n            left: 'Left',\n            right: 'Right',\n            center: 'Center',\n            width: 'Width',\n            height: 'Height',\n            size: 'Size',\n            ratio: 'Ratio'\n        },\n        controller: {\n            edit: 'Edit',\n            unlink: 'Unlink',\n            remove: 'Remove',\n            insertRowAbove: 'Insert row above',\n            insertRowBelow: 'Insert row below',\n            deleteRow: 'Delete row',\n            insertColumnBefore: 'Insert column before',\n            insertColumnAfter: 'Insert column after',\n            deleteColumn: 'Delete column',\n            fixedColumnWidth: 'Fixed column width',\n            resize100: 'Resize 100%',\n            resize75: 'Resize 75%',\n            resize50: 'Resize 50%',\n            resize25: 'Resize 25%',\n            autoSize: 'Auto size',\n            mirrorHorizontal: 'Mirror, Horizontal',\n            mirrorVertical: 'Mirror, Vertical',\n            rotateLeft: 'Rotate left',\n            rotateRight: 'Rotate right',\n            maxSize: 'Max size',\n            minSize: 'Min size',\n            tableHeader: 'Table header',\n            mergeCells: 'Merge cells',\n            splitCells: 'Split Cells',\n            HorizontalSplit: 'Horizontal split',\n            VerticalSplit: 'Vertical split'\n        },\n        menu: {\n            spaced: 'Spaced',\n            bordered: 'Bordered',\n            neon: 'Neon',\n            translucent: 'Translucent',\n            shadow: 'Shadow'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.en = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'colorPicker',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: '',\r\n            _colorList: []\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.createColorList(core, this._makeColorList);\r\n\r\n        /** caching */\r\n        context.colorPicker.colorListHTML = listDiv;\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\r\n    createColorList: function (core, makeColor) {\r\n        const option = core.context.option;\r\n        const lang = core.lang;\r\n        const colorList = !option.colorList || option.colorList.length === 0 ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000',\r\n                '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1',\r\n                '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd',\r\n                '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535',\r\n                '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let colorArr = [];\r\n        let list = '<div class=\"se-list-inner\">';\r\n            for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n                color = colorList[i];\r\n                if (!color) continue;\r\n                \r\n                if (typeof color === 'string') {\r\n                    colorArr.push(color);\r\n                    if (i < len - 1) continue;\r\n                }\r\n                if (colorArr.length > 0) {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\r\n                    colorArr = [];\r\n                }\r\n                if (typeof color === 'object') {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\r\n                }\r\n            }\r\n            list += '' +\r\n            '<form class=\"se-submenu-form-group\">' +\r\n                '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' +\r\n                '<button type=\"submit\" class=\"se-btn-primary se-tooltip _se_color_picker_submit\">' +\r\n                    core.icons.checked +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.submitButton + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" class=\"se-btn se-tooltip _se_color_picker_remove\">' +\r\n                    core.icons.erase +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.removeFormat + '</span></span>' +\r\n                '</button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n\r\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\r\n    _makeColorList: function (colorList) {\r\n        let list = '';\r\n\r\n        list += '<ul class=\"se-color-pallet\">';\r\n        for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n            color = colorList[i];\r\n            if (typeof color === 'string') {\r\n                list += '<li>' +\r\n                            '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                        '</li>';\r\n            }\r\n        }\r\n        list += '</ul>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\r\n\r\n        const colorList = this.context.colorPicker._colorList;\r\n        if (colorList) {\r\n            for (let i = 0, len = colorList.length; i < len; i++) {\r\n                if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\r\n                    this.util.addClass(colorList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(colorList[i], 'active');\r\n                }\r\n            }\r\n        }\r\n\r\n        colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\r\n    },\r\n\r\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setInputText: function (hexColorStr) {\r\n        hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\r\n        this.context.colorPicker._colorInput.value = hexColorStr;\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\r\n    getColorInNode: function (node) {\r\n        let findColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgbMatch && rgbMatch.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgbMatch[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[3],10).toString(16)).slice(-2) : '';\r\n    },\r\n\r\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\r\n    colorName2hex: function (colorName) {\r\n        if (/^#/.test(colorName)) return colorName;\r\n        var temp = this.util.createElement('div');\r\n        temp.style.display = 'none';\r\n        temp.style.color = colorName;\r\n        var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) { return parseInt(a,10); });\r\n        this.util.removeItem(temp);\r\n        return (colors.length >= 3) ? '#' + (((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)) : false;\r\n    }\r\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n        name: 'resizing',\n        /**\n         * @description Constructor\n         * Require context properties when resizing module\n            inputX: Element,\n            inputY: Element,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n            _proportionChecked: true,\n            // -- select function --\n            _resizing: context.option.imageResizing,\n            _resizeDotHide: !context.option.imageHeightShow,\n            _rotation: context.option.imageRotation,\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1\n            _captionShow: true,\n            // -- when used caption (_captionShow: true) --\n            _caption: null,\n            _captionChecked: false,\n            captionCheckEl: null,\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const icons = core.icons;\n            const context = core.context;\n            context.resizing = {\n                _resizeClientX: 0,\n                _resizeClientY: 0,\n                _resize_plugin: '',\n                _resize_w: 0,\n                _resize_h: 0,\n                _origin_w: 0,\n                _origin_h: 0,\n                _rotateVertical: false,\n                _resize_direction: '',\n                _move_path: null,\n                _isChange: false,\n                alignIcons: {\n                    basic: icons.align_justify,\n                    left: icons.align_left,\n                    right: icons.align_right,\n                    center: icons.align_center\n                }\n            };\n    \n            /** resize controller, button */\n            let resize_div_container = this.setController_resize.call(core);\n            context.resizing.resizeContainer = resize_div_container;\n    \n            context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n            context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n            context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n    \n            let resize_button = this.setController_button.call(core);\n            context.resizing.resizeButton = resize_button;\n            resize_button.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n    \n            let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n            context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n            context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n            context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n    \n            context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n            context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n    \n            context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n            context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n            context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n    \n            /** add event listeners */\n            resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n    \n            /** append html */\n            context.element.relative.appendChild(resize_div_container);\n            context.element.relative.appendChild(resize_button);\n    \n            /** empty memory */\n            resize_div_container = null, resize_button = null, resize_handles = null;\n        },\n    \n        /** resize controller, button (image, iframe) */\n        setController_resize: function () {\n            const resize_container = this.util.createElement('DIV');\n            \n            resize_container.className = 'se-controller se-resizing-container';\n            resize_container.style.display = 'none';\n            resize_container.innerHTML = '' +\n                '<div class=\"se-modal-resize\"></div>' +\n                '<div class=\"se-resize-dot\">' +\n                    '<span class=\"tl\"></span>' +\n                    '<span class=\"tr\"></span>' +\n                    '<span class=\"bl\"></span>' +\n                    '<span class=\"br\"></span>' +\n                    '<span class=\"lw\"></span>' +\n                    '<span class=\"th\"></span>' +\n                    '<span class=\"rw\"></span>' +\n                    '<span class=\"bh\"></span>' +\n                    '<div class=\"se-resize-display\"></div>' +\n                '</div>';\n    \n            return resize_container;\n        },\n    \n        setController_button: function () {\n            const lang = this.lang;\n            const icons = this.icons;\n            const resize_button = this.util.createElement(\"DIV\");\n    \n            resize_button.className = \"se-controller se-controller-resizing\";\n            resize_button.innerHTML = '' +\n                '<div class=\"se-arrow se-arrow-up\"></div>' +\n                '<div class=\"se-btn-group _se_resizing_btn_group\">' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>100%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>75%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>50%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' +\n                        icons.auto_size +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_left +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_right +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n                '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_horizontal +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_vertical +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' +\n                        icons.align_justify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' +\n                    '</button>' +\n                    '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' +\n                        '<div class=\"se-list-inner\">' +\n                            '<ul class=\"se-list-basic\">' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' +\n                                    icons.align_justify +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' +\n                                    icons.align_left +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' +\n                                    icons.align_center +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' +\n                                    icons.align_right +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' +\n                                '</button></li>' +\n                            '</ul>' +\n                        '</div>' +\n                    '</div>' +\n                    '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' +\n                        icons.caption +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' +\n                        icons.revert +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' +\n                        icons.modify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>';\n    \n            return resize_button;\n        },\n    \n        /**\n         * @description Gets the width size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeX: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!container || !cover || !element) return '';\n    \n            return !/%$/.test(element.style.width) ? element.style.width : (this.util.getNumber(container.style.width, 2) || 100) + '%';\n        },\n    \n        /**\n         * @description Gets the height size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeY: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!container || !cover || !element) return '';\n    \n            return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : (!/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (this.util.getNumber(container.style.height, 2) || 100) + '%');\n        },\n\n        /**\n         * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Object} pluginObj Plugin object\n         */\n        _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n            const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n            contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n    \n            let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            if (x === contextPlugin._defaultSizeX) x = '';\n            if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n            contextPlugin.inputX.value = x;\n            pluginObj.setInputSize.call(this, 'x');\n            \n            if (!contextPlugin._onlyPercentage) {\n                let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n                if (y === contextPlugin._defaultSizeY) y = '';\n                if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n                contextPlugin.inputY.value = y;\n            }\n            \n            contextPlugin.inputX.disabled = percentageRotation ? true : false;\n            contextPlugin.inputY.disabled = percentageRotation ? true : false;\n            contextPlugin.proportion.disabled = percentageRotation ? true : false;\n    \n            pluginObj.setRatio.call(this);\n        },\n    \n        /**\n         * @description It is called in \"setInputSize\" (input tag keyupEvent), \n         * checks the value entered in the input tag, \n         * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {String} xy 'x': width, 'y': height\n         */\n        _module_setInputSize: function (contextPlugin, xy) {\n            if (contextPlugin._onlyPercentage) {\n                if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n                return;\n            }\n    \n            if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n                const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) return;\n    \n                const dec = xUnit === '%' ? 2 : 0;\n    \n                if (xy === 'x') {\n                    contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n                } else {\n                    contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n                }\n            }\n        },\n    \n        /**\n         * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n         * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_setRatio: function (contextPlugin) {\n            const xValue = contextPlugin.inputX.value;\n            const yValue = contextPlugin.inputY.value;\n    \n            if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n                const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) {\n                    contextPlugin._ratio = false;\n                } else if (!contextPlugin._ratio) {\n                    const x = this.util.getNumber(xValue, 0);\n                    const y = this.util.getNumber(yValue, 0);\n    \n                    contextPlugin._ratio = true;\n                    contextPlugin._ratioX = x / y;\n                    contextPlugin._ratioY = y / x;\n                }\n            } else {\n                contextPlugin._ratio = false;\n            }\n        },\n    \n        /**\n         * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_sizeRevert: function (contextPlugin) {\n            if (contextPlugin._onlyPercentage) {\n                contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n            } else {\n                contextPlugin.inputX.value = contextPlugin._origin_w;\n                contextPlugin.inputY.value = contextPlugin._origin_h;\n            }\n        },\n    \n        /**\n         * @description Save the size data (element.setAttribute(\"data-size\"))\n         * Used at the \"setSize\" method\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_saveCurrentSize: function (contextPlugin) {\n            const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n            contextPlugin._element.setAttribute('data-size', x + ',' + y);\n            if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n        },\n    \n        /**\n         * @description Call the resizing module\n         * @param {Element} targetElement Resizing target element\n         * @param {string} plugin Plugin name\n         * @returns {Object} Size of resizing div {w, h, t, l}\n         */\n        call_controller_resize: function (targetElement, plugin) {\n            const contextResizing = this.context.resizing;\n            const contextPlugin = this.context[plugin];\n            contextResizing._resize_plugin = plugin;\n    \n            const resizeContainer = contextResizing.resizeContainer;\n            const resizeDiv = contextResizing.resizeDiv;\n            const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n    \n            const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n    \n            const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n            const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n            const t = offset.top;\n            const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n    \n            resizeContainer.style.top = t + 'px';\n            resizeContainer.style.left = l + 'px';\n            resizeContainer.style.width = w + 'px';\n            resizeContainer.style.height = h + 'px';\n    \n            resizeDiv.style.top = '0px';\n            resizeDiv.style.left = '0px';\n            resizeDiv.style.width =  w + 'px';\n            resizeDiv.style.height =  h + 'px';\n    \n            let align = targetElement.getAttribute('data-align') || 'basic';\n            align = align === 'none' ? 'basic' : align;\n    \n            // text\n            const container = this.util.getParentElement(targetElement, this.util.isComponent);\n            const cover = this.util.getParentElement(targetElement, 'FIGURE');\n            const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n            const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n            this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')');\n    \n            // resizing display\n            contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n            const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n            const resizeHandles = contextResizing.resizeHandles;\n            for (let i = 0, len = resizeHandles.length; i < len; i++) {\n                resizeHandles[i].style.display = resizeDotShow;\n            }\n    \n            if (contextPlugin._resizing) {\n                const rotations = contextResizing.rotationButtons;\n                rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n            }\n    \n            // align icon\n            const alignList = contextResizing.alignMenuList;\n            this.util.changeElement(contextResizing.alignButton.querySelector('svg'), contextResizing.alignIcons[align]);\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');\n                else this.util.removeClass(alignList[i], 'on');\n            }\n    \n            // percentage active\n            const pButtons = contextResizing.percentageButtons;\n            const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? (this.util.getNumber(container.style.width, 0) / 100) + '' : '' ;\n            for (let i = 0, len = pButtons.length; i < len; i++) {\n                if (pButtons[i].getAttribute('data-value') === value) {\n                    this.util.addClass(pButtons[i], 'active');\n                } else {\n                    this.util.removeClass(pButtons[i], 'active');\n                }\n            }\n    \n            // caption display, active\n            if (!contextPlugin._captionShow) {\n                contextResizing.captionButton.style.display = 'none';\n            } else {\n                contextResizing.captionButton.style.display = '';\n                if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n                    this.util.addClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = true;\n                } else {\n                    this.util.removeClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = false;\n                }\n            }\n    \n            this._resizingName = plugin;\n            this.util.toggleDisabledButtons(true, this.resizingDisabledButtons);\n            this.controllersOn(contextResizing.resizeContainer, contextResizing.resizeButton, this.util.toggleDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n    \n            // button group\n            const overLeft = this.context.element.wysiwygFrame.offsetWidth - l - contextResizing.resizeButton.offsetWidth;\n    \n            contextResizing.resizeButton.style.top = (h + t + 60) + 'px';\n            contextResizing.resizeButton.style.left = (l + (overLeft < 0 ? overLeft : 0)) + 'px';\n    \n            if (overLeft < 0) {\n                contextResizing.resizeButton.firstElementChild.style.left = (20 - overLeft) + 'px';\n            } else {\n                contextResizing.resizeButton.firstElementChild.style.left = '20px';\n            }\n    \n            contextResizing._resize_w = w;\n            contextResizing._resize_h = h;\n    \n            const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n            contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n            contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n    \n            return {\n                w: w,\n                h: h,\n                t: t,\n                l: l\n            };\n        },\n    \n        _closeAlignMenu: null,\n\n        /**\n         * @description Open align submenu of module\n         */\n        openAlignMenu: function () {\n            this.util.addClass(this.context.resizing.alignButton, 'on');\n            this.context.resizing.alignMenu.style.display = 'block';\n    \n            this.plugins.resizing._closeAlignMenu = function () {\n                this.util.removeClass(this.context.resizing.alignButton, 'on');\n                this.context.resizing.alignMenu.style.display = 'none';\n                this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n                this.plugins.resizing._closeAlignMenu = null;\n            }.bind(this);\n    \n            this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n        },\n    \n        /**\n         * @description Return HTML string of caption(FIGCAPTION) element\n         * @returns {String}\n         */\n        create_caption: function () {\n            const caption = this.util.createElement('FIGCAPTION');\n            caption.setAttribute('contenteditable', true);\n            caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n            return caption;\n        },\n    \n        /**\n         * @description Cover the target element with a FIGURE element.\n         * @param {Element} element Target element\n         */\n        set_cover: function (element) {\n            const cover = this.util.createElement('FIGURE');\n            cover.appendChild(element);\n    \n            return cover;\n        },\n    \n        /**\n         * @description Create a container for the resizing component and insert the element.\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {String} className Class name of container (fixed: se-component)\n         * @returns {Element} Created container element\n         */\n        set_container: function (cover, className) {\n            const container = this.util.createElement('DIV');\n            container.className = 'se-component ' + className;\n            container.setAttribute('contenteditable', false);\n            container.appendChild(cover);\n    \n            return container;\n        },\n    \n        /**\n         * @description Click event of resizing toolbar\n         * Performs the action of the clicked toolbar button.\n         * @param {MouseEvent} e Event object\n         */\n        onClick_resizeButton: function (e) {\n            e.stopPropagation();\n    \n            const target = e.target;\n            const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n    \n            if (!command) return;\n    \n            const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            const currentContext = this.context[pluginName];\n            const contextEl = currentContext._element;\n            const currentModule = this.plugins[pluginName];\n    \n            e.preventDefault();\n    \n            if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n                this.plugins.resizing._closeAlignMenu();\n                if (command === 'onalign') return;\n            }\n    \n            switch (command) {\n                case 'auto':\n                    currentModule.setAutoSize.call(this);\n                    currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                    break;\n                case 'percent':\n                    let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n                    if (this.context.resizing._rotateVertical) {\n                        const percentage = contextEl.getAttribute('data-percentage');\n                        if (percentage) percentY = percentage.split(',')[1];\n                    }\n    \n                    this.plugins.resizing.resetTransform.call(this, contextEl);\n                    currentModule.setPercentSize.call(this, (value * 100), (this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY)) ? '' : percentY);\n                    currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                    break;\n                case 'mirror':\n                    const r = contextEl.getAttribute('data-rotate') || '0';\n                    let x = contextEl.getAttribute('data-rotateX') || '';\n                    let y = contextEl.getAttribute('data-rotateY') || '';\n        \n                    if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\n                        y = y ? '' : '180';\n                    } else {\n                        x = x ? '' : '180';\n                    }\n        \n                    contextEl.setAttribute('data-rotateX', x);\n                    contextEl.setAttribute('data-rotateY', y);\n        \n                    this.plugins.resizing._setTransForm(contextEl, r, x, y);\n                    break;\n                case 'rotate':\n                    const contextResizing = this.context.resizing;\n                    const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\n                    const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n        \n                    contextEl.setAttribute('data-rotate', deg);\n                    contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n                    this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n        \n                    currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                    break;\n                case 'onalign':\n                    this.plugins.resizing.openAlignMenu.call(this);\n                    return;\n                case 'align':\n                    const alignValue = value === 'basic' ? 'none' : value;\n                    currentModule.setAlign.call(this, alignValue, null, null, null);\n                    currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                    break;\n                case 'caption':\n                    const caption = !currentContext._captionChecked;\n                    currentModule.openModify.call(this, true);\n                    currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n    \n                    if (pluginName === 'image') {\n                        currentModule.update_image.call(this, false, false, false);\n                    } else if (pluginName === 'video') {\n                        this.context.dialog.updateModal = true;\n                        currentModule.submitAction.call(this);\n                    }\n    \n                    if (caption) {\n                        const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                            return current.nodeType === 3;\n                        });\n    \n                        if (!captionText) {\n                            currentContext._caption.focus();\n                        } else {\n                            this.setRange(captionText, 0, captionText, captionText.textContent.length);\n                        }\n    \n                        this.controllersOff();\n                    } else {\n                        currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                        currentModule.openModify.call(this, true);\n                    }\n    \n                    break;\n                case 'revert':\n                    currentModule.setOriginSize.call(this);\n                    currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, pluginName));\n                    break;\n                case 'update':\n                    currentModule.openModify.call(this);\n                    this.controllersOff();\n                    break;\n                case 'delete':\n                    currentModule.destroy.call(this);\n                    break;\n            }\n    \n            // history stack\n            this.history.push(false);\n        },\n    \n        /**\n         * @description Initialize the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         */\n        resetTransform: function (element) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            this.context.resizing._rotateVertical = false;\n    \n            element.style.maxWidth = '';\n            element.style.transform = '';\n            element.style.transformOrigin = '';\n            element.setAttribute('data-rotate', '');\n            element.setAttribute('data-rotateX', '');\n            element.setAttribute('data-rotateY', '');\n    \n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n        },\n    \n        /**\n         * @description Set the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         * @param {Number|null} width Element's width size\n         * @param {Number|null} height Element's height size\n         */\n        setTransformSize: function (element, width, height) {\n            let percentage = element.getAttribute('data-percentage');\n            const isVertical = this.context.resizing._rotateVertical;\n            const deg = element.getAttribute('data-rotate') * 1;\n            let transOrigin = '';\n    \n            if (percentage && !isVertical) {\n                percentage = percentage.split(',');\n                if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n                    this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n                } else {\n                    this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n                }\n            } else {\n                const cover = this.util.getParentElement(element, 'FIGURE');\n        \n                const offsetW = width || element.offsetWidth;\n                const offsetH = height || element.offsetHeight;\n                const w = (isVertical ? offsetH : offsetW) + 'px';\n                const h = (isVertical ? offsetW : offsetH) + 'px';\n        \n                this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n                this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n        \n                cover.style.width = w;\n                cover.style.height = (!!this.context[this.context.resizing._resize_plugin]._caption ? '' : h);\n    \n                if (isVertical) {\n                    let transW = (offsetW/2) + 'px ' + (offsetW/2) + 'px 0';\n                    let transH = (offsetH/2) + 'px ' + (offsetH/2) + 'px 0';\n                    transOrigin = deg === 90 || deg === -270 ? transH : transW;\n                }\n            }\n    \n            element.style.transformOrigin = transOrigin;\n            this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n            \n            if (isVertical) element.style.maxWidth = 'none';\n            else element.style.maxWidth = '';\n    \n            this.plugins.resizing.setCaptionPosition.call(this, element);\n        },\n    \n        _setTransForm: function (element, r, x, y) {\n            let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n            let translate = '';\n    \n            if (/[1-9]/.test(r) && (x || y)) {\n                translate = x ? 'Y' : 'X';\n    \n                switch (r) {\n                    case '90':\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    case '270':\n                        width *= -1;\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-90':\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-270':\n                        width *= -1;\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    default:\n                        translate = '';\n                }\n            }\n    \n            if (r % 180 === 0) {\n                element.style.maxWidth = '';\n            }\n            \n            element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n        },\n    \n        /**\n         * @description The position of the caption is set automatically.\n         * @param {Element} element Target element (not caption element)\n         */\n        setCaptionPosition: function (element) {\n            const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n            if (figcaption) {\n                figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n            }\n        },\n    \n        /**\n         * @description Mouse down event of resize handles\n         * @param {MouseEvent} e Event object \n         */\n        onMouseDown_resize_handle: function (e) {\n            const contextResizing = this.context.resizing;\n            const direction = contextResizing._resize_direction = e.target.classList[0];\n            e.stopPropagation();\n            e.preventDefault();\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            const contextEl = this.context[pluginName]._element;\n            const currentModule = this.plugins[pluginName];\n    \n            contextResizing._resizeClientX = e.clientX;\n            contextResizing._resizeClientY = e.clientY;\n            this.context.element.resizeBackground.style.display = 'block';\n            contextResizing.resizeButton.style.display = 'none';\n            contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n    \n            const closureFunc_bind = function closureFunc(e) {\n                if (e.type === 'keydown' && e.keyCode !== 27) return;\n    \n                const change = contextResizing._isChange;\n                contextResizing._isChange = false;\n    \n                this.removeDocEvent('mousemove', resizing_element_bind);\n                this.removeDocEvent('mouseup', closureFunc_bind);\n                this.removeDocEvent('keydown', closureFunc_bind);\n                \n                if (e.type === 'keydown') {\n                    this.controllersOff();\n                    this.context.element.resizeBackground.style.display = 'none';\n                    this.plugins[this.context.resizing._resize_plugin].init.call(this);\n                } else {\n                    // element resize\n                    this.plugins.resizing.cancel_controller_resize.call(this, direction);\n                    // history stack\n                    if (change) this.history.push(false);\n                }\n                \n                currentModule.onModifyMode.call(this, contextEl, this.plugins.resizing.call_controller_resize.call(this, contextEl, contextResizing._resize_plugin));\n            }.bind(this);\n    \n            const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n            this.addDocEvent('mousemove', resizing_element_bind);\n            this.addDocEvent('mouseup', closureFunc_bind);\n            this.addDocEvent('keydown', closureFunc_bind);\n        },\n    \n        /**\n         * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n         * The size of the module's \"div\" is adjusted according to the mouse move event.\n         * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n         * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n         * @param {MouseEvent} e Event object\n         */\n        resizing_element: function (contextResizing, direction, plugin, e) {\n            const clientX = e.clientX;\n            const clientY = e.clientY;\n    \n            let resultW = plugin._element_w;\n            let resultH = plugin._element_h;\n    \n            const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n            const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n            const wh = ((plugin._element_h / plugin._element_w) * w);\n    \n            if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\n            if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\n    \n            if (/r|l/.test(direction)) {\n                contextResizing.resizeDiv.style.width = w + 'px';\n                resultW = w;\n            }\n    \n            if (/^(t|b)[^h]$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = wh + 'px';\n                resultH = wh;\n            }\n            else if (/^(t|b)h$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = h + 'px';\n                resultH = h;\n            }\n    \n            contextResizing._resize_w = resultW;\n            contextResizing._resize_h = resultH;\n            this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n            contextResizing._isChange = true;\n        },\n    \n        /**\n         * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n         * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n         */\n        cancel_controller_resize: function (direction) {\n            const isVertical = this.context.resizing._rotateVertical;\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n    \n            let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n            let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n    \n            if (!isVertical && !/%$/.test(w)) {\n                const padding = 16;\n                const limit = this.context.element.wysiwygFrame.clientWidth - (padding * 2) - 2;\n                \n                if (this.util.getNumber(w, 0) > limit) {\n                    h = this._w.Math.round((h / w) * limit);\n                    w = limit;\n                }\n            }\n    \n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, w, h, false, direction);\n            this.plugins[this.context.resizing._resize_plugin].init.call(this);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            window.SUNEDITOR_MODULES = {};\n        }\n\n        window.SUNEDITOR_MODULES.resizing = resizing;\n    }\n\n    return resizing;\n}));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const icons = core.icons;\n        const context = core.context;\n        context.align = {\n            targetButton: targetElement,\n            _alignList: null,\n            currentAlign: '',\n            icons: {\n                justify: icons.align_justify,\n                left: icons.align_left,\n                right: icons.align_right,\n                center: icons.align_center\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.align._alignList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-list-layer';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-submenu se-list-inner se-list-align\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_right +'</span>' + lang.toolbar.alignRight +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function (element) {\n        const targetButton = this.context.align.targetButton;\n        const target = targetButton.querySelector('svg');\n\n        if (!element) {\n            this.util.changeElement(target, this.context.align.icons.left);\n            targetButton.removeAttribute('data-focus');\n        } else if (this.util.isFormatElement(element)) {\n            const textAlign = element.style.textAlign;\n            if (textAlign) {\n                this.util.changeElement(target, this.context.align.icons[textAlign]);\n                targetButton.setAttribute('data-focus', textAlign);\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * @overriding submenu\n     */\n    on: function () {\n        const alignContext = this.context.align;\n        const alignList = alignContext._alignList;\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || 'left';\n\n        if (currentAlign !== alignContext.currentAlign) {\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\n                    this.util.addClass(alignList[i], 'active');\n                } else {\n                    this.util.removeClass(alignList[i], 'active');\n                }\n            }\n\n            alignContext.currentAlign = currentAlign;\n        }\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n\n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const selectedFormsts = this.getSelectedElements();\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === 'left' ? '' : value));\n        }\n\n        this.effectNode = null;\n        this.submenuOff();\n        this.focus();\n        \n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.math = {\n            focusElement: null,\n            previewElement: null,\n            fontSizeElement: null,\n            _mathExp: null,\n            _renderer: null\n        };\n\n        /** math dialog */\n        let math_dialog = this.setDialog.call(core);\n        context.math.modal = math_dialog;\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n        context.math._renderer = function (exp) {\n            return this.src.renderToString(exp, this.options);\n        }.bind(core.context.option.katex);\n\n        context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(context.math), false);\n        context.math.focusElement.addEventListener('change', this._renderMathExp.bind(context.math), false);\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\n\n        /** math controller */\n        let math_controller = this.setController_MathButton.call(core);\n        context.math.mathController = math_controller;\n        context.math._mathExp = null;\n        math_controller.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n\n        /** add event listeners */\n        math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(math_dialog);\n        context.element.relative.appendChild(math_controller);\n\n        /** empty memory */\n        math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        dialog.innerHTML = '' +\n        '<form class=\"editor_math\">' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    this.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-body\">' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' +\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\n                    '<select class=\"se-input-select se-math-size\">' +\n                        '<option value=\"1em\">1</option>' +\n                        '<option value=\"1.5em\">1.5</option>' +\n                        '<option value=\"2em\">2</option>' +\n                        '<option value=\"2.5em\">2.5</option>' +\n                    '</select>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\n                    '<p class=\"se-math-preview\"></p>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"se-dialog-footer\">' +\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '</div>' +\n        '</form>';\n\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function () {\n        const lang = this.lang;\n        const math_btn = this.util.createElement('DIV');\n\n        math_btn.className = 'se-controller se-controller-link';\n        math_btn.innerHTML = '' +\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\n        '<div class=\"link-content\">' +\n            '<div class=\"se-btn-group\">' +\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    this.icons.edit +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                '</button>' +\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    this.icons.delete +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                '</button>' +\n            '</div>' +\n        '</div>' +\n        '';\n\n        return math_btn;\n    },\n\n    open: function () {\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    _renderMathExp: function (e) {\n        this.previewElement.innerHTML = this._renderer(e.target.value);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\n\n            const contextMath = this.context.math;\n            const mathExp = contextMath.focusElement.value;\n            const katexEl = contextMath.previewElement.querySelector('.katex');\n\n            if (!katexEl) return false;\n            katexEl.setAttribute('contenteditable', false);\n            katexEl.setAttribute('data-exp', mathExp);\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(katexEl);\n                    this.insertNode(oFormat);\n                } else {\n                    this.insertNode(katexEl);\n                }\n\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n                this.setRange(katexEl, 0, katexEl, 1);\n            } else {\n                const findParent = function (child, className) {\n                    if (child.classList.contains(className)) return child;\n\n                    const parent = child.parentNode;\n\n                    if (parent === document.body) return;\n\n                    if (parent.classList.contains(className)) {\n                        return parent;\n                    } else {\n                        findParent(parent, className);\n                    }\n                };\n                const containerEl = findParent(contextMath._mathExp, 'katex');\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\n                this.setRange(katexEl, 0, katexEl, 1);\n            }\n\n            contextMath.focusElement.value = '';\n            contextMath.fontSizeElement.value = '1em';\n            contextMath.previewElement.style.fontSize = '1em';\n            contextMath.previewElement.innerHTML = '';\n\n            return true;\n        }.bind(this);\n\n        try {\n            if (submitAction()) {\n                this.plugins.dialog.close.call(this);\n                // history stack\n                this.history.push(false);\n            }\n        } catch (e) {\n            this.plugins.dialog.close.call(this);\n        } finally {\n            this.closeLoading();\n        }\n\n        return false;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n                this.controllersOff();\n            }\n        } else if (element.getAttribute('data-exp')) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n                this.setRange(element, 0, element, 1);\n                this.plugins.math.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    on: function (update) {\n        if (!update) {\n            this.plugins.math.init.call(this);\n        } else {\n            const contextMath = this.context.math;\n            if (contextMath._mathExp) {\n                const exp = contextMath._mathExp.getAttribute('data-exp');\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n                this.context.dialog.updateModal = true;\n                contextMath.focusElement.value = exp;\n                contextMath.fontSizeElement.value = fontSize;\n                contextMath.previewElement.innerHTML = contextMath._renderer(exp);\n                contextMath.previewElement.style.fontSize = fontSize;\n            }\n        }\n    },\n\n    call_controller: function (mathTag) {\n        this.context.math._mathExp = mathTag;\n        const mathBtn = this.context.math.mathController;\n\n        const offset = this.util.getOffset(mathTag, this.context.element.wysiwygFrame);\n        mathBtn.style.top = (offset.top + mathTag.offsetHeight + 10) + 'px';\n        mathBtn.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\n\n        mathBtn.style.display = 'block';\n\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (mathBtn.offsetLeft + mathBtn.offsetWidth);\n        if (overLeft < 0) {\n            mathBtn.style.left = (mathBtn.offsetLeft + overLeft) + 'px';\n            mathBtn.firstElementChild.style.left = (20 - overLeft) + 'px';\n        } else {\n            mathBtn.firstElementChild.style.left = '20px';\n        }\n\n        this.controllersOn(mathBtn, mathTag, 'math');\n    },\n\n    onClick_mathController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.context.math.focusElement.value = this.context.math._mathExp.getAttribute('data-exp');\n            this.plugins.dialog.open.call(this, 'math', true);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.math._mathExp);\n            this.context.math._mathExp = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextMath = this.context.math;\n        contextMath.mathController.style.display = 'none';\n        contextMath._mathExp = null;\n        contextMath.focusElement.value = '';\n        contextMath.previewElement.innerHTML = '';\n    }\n});\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.blockquote = {\n            targetButton: targetElement,\n            tag: core.util.createElement('BLOCKQUOTE')\n        };\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.removeClass(this.context.blockquote.targetButton, 'active');\n        } else if (/blockquote/i.test(element.nodeName)) {\n            this.util.addClass(this.context.blockquote.targetButton, 'active');\n            return true;\n        }\n        \n        return false;\n    },\n\n    /**\n     * @overriding core\n     */\n    action: function () {\n        const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n        if (currentBlockquote) {\n            this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n        } else {\n            this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n        }\n    }\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.font = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _fontList: null,\n            currentFont: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('.se-list-font-family').addEventListener('click', this.pickup.bind(core));\n\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-list-layer';\n\n        let font, text, i, len;\n        let fontList = !option.font ?\n            [\n                'Arial',\n                'Comic Sans MS',\n                'Courier New',\n                'Impact',\n                'Georgia',\n                'tahoma',\n                'Trebuchet MS',\n                'Verdana'\n            ] : option.font;\n\n        let list = '<div class=\"se-submenu se-list-inner se-list-font-family\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (i = 0, len = fontList.length; i < len; i++) {\n            font = fontList[i];\n            text = font.split(',')[0];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n        }\n        list += '</ul></div>';\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding core\n     */\n    active: function (element) {\n        const target = this.context.font.targetText;\n        const tooltip = this.context.font.targetTooltip;\n\n        if (!element) {\n            const font = this.lang.toolbar.font;\n            this.util.changeTxt(target, font);\n            this.util.changeTxt(tooltip, font);\n        } else if (element.style && element.style.fontFamily.length > 0) {\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\n            this.util.changeTxt(target, selectFont);\n            this.util.changeTxt(tooltip, selectFont);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const fontContext = this.context.font;\n        const fontList = fontContext._fontList;\n        const currentFont = fontContext.targetText.textContent;\n\n        if (currentFont !== fontContext.currentFont) {\n            for (let i = 0, len = fontList.length; i < len; i++) {\n                if (currentFont === fontList[i].getAttribute('data-value')) {\n                    this.util.addClass(fontList[i], 'active');\n                } else {\n                    this.util.removeClass(fontList[i], 'active');\n                }\n            }\n\n            fontContext.currentFont = currentFont;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontFamily = value;\n            this.nodeChange(newNode, ['font-family'], null, null);\n        } else {\n            this.nodeChange(null, ['font-family'], ['span'], true);\n        }\n        \n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @overriding submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        contextPicker._defaultColor = '#333333';\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @overriding _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.fontSize = {\n            targetText: targetElement.querySelector('.txt'),\n            _sizeList: null,\n            currentSize: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.fontSize._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n\n        let list = '<div class=\"se-list-inner se-list-font-size\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n        } else if (element.style && element.style.fontSize.length > 0) {\n            this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const fontSizeContext = this.context.fontSize;\n        const sizeList = fontSizeContext._sizeList;\n        const currentSize = fontSizeContext.targetText.textContent;\n\n        if (currentSize !== fontSizeContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            fontSizeContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontSize = value;\n            this.nodeChange(newNode, ['font-size'], null, null);\n        } else {\n            this.nodeChange(null, ['font-size'], ['span'], true);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.formatBlock = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _formatList: null,\n            currentFormat: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n        context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang_toolbar = this.lang.toolbar;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n        const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n        for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n            format = formatList[i];\n            \n            if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n                tagName = format.toLowerCase();\n                command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n                h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n                name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n                className = '';\n                attrs = '';\n            } else {\n                tagName = format.tag.toLowerCase();\n                command = format.command;\n                name = format.name || tagName;\n                className = format.class;\n                attrs = className ? ' class=\"' + className + '\"' : '';\n            }\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' +\n                    '<' + tagName + attrs + '>' + name + '</' + tagName + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding core\n     */\n    active: function (element) {\n        let formatTitle = this.lang.toolbar.formats;\n        const target = this.context.formatBlock.targetText;\n        const tooltip = this.context.formatBlock.targetTooltip;\n\n        if (!element) {\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n        } else if (this.util.isFormatElement(element)) {\n            const formatContext = this.context.formatBlock;\n            const formatList = formatContext._formatList;\n            const nodeName = element.nodeName.toLowerCase();\n            const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n                    formatTitle = f.title;\n                    break;\n                }\n            }\n\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n            target.setAttribute('data-value', nodeName);\n            target.setAttribute('data-class', className);\n\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const target = formatContext.targetText;\n        const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n        if (currentFormat !== formatContext.currentFormat) {\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n                    this.util.addClass(f, 'active');\n                } else {\n                    this.util.removeClass(f, 'active');\n                }\n            }\n\n            formatContext.currentFormat = currentFormat;\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, value = null, tag = null, className = '';\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            value = target.getAttribute('data-value');\n            className = target.getAttribute('data-class');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        // blockquote\n        if (command === 'range') {\n            const rangeElement = tag.cloneNode(false);\n            this.applyRangeFormatElement(rangeElement);\n        }\n        // free, replace\n        else {\n            const range = this.getRange();\n            const startOffset = range.startOffset;\n            const endOffset = range.endOffset;\n\n            const util = this.util;\n            const selectedFormsts = this.getSelectedElementsAndComponents(false);\n            if (selectedFormsts.length === 0) return;\n\n            let first = selectedFormsts[0];\n            let last = selectedFormsts[selectedFormsts.length - 1];\n            const firstPath = util.getNodePath(range.startContainer, first, null, null);\n            const lastPath = util.getNodePath(range.endContainer, last, null, null);\n            \n            // remove selected list\n            const rlist = this.detachList(selectedFormsts, false);\n            if (rlist.sc) first = rlist.sc;\n            if (rlist.ec) last = rlist.ec;\n\n            // change format tag\n            this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            const modifiedFormsts = this.getSelectedElementsAndComponents(false);\n\n            // free format\n            if (command === 'free') {\n                const len = modifiedFormsts.length - 1;\n                let parentNode = modifiedFormsts[len].parentNode;\n                let freeElement = tag.cloneNode(false);\n                const focusElement = freeElement;\n    \n                for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n                    f = modifiedFormsts[i];\n                    if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n    \n                    isComp = util.isComponent(f);\n                    html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n                    before = util.getParentElement(f, function (current) {\n                        return current.parentNode === parentNode;\n                    });\n    \n                    if (parentNode !== f.parentNode || isComp) {\n                        if (util.isFormatElement(parentNode)) {\n                            parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                            parentNode = parentNode.parentNode;\n                        } else {\n                            parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                            parentNode = f.parentNode;\n                        }\n\n                        next = freeElement.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        freeElement = tag.cloneNode(false);\n                        first = true;\n                    }\n    \n                    inner = freeElement.innerHTML;\n                    freeElement.innerHTML = ((first || !html || !inner || /<br>$/i.test(html)) ? html : html + '<BR>') + inner;\n\n                    if (i === 0) {\n                        parentNode.insertBefore(freeElement, f);\n                        next = f.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        const prev = freeElement.previousSibling;\n                        if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                            prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                            util.removeItem(freeElement);\n                        }\n                    }\n\n                    if (!isComp) util.removeItem(f);\n                    if (!!html) first = false;\n                }\n    \n                this.setRange(focusElement, 0, focusElement, 0);\n            }\n            // replace format\n            else {\n                for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                    node = modifiedFormsts[i];\n                    \n                    if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                        newFormat = tag.cloneNode(false);\n                        util.copyFormatAttributes(newFormat, node);\n                        newFormat.innerHTML = node.innerHTML;\n    \n                        node.parentNode.replaceChild(newFormat, node);\n                    }\n    \n                    if (i === 0) first = newFormat || node;\n                    if (i === len - 1) last = newFormat || node;\n                    newFormat = null;\n                }\n    \n                this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            }\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'hiliteColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @overriding submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextHiliteColor = this.context.hiliteColor;\r\n\r\n        contextPicker._colorInput = contextHiliteColor.colorInput;\r\n        contextPicker._defaultColor = '#FFFFFF';\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n        contextPicker._colorList = contextHiliteColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @overriding _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['background-color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n        \r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n        this.nodeChange(newNode, ['background-color'], null, null);\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner se-list-line\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"solid\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                            '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_solid + '</span></span>' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"dotted\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                            '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_dotted + '</span></span>' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line se-tooltip\" data-command=\"horizontalRule\" data-value=\"dashed\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                            '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.hr_dashed + '</span></span>' +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    appendHr: function (className) {\n        const oHr = this.util.createElement('HR');\n        oHr.className = className;\n        this.focus();\n\n        let oNode = this.insertComponent(oHr, false);\n        this.setRange(oNode, 0, oNode, 0);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.lineHeight = {\n            _sizeList: null,\n            currentSize: -1\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const sizeList = !option.lineHeights ? [\n            {text: '1', value: 1},\n            {text: '1.15', value: 1.15},\n            {text: '1.5', value: 1.5},\n            {text: '2', value: 2}\n        ] : option.lineHeights;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const lineHeightContext = this.context.lineHeight;\n        const sizeList = lineHeightContext._sizeList;\n        const currentSize = this.util.getFormatElement(this.getSelectionNode()).style.lineHeight + '';\n\n        if (currentSize !== lineHeightContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            lineHeightContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value') || '';\n        const formats = this.getSelectedElements();\n\n        for (let i = 0, len = formats.length; i < len; i++) {\n            formats[i].style.lineHeight = value;\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.list = {\n            targetButton: targetElement,\n            _list: null,\n            currentList: '',\n            icons: {\n                bullets: core.icons.list_bullets,\n                number: core.icons.list_number\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.list._list = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\">' +\n                        this.icons.list_number +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.orderList + '</span></span>' +\n                    '</button></li>' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\">' +\n                        this.icons.list_bullets +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.unorderList + '</span></span>' +\n                    '</button></li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding core\n     */\n    active: function (element) {\n        const button = this.context.list.targetButton;\n        const icon = button.querySelector('svg');\n        const util = this.util;\n\n        if (!element) {\n            button.removeAttribute('data-focus');\n            util.changeElement(icon, this.context.list.icons.number);\n            util.removeClass(button, 'active');\n        } else if (util.isList(element)) {\n            const nodeName = element.nodeName;\n            button.setAttribute('data-focus', nodeName);\n            util.addClass(button, 'active');\n            if (/UL/i.test(nodeName)) {\n                util.changeElement(icon, this.context.list.icons.bullets);\n            } else {\n                util.changeElement(icon, this.context.list.icons.number);\n            }\n            \n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const listContext = this.context.list;\n        const list = listContext._list;\n        const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n        if (currentList !== listContext.currentList) {\n            for (let i = 0, len = list.length; i < len; i++) {\n                if (currentList === list[i].getAttribute('data-command')) {\n                    this.util.addClass(list[i], 'active');\n                } else {\n                    this.util.removeClass(list[i], 'active');\n                }\n            }\n\n            listContext.currentList = currentList;\n        }\n    },\n\n    editList: function (command, selectedCells, detach) {\n        const selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n        if (!selectedFormats || selectedFormats.length === 0) return;\n        \n        const util = this.util;\n        util.sortByDepth(selectedFormats, true);\n\n        // merge\n        let firstSel = selectedFormats[0];\n        let lastSel = selectedFormats[selectedFormats.length - 1];\n        let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n        let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n\n        const range = this.getRange();\n        const originRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n        };\n\n        let isRemove = true;\n\n        for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n                return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n            }.bind(util)))) {\n                isRemove = false;\n                break;\n            }\n        }\n\n        if (isRemove && (!topEl || (firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase())) && (!bottomEl || (lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase()))) {\n            if (detach) {\n                for (let i = 0, len = selectedFormats.length; i < len; i++) {\n                    for (let j = i - 1; j >= 0; j--) {\n                        if (selectedFormats[j].contains(selectedFormats[i])) {\n                            selectedFormats.splice(i, 1);\n                            i--; len--;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            const currentFormat = util.getRangeFormatElement(firstSel);\n            const cancel = currentFormat && currentFormat.tagName === command;\n            let rangeArr, tempList;\n            const passComponent = function (current) {\n                return !this.isComponent(current);\n            }.bind(util);\n            \n            if (!cancel) tempList = util.createElement(command);\n\n            for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n                if (!o || !util.isList(o)) continue;\n\n                if (!r) {\n                    r = o;\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                } else {\n                    if (r !== o) {\n                        if (detach && util.isListCell(o.parentNode)) {\n                            this.plugins.list._detachNested.call(this, rangeArr.f);\n                        } else {\n                            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                        }\n                        \n                        o = selectedFormats[i].parentNode;\n                        if (!cancel) tempList = util.createElement(command);\n                        \n                        r = o;\n                        rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                    } else {\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n                    }\n                }\n                \n                if (i === len - 1) {\n                    if (detach && util.isListCell(o.parentNode)) {\n                        this.plugins.list._detachNested.call(this, rangeArr.f);\n                    } else {\n                        this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                    }\n                }\n            }\n        } else {\n            const topElParent = topEl ? topEl.parentNode : topEl;\n            const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n            topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n            bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n\n            const mergeTop = topEl && topEl.tagName === command;\n            const mergeBottom = bottomEl && bottomEl.tagName === command;\n            \n            let list = mergeTop ? topEl : util.createElement(command);\n            let firstList = null;\n            let lastList = null;\n            let topNumber = null;\n            let bottomNumber = null;\n\n            const passComponent = function (current) {\n                return !this.isComponent(current) && !this.isList(current);\n            }.bind(util);\n            \n            for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n                fTag = selectedFormats[i];\n                if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n                    util.removeItem(fTag);\n                    continue;\n                }\n                next = selectedFormats[i + 1];\n                originParent = fTag.parentNode;\n                nextParent = next ? next.parentNode : null;\n                isCell = util.isListCell(fTag);\n                rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n                parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n                siblingTag = isCell && !util.isWysiwygDiv(originParent) ? (!next || util.isListCell(parentTag)) ? originParent : originParent.nextSibling : fTag.nextSibling;\n\n                newCell = util.createElement('LI');\n                util.copyFormatAttributes(newCell, fTag);\n                if (util.isComponent(fTag)) {\n                    const isHR = /^HR$/i.test(fTag.nodeName);\n                    if (!isHR) newCell.innerHTML = '<br>';\n                    newCell.innerHTML += fTag.outerHTML;\n                    if (isHR) newCell.innerHTML += '<br>';\n                } else {\n                    const fChildren = fTag.childNodes;\n                    while (fChildren[0]) {\n                        newCell.appendChild(fChildren[0]);\n                    }\n                }\n                list.appendChild(newCell);\n\n                if (!next) lastList = list;\n                if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n                    if (!firstList) firstList = list;\n                    if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n                        if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n                    }\n                }\n\n                util.removeItem(fTag);\n                if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n                if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || (util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent)))) {\n                    list = util.createElement(command);\n                }\n\n                if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n            }\n\n            if (topNumber) {\n                firstList = firstList.children[topNumber];\n            }\n\n            if (mergeBottom) {\n                bottomNumber = list.children.length - 1;\n                list.innerHTML += bottomEl.innerHTML;\n                lastList = list.children[bottomNumber];\n                util.removeItem(bottomEl);\n            }\n        }\n        \n        this.effectNode = null;\n        return originRange;\n    },\n\n    _detachNested: function (cells) {\n        const first = cells[0];\n        const last = cells[cells.length - 1];\n        const next = last.nextElementSibling;\n        const originList = first.parentNode;\n        const sibling = originList.parentNode.nextElementSibling;\n        const parentNode = originList.parentNode.parentNode;\n\n        for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            parentNode.insertBefore(cells[c], sibling);\n        }\n\n        if (next && originList.children.length > 0) {\n            const newList = originList.cloneNode(false);\n            const children = originList.childNodes;\n            const index = this.util.getPositionIndex(next);\n            while (children[index]) {\n                newList.appendChild(children[index]);\n            }\n            last.appendChild(newList);\n        }\n\n        if (originList.children.length === 0) this.util.removeItem(originList);\n        this.util.mergeSameTags(parentNode);\n\n        const edge = this.util.getEdgeChildNodes(first, last);\n\n        return {\n            cc: first.parentNode,\n            sc: edge.sc,\n            ec: edge.ec\n        };\n    },\n\n    editInsideList: function (remove, selectedCells) {\n        selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) { return this.isListCell(el); }.bind(this.util)) : selectedCells;\n        const cellsLen = selectedCells.length;\n        if (cellsLen === 0 || (!remove && (!this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)))) {\n            return {\n                sc: selectedCells[0],\n                so: 0,\n                ec: selectedCells[cellsLen - 1],\n                eo: 1\n            };\n        }\n\n        let originList = selectedCells[0].parentNode;\n        let lastCell = selectedCells[cellsLen - 1];\n        let range = null;\n\n        if (remove) {\n            if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n                lastCell = lastCell.nextElementSibling;\n                while (lastCell) {\n                    selectedCells.push(lastCell);\n                    lastCell = lastCell.nextElementSibling;\n                }\n            }\n            range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n        } else {\n            let innerList = this.util.createElement(originList.nodeName);\n            let prev = selectedCells[0].previousElementSibling;\n            let next = lastCell.nextElementSibling;\n            const nodePath = { s: null, e: null, sl: originList, el: originList };\n\n            for (let i = 0, len = cellsLen, c; i < len; i++) {\n                c = selectedCells[i];\n                if (c.parentNode !== originList) {\n                    this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n                    originList = c.parentNode;\n                    innerList = this.util.createElement(originList.nodeName);\n                }\n                \n                prev = c.previousElementSibling;\n                next = c.nextElementSibling;\n                innerList.appendChild(c);\n            }\n            \n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n            const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n            range = {\n                sc: sc,\n                so: 0,\n                ec: ec,\n                eo: ec.textContent.length\n            };\n        }\n\n        return range;\n    },\n\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n        let insertPrev = false;\n\n        if (prev && innerList.tagName === prev.tagName) {\n            const children = innerList.children;\n            while (children[0]) {\n                prev.appendChild(children[0]);\n            }\n\n            innerList = prev;\n            insertPrev = true;\n        }\n\n        if (next && innerList.tagName === next.tagName) {\n            const children = next.children;\n            while (children[0]) {\n                innerList.appendChild(children[0]);\n            }\n\n            const temp = next.nextElementSibling;\n            next.parentNode.removeChild(next);\n            next = temp;\n        }\n\n        if (!insertPrev) {\n            if (this.util.isListCell(prev)) {\n                originList = prev;\n                next = null;\n            }\n\n            originList.insertBefore(innerList, next);\n\n            if (!nodePath.s) {\n                nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n                nodePath.sl = originList;\n            }\n\n            const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n            nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n            nodePath.el = originList;\n\n            this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n            this.util.mergeNestedTags(originList);\n            if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n        }\n\n        return innerList;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = '';\n\n        while (!command && !/^UL$/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const range = this.plugins.list.editList.call(this, command, null, false);\n        this.setRange(range.sc, range.so, range.ec, range.eo);\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.paragraphStyle = {\n            _classList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const menuLang = this.lang.menu;\n        const defaultList = {\n            spaced: {\n                name: menuLang.spaced,\n                class: '__se__p-spaced',\n                _class: ''\n            },\n            bordered: {\n                name: menuLang.bordered,\n                class: '__se__p-bordered',\n                _class: ''\n            },\n            neon: {\n                name: menuLang.neon,\n                class: '__se__p-neon',\n                _class: ''\n            }\n        };\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n            p = paragraphStyles[i];\n\n            if (typeof p === 'string') {\n                const defaultStyle = defaultList[p.toLowerCase()];\n                if (!defaultStyle) continue;\n                p = defaultStyle;\n            }\n\n            name = p.name;\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n            _class = p._class;\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' +\n                    '<div' + attrs + '>' + name + '</div>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const paragraphContext = this.context.paragraphStyle;\n        const paragraphList = paragraphContext._classList;\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n                this.util.addClass(paragraphList[i], 'active');\n            } else {\n                this.util.removeClass(paragraphList[i], 'active');\n            }\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!/^UL$/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            if (value) break;\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        let selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) return;\n\n        // change format class\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n        selectedFormsts = this.getSelectedElements();\n        \n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            toggleClass(selectedFormsts[i], value);\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'table',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.table = {\r\n            _element: null,\r\n            _tdElement: null,\r\n            _trElement: null,\r\n            _trElements: null,\r\n            _tableXY: [],\r\n            _maxWidth: true,\r\n            _fixedColumn: false,\r\n            resizeText: null,\r\n            headerButton: null,\r\n            mergeButton: null,\r\n            splitButton: null,\r\n            splitMenu: null,\r\n            maxText: core.lang.controller.maxSize,\r\n            minText: core.lang.controller.minSize,\r\n            _physical_cellCnt: 0,\r\n            _logical_cellCnt: 0,\r\n            _rowCnt: 0,\r\n            _rowIndex: 0,\r\n            _physical_cellIndex: 0,\r\n            _logical_cellIndex: 0,\r\n            _current_colSpan: 0,\r\n            _current_rowSpan: 0,\r\n            icons: {\r\n                expansion: core.icons.expansion,\r\n                reduction: core.icons.reduction\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let tablePicker = listDiv.querySelector('.se-controller-table-picker');\r\n\r\n        context.table.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\r\n        context.table.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\r\n        context.table.tableDisplay = listDiv.querySelector('.se-table-size-display');\r\n\r\n        /** set table controller */\r\n        let tableController = this.setController_table.call(core);\r\n        context.table.tableController = tableController;\r\n        context.table.resizeButton = tableController.querySelector('._se_table_resize');\r\n        context.table.resizeText = tableController.querySelector('._se_table_resize > span > span');\r\n        context.table.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\r\n        context.table.headerButton = tableController.querySelector('._se_table_header');\r\n        tableController.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\r\n\r\n        /** set resizing */\r\n        let resizeDiv = this.setController_tableEditor.call(core);\r\n        context.table.resizeDiv = resizeDiv;\r\n        context.table.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\r\n        context.table.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\r\n        context.table.splitButton = resizeDiv.querySelector('._se_table_split_button');\r\n        context.table.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\r\n        context.table.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\r\n        resizeDiv.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\r\n        \r\n        /** add event listeners */\r\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core));\r\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\r\n        resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\r\n        tableController.addEventListener('click', this.onClick_tableController.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(resizeDiv);\r\n        context.element.relative.appendChild(tableController);\r\n\r\n        /** empty memory */\r\n        listDiv = null, tablePicker = null, resizeDiv = null, tableController = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-selector-table';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-table-size\">' +\r\n                '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' +\r\n                '<div class=\"se-table-size-highlighted\"></div>' +\r\n                '<div class=\"se-table-size-unhighlighted\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"se-table-size-display\">1 x 1</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    setController_table: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table';\r\n        tableResize.innerHTML = '' +\r\n            '<div>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' +\r\n                        icons.expansion +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' +\r\n                        icons.fixed_column_width +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' +\r\n                        icons.table_header +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    setController_tableEditor: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table-cell';\r\n        tableResize.innerHTML = '' +\r\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' +\r\n                    icons.insert_row_above +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' +\r\n                    icons.insert_row_below +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_row +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' +\r\n                    icons.merge_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n            '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_left +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_right +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_column +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' +\r\n                    icons.split_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' +\r\n                    '<div class=\"se-list-inner\">' +\r\n                        '<ul class=\"se-list-basic\">' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + \r\n                                lang.controller.VerticalSplit + '</li>' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + \r\n                                lang.controller.HorizontalSplit + '</li>' +\r\n                        '</ul>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    appendTable: function () {\r\n        const oTable = this.util.createElement('TABLE');\r\n        const createCells = this.plugins.table.createCells;\r\n\r\n        const x = this.context.table._tableXY[0];\r\n        let y = this.context.table._tableXY[1];\r\n        let tableHTML = '<tbody>';\r\n        while (y > 0) {\r\n            tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\r\n            --y;\r\n        }\r\n        tableHTML += '</tbody>';\r\n        oTable.innerHTML = tableHTML;\r\n\r\n        this.insertComponent(oTable, false);\r\n        \r\n        const firstTd = oTable.querySelector('td div');\r\n        this.setRange(firstTd, 0, firstTd, 0);\r\n        this.plugins.table.reset_table_picker.call(this);\r\n    },\r\n\r\n    createCells: function (nodeName, cnt, returnElement) {\r\n        nodeName = nodeName.toLowerCase();\r\n\r\n        if (!returnElement) {\r\n            let cellsHTML = '';\r\n            while (cnt > 0) {\r\n                cellsHTML += '<' +nodeName + '><div><br></div></' + nodeName + '>';\r\n                cnt--;\r\n            }\r\n            return cellsHTML;\r\n        } else {\r\n            const cell = this.util.createElement(nodeName);\r\n            cell.innerHTML = '<div><br></div>';\r\n            return cell;\r\n        }\r\n    },\r\n\r\n    onMouseMove_tablePicker: function (e) {\r\n        e.stopPropagation();\r\n\r\n        let x = this._w.Math.ceil(e.offsetX / 18);\r\n        let y = this._w.Math.ceil(e.offsetY / 18);\r\n        x = x < 1 ? 1 : x;\r\n        y = y < 1 ? 1 : y;\r\n        this.context.table.tableHighlight.style.width = x + 'em';\r\n        this.context.table.tableHighlight.style.height = y + 'em';\r\n\r\n        let x_u = 10; // x < 5 ? 5 : (x > 9 ? 10 : x + 1);\r\n        let y_u = 10; //y < 5 ? 5 : (y > 9 ? 10 : y + 1);\r\n        this.context.table.tableUnHighlight.style.width = x_u + 'em';\r\n        this.context.table.tableUnHighlight.style.height = y_u + 'em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, x + ' x ' + y);\r\n        this.context.table._tableXY = [x, y];\r\n    },\r\n\r\n    reset_table_picker: function () {\r\n        if (!this.context.table.tableHighlight) return;\r\n\r\n        const highlight = this.context.table.tableHighlight.style;\r\n        const unHighlight = this.context.table.tableUnHighlight.style;\r\n\r\n        highlight.width = '1em';\r\n        highlight.height = '1em';\r\n        unHighlight.width = '10em';\r\n        unHighlight.height = '10em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\r\n        this.submenuOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextTable = this.context.table;\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n\r\n        if (tablePlugin._selectedTable) {\r\n            const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n            for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n                this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n            }\r\n        }\r\n\r\n        tablePlugin._toggleEditor.call(this, true);\r\n\r\n        contextTable._element = null;\r\n        contextTable._tdElement = null;\r\n        contextTable._trElement = null;\r\n        contextTable._trElements = null;\r\n        contextTable._tableXY = [];\r\n        contextTable._maxWidth = true;\r\n        contextTable._fixedColumn = false;\r\n        contextTable._physical_cellCnt = 0;\r\n        contextTable._logical_cellCnt = 0;\r\n        contextTable._rowCnt = 0;\r\n        contextTable._rowIndex = 0;\r\n        contextTable._physical_cellIndex = 0;\r\n        contextTable._logical_cellIndex = 0;\r\n        contextTable._current_colSpan = 0;\r\n        contextTable._current_rowSpan = 0;\r\n\r\n        tablePlugin._shift = false;\r\n        tablePlugin._selectedCells = null;\r\n        tablePlugin._selectedTable = null;\r\n        tablePlugin._ref = null;\r\n\r\n        tablePlugin._fixedCell = null;\r\n        tablePlugin._selectedCell = null;\r\n        tablePlugin._fixedCellName = null;\r\n    },\r\n\r\n    /** table edit controller */\r\n    call_controller_tableEdit: function (tdElement) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\r\n            this.controllersOff();\r\n            this.util.removeClass(tdElement, 'se-table-selected-cell');\r\n            return;\r\n        }\r\n        \r\n        const contextTable = this.context.table;\r\n        const tableController = contextTable.tableController;\r\n        \r\n        tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\r\n\r\n        const tableElement = contextTable._element;\r\n        contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || (!tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto'));\r\n        contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\r\n        tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\r\n\r\n        tablePlugin.setPositionControllerTop.call(this, tableElement);\r\n\r\n        if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, tableController, tablePlugin.init.bind(this), tdElement, 'table');\r\n    },\r\n\r\n    setPositionControllerTop: function (tableElement) {\r\n        const tableController = this.context.table.tableController;\r\n        const offset = this.util.getOffset(tableElement, this.context.element.wysiwygFrame);\r\n        tableController.style.left = offset.left + 'px';\r\n        tableController.style.display = 'block';\r\n        tableController.style.top = (offset.top - tableController.offsetHeight - 2) + 'px';\r\n    },\r\n\r\n    setPositionControllerDiv: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const resizeDiv = contextTable.resizeDiv;\r\n        \r\n        this.plugins.table.setCellInfo.call(this, tdElement, reset);\r\n\r\n        resizeDiv.style.display = 'block';\r\n\r\n        const offset = this.util.getOffset(tdElement, this.context.element.wysiwygFrame);\r\n        resizeDiv.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\r\n        resizeDiv.style.top = (offset.top + tdElement.offsetHeight + 12) + 'px';\r\n\r\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (resizeDiv.offsetLeft + resizeDiv.offsetWidth);\r\n        if (overLeft < 0) {\r\n            resizeDiv.style.left = (resizeDiv.offsetLeft + overLeft) + 'px';\r\n            resizeDiv.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n        } else {\r\n            resizeDiv.firstElementChild.style.left = '20px';\r\n        }\r\n    },\r\n\r\n    setCellInfo: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        if (/THEAD/i.test(table.firstElementChild.nodeName)) {\r\n            this.util.addClass(contextTable.headerButton, 'active');\r\n        } else {\r\n            this.util.removeClass(contextTable.headerButton, 'active');\r\n        }\r\n\r\n        if (reset || contextTable._physical_cellCnt === 0) {\r\n            if (contextTable._tdElement !== tdElement) {\r\n                contextTable._tdElement = tdElement;\r\n                contextTable._trElement = tdElement.parentNode;\r\n            }\r\n\r\n            const rows = contextTable._trElements = table.rows;\r\n            const cellIndex = tdElement.cellIndex;\r\n\r\n            let cellCnt = 0;\r\n            for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\r\n                cellCnt += cells[i].colSpan;\r\n            }\r\n\r\n            // row cnt, row index\r\n            const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\r\n            contextTable._rowCnt = rows.length;\r\n\r\n            // cell cnt, physical cell index\r\n            contextTable._physical_cellCnt = contextTable._trElement.cells.length;\r\n            contextTable._logical_cellCnt = cellCnt;\r\n            contextTable._physical_cellIndex = cellIndex;\r\n\r\n            // span\r\n            contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\r\n            contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1;\r\n\r\n            // find logcal cell index\r\n            let rowSpanArr = [];\r\n            let spanIndex = [];\r\n            for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\r\n                cells = rows[i].cells;\r\n                colSpan = 0;\r\n                for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    rs = cell.rowSpan - 1;\r\n                    logcalIndex = c + colSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n                            if (logcalIndex >= arr.index) {\r\n                                colSpan += arr.cs;\r\n                                logcalIndex += arr.cs;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (c === cLen - 1) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // logcal cell index\r\n                    if (i === rowIndex && c === cellIndex) {\r\n                        contextTable._logical_cellIndex = logcalIndex;\r\n                        break;\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            index: logcalIndex,\r\n                            cs: cs + 1,\r\n                            rs: rs,\r\n                            row: -1\r\n                        });\r\n                    }\r\n                    \r\n                    colSpan += cs;\r\n                }\r\n\r\n                spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                rowSpanArr = [];\r\n            }\r\n\r\n            rowSpanArr = null;\r\n            spanIndex = null;\r\n        }\r\n    },\r\n\r\n    editTable: function (type, option) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element;\r\n        const isRow = type === 'row';\r\n\r\n        if (isRow) {\r\n            const tableAttr = contextTable._trElement.parentNode;\r\n            if (/^THEAD$/i.test(tableAttr.nodeName)) {\r\n                if (option === 'up') {\r\n                    return;\r\n                } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\r\n                    table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // multi\r\n        if (tablePlugin._ref) {\r\n            const positionCell = contextTable._tdElement;\r\n            const selectedCells = tablePlugin._selectedCells;\r\n            // multi - row\r\n            if (isRow) {\r\n                // remove row\r\n                if (!option) {\r\n                    let row = selectedCells[0].parentNode;\r\n                    const removeCells = [selectedCells[0]];\r\n\r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (row !== cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                            row = cell.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editRow.call(this, option);\r\n                    }\r\n                } else { // edit row\r\n                    tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\r\n                    tablePlugin.editRow.call(this, option, positionCell);\r\n                }\r\n            } else { // multi - cell\r\n                const firstRow = selectedCells[0].parentNode;\r\n                // remove cell\r\n                if (!option) {\r\n                    const removeCells = [selectedCells[0]];\r\n                    \r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (firstRow === cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editCell.call(this, option);\r\n                    }\r\n                } else { // edit cell\r\n                    let rightCell = null;\r\n\r\n                    for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\r\n                        if (firstRow !== selectedCells[i + 1].parentNode) {\r\n                            rightCell = selectedCells[i];\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\r\n                    tablePlugin.editCell.call(this, option, positionCell);\r\n                }\r\n            }\r\n\r\n            if (!option) tablePlugin.init.call(this);\r\n        } // one\r\n        else {\r\n            tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\r\n        }\r\n\r\n        // after remove\r\n        if (!option) {\r\n            const children = table.children;\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].children.length === 0) {\r\n                    this.util.removeItem(children[i]);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (table.children.length === 0) this.util.removeItem(table);\r\n        }\r\n    },\r\n\r\n    editRow: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const remove = !option;\r\n\r\n        const up = option === 'up';\r\n        const originRowIndex = contextTable._rowIndex;\r\n        const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\r\n        const sign = remove ? -1 : 1;\r\n        \r\n        const rows = contextTable._trElements;\r\n        let cellCnt = contextTable._logical_cellCnt;\r\n\r\n        for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\r\n            cell = rows[i].cells;\r\n            if (cell.length === 0) return;\r\n            \r\n            for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\r\n                rs = cell[c].rowSpan;\r\n                cs = cell[c].colSpan;\r\n                if (rs < 2 && cs < 2) continue;\r\n\r\n                if (rs + i > rowIndex && rowIndex > i) {\r\n                    cell[c].rowSpan = rs + sign;\r\n                    cellCnt -= cs;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            const next = rows[originRowIndex + 1];\r\n            if (next) {\r\n                const spanCells = [];\r\n                let cells = rows[originRowIndex].cells;\r\n                let colSpan = 0;\r\n\r\n                for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                    cell = cells[i];\r\n                    logcalIndex = i + colSpan;\r\n                    colSpan += cell.colSpan - 1;\r\n\r\n                    if (cell.rowSpan > 1) {\r\n                        cell.rowSpan -= 1;\r\n                        spanCells.push({cell: cell.cloneNode(false), index: logcalIndex});\r\n                    }\r\n                }\r\n\r\n                if (spanCells.length > 0) {\r\n                    let spanCell = spanCells.shift();\r\n                    cells = next.cells;\r\n                    colSpan = 0;\r\n\r\n                    for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                        cell = cells[i];\r\n                        logcalIndex = i + colSpan;\r\n                        colSpan += cell.colSpan - 1;\r\n    \r\n                        if (logcalIndex >= spanCell.index) {\r\n                            i--, colSpan--;\r\n                            colSpan += spanCell.cell.colSpan - 1;\r\n                            next.insertBefore(spanCell.cell, cell);\r\n                            spanCell = spanCells.shift();\r\n                            if (!spanCell) break;\r\n                        }\r\n                    }\r\n\r\n                    if (spanCell) {\r\n                        next.appendChild(spanCell.cell);\r\n                        for (let i = 0, len = spanCells.length; i < len; i++) {\r\n                            next.appendChild(spanCells[i].cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTable._element.deleteRow(rowIndex);\r\n        } else {\r\n            const newRow = contextTable._element.insertRow(rowIndex);\r\n            newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\r\n        }\r\n\r\n        if (!remove) {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        } else {\r\n            this.controllersOff();\r\n        }\r\n    },\r\n\r\n    editCell: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n        const remove = !option;\r\n\r\n        const left = option === 'left';\r\n        const colSpan = contextTable._current_colSpan;\r\n        const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\r\n\r\n        const rows = contextTable._trElements;\r\n        let rowSpanArr = [];\r\n        let spanIndex = [];\r\n        let passCell = 0;\r\n        const removeCell = [];\r\n        const removeSpanArr = [];\r\n\r\n        for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\r\n            row = rows[i];\r\n            insertIndex = cellIndex;\r\n            applySpan = false;\r\n            cells = row.cells;\r\n            cellColSpan = 0;\r\n\r\n            for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\r\n                cell = cells[c];\r\n                if (!cell) break;\r\n\r\n                rs = cell.rowSpan - 1;\r\n                cs = cell.colSpan - 1;\r\n\r\n                if (!remove) {\r\n                    if (c >= insertIndex) break;\r\n                    if (cs > 0) {\r\n                        if (passCell < 1 && cs + c >= insertIndex) {\r\n                            cell.colSpan += 1;\r\n                            insertIndex = null;\r\n                            passCell = rs + 1;\r\n                            break;\r\n                        }\r\n\r\n                        insertIndex -= cs;\r\n                    }\r\n\r\n                    if (!applySpan) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            insertIndex -= arr.cs;\r\n                            arr.rs -= 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }  \r\n                        }\r\n                        applySpan = true;\r\n                    }\r\n                } else {\r\n                    removeIndex = c + cellColSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        const lastCell = !cells[c + 1];\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n\r\n                            if (removeIndex >= arr.index) {\r\n                                cellColSpan += arr.cs;\r\n                                removeIndex = c + cellColSpan;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (lastCell) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            rs: rs,\r\n                            cs: cs + 1,\r\n                            index: removeIndex,\r\n                            row: -1\r\n                        });\r\n                    }\r\n\r\n                    if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\r\n                        removeCell.push(cell);\r\n                    } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\r\n                        cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs); \r\n                    } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\r\n                        removeSpanArr.push({\r\n                            cell: cell,\r\n                            i: i,\r\n                            rs: i + rs\r\n                        });\r\n                    }\r\n\r\n                    cellColSpan += cs;\r\n                }\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n\r\n            if (!remove) {\r\n                if (passCell > 0) {\r\n                    passCell -= 1;\r\n                    continue;\r\n                }\r\n\r\n                if (insertIndex !== null && cells.length > 0) {\r\n                    newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\r\n                    newCell = row.insertBefore(newCell, cells[insertIndex]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            let removeFirst, removeEnd;\r\n            for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\r\n                row = removeCell[r].parentNode;\r\n                util.removeItem(removeCell[r]);\r\n                if (row.cells.length === 0) {\r\n                    if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\r\n                    removeEnd = util.getArrayIndex(rows, row);\r\n                    util.removeItem(row);\r\n                }\r\n            }\r\n\r\n            for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\r\n                rowSpanCell = removeSpanArr[c];\r\n                rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\r\n            }\r\n\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        }\r\n    },\r\n\r\n    _closeSplitMenu: null,\r\n    openSplitMenu: function () {\r\n        this.util.addClass(this.context.table.splitButton, 'on');\r\n        this.context.table.splitMenu.style.display = 'inline-table';\r\n\r\n        this.plugins.table._closeSplitMenu = function () {\r\n            this.util.removeClass(this.context.table.splitButton, 'on');\r\n            this.context.table.splitMenu.style.display = 'none';\r\n            this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n            this.plugins.table._closeSplitMenu = null;\r\n        }.bind(this);\r\n\r\n        this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n    },\r\n\r\n    splitCells: function (direction) {\r\n        const util = this.util;\r\n        const vertical = direction === 'vertical';\r\n        const contextTable = this.context.table;\r\n        const currentCell = contextTable._tdElement;\r\n        const rows = contextTable._trElements;\r\n        const currentRow = contextTable._trElement;\r\n        const index = contextTable._logical_cellIndex;\r\n        const rowIndex = contextTable._rowIndex;\r\n        const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true);\r\n\r\n        // vertical\r\n        if (vertical) {\r\n            const currentColSpan = currentCell.colSpan;\r\n            newCell.rowSpan = currentCell.rowSpan;\r\n\r\n            // colspan > 1\r\n            if (currentColSpan > 1) {\r\n                newCell.colSpan = this._w.Math.floor(currentColSpan/2);\r\n                currentCell.colSpan = currentColSpan - newCell.colSpan;\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            } else { // colspan - 1\r\n                let rowSpanArr = [];\r\n                let spanIndex = [];\r\n\r\n                for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                        cell = cells[c];\r\n                        cs = cell.colSpan - 1;\r\n                        rs = cell.rowSpan - 1;\r\n                        logcalIndex = c + colSpan;\r\n\r\n                        if (spanIndex.length > 0) {\r\n                            for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                                arr = spanIndex[r];\r\n                                if (arr.row > i) continue;\r\n                                if (logcalIndex >= arr.index) {\r\n                                    colSpan += arr.cs;\r\n                                    logcalIndex += arr.cs;\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }  \r\n                                } else if (c === cLen - 1) {\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (logcalIndex <= index && rs > 0) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cs + 1,\r\n                                rs: rs,\r\n                                row: -1\r\n                            });\r\n                        }\r\n\r\n                        if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\r\n                            cell.colSpan += 1;\r\n                            break;\r\n                        }\r\n\r\n                        if (logcalIndex > index) break;\r\n                        \r\n                        colSpan += cs;\r\n                    }\r\n\r\n                    spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                    rowSpanArr = [];\r\n                }\r\n\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            }\r\n        } else { // horizontal\r\n            const currentRowSpan = currentCell.rowSpan;\r\n            newCell.colSpan = currentCell.colSpan;\r\n\r\n            // rowspan > 1\r\n            if (currentRowSpan > 1) {\r\n                newCell.rowSpan = this._w.Math.floor(currentRowSpan/2);\r\n                const newRowSpan = currentRowSpan - newCell.rowSpan;\r\n\r\n                const rowSpanArr = [];\r\n                const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\r\n\r\n                for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\r\n                        logcalIndex = c + colSpan;\r\n                        if (logcalIndex >= index) break;\r\n\r\n                        cell = cells[c];\r\n                        cs = cell.rowSpan - 1;\r\n                        if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cell.colSpan\r\n                            });\r\n                        }\r\n                        colSpan += cell.colSpan - 1;\r\n                    }\r\n                }\r\n\r\n                const nextRow = rows[nextRowIndex];\r\n                const nextCells = nextRow.cells;\r\n                let rs = rowSpanArr.shift();\r\n\r\n                for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\r\n                    logcalIndex = c + colSpan;\r\n                    cell = nextCells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    insertIndex = logcalIndex + cs + 1;\r\n\r\n                    if (rs && insertIndex >= rs.index) {\r\n                        colSpan += rs.cs;\r\n                        insertIndex += rs.cs;\r\n                        rs = rowSpanArr.shift();\r\n                    }\r\n                    \r\n                    if (insertIndex >= index || c === cLen - 1) {\r\n                        nextRow.insertBefore(newCell, cell.nextElementSibling);\r\n                        break;\r\n                    }\r\n\r\n                    colSpan += cs;\r\n                }\r\n\r\n                currentCell.rowSpan = newRowSpan;\r\n            } else { // rowspan - 1\r\n                newCell.rowSpan = currentCell.rowSpan;\r\n                const newRow = util.createElement('TR');\r\n                newRow.appendChild(newCell);\r\n\r\n                for (let i = 0, cells; i < rowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    if (cells.length === 0) return;\r\n\r\n                    for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                        if (i + cells[c].rowSpan - 1 >= rowIndex) {\r\n                            cells[c].rowSpan += 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const physicalIndex = contextTable._physical_cellIndex;\r\n                const cells = currentRow.cells;\r\n\r\n                for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                    if (c === physicalIndex) continue;       \r\n                    cells[c].rowSpan += 1;                    \r\n                }\r\n\r\n                currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\r\n            }\r\n        }\r\n\r\n        this.focusEdge(currentCell);\r\n        this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\r\n    },\r\n\r\n    mergeCells: function () {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n\r\n        const ref = tablePlugin._ref;\r\n        const selectedCells = tablePlugin._selectedCells;\r\n        const mergeCell = selectedCells[0];\r\n        \r\n        let emptyRowFirst = null;\r\n        let emptyRowLast = null;\r\n        let cs = (ref.ce - ref.cs) + 1;\r\n        let rs = (ref.re - ref.rs) + 1;\r\n        let mergeHTML = '';\r\n        let row = null;\r\n\r\n        for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\r\n            cell = selectedCells[i];\r\n            if (row !== cell.parentNode) row = cell.parentNode;\r\n\r\n            ch = cell.children;\r\n            for (let c = 0, cLen = ch.length; c < cLen; c++) {\r\n                if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\r\n                    util.removeItem(ch[c]);\r\n                }  \r\n            }\r\n\r\n            mergeHTML += cell.innerHTML;\r\n            util.removeItem(cell);\r\n\r\n            if (row.cells.length === 0) {\r\n                if (!emptyRowFirst) emptyRowFirst = row;\r\n                else emptyRowLast = row;\r\n                rs -= 1;\r\n            }\r\n        }\r\n\r\n        if (emptyRowFirst) {\r\n            const rows = contextTable._trElements;\r\n            const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\r\n            const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\r\n            const removeRows = [];\r\n    \r\n            for (let i = 0, cells; i <= rowIndexLast; i++) {\r\n                cells = rows[i].cells;\r\n                if (cells.length === 0) {\r\n                    removeRows.push(rows[i]);\r\n                    continue;\r\n                }\r\n    \r\n                for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    rs = cell.rowSpan - 1;\r\n                    if (rs > 0 && i + rs >= rowIndexFirst) {\r\n                        cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = removeRows.length; i < len; i++) {\r\n                util.removeItem(removeRows[i]);\r\n            }\r\n        }\r\n\r\n        mergeCell.innerHTML += mergeHTML;\r\n        mergeCell.colSpan = cs;\r\n        mergeCell.rowSpan = rs;\r\n\r\n        this.controllersOff();\r\n        tablePlugin.setActiveButton.call(this, true, false);\r\n        tablePlugin.call_controller_tableEdit.call(this, mergeCell);\r\n\r\n        util.addClass(mergeCell, 'se-table-selected-cell');\r\n        this.focusEdge(mergeCell);\r\n    },\r\n\r\n    toggleHeader: function () {\r\n        const util = this.util;\r\n        const headerButton = this.context.table.headerButton;\r\n        const active = util.hasClass(headerButton, 'active');\r\n        const table = this.context.table._element;\r\n\r\n        if (!active) {\r\n            const header = util.createElement('THEAD');\r\n            header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\r\n            table.insertBefore(header, table.firstElementChild);\r\n        } else {\r\n            util.removeItem(table.querySelector('thead'));\r\n        }\r\n\r\n        util.toggleClass(headerButton, 'active');\r\n\r\n        if (/TH/i.test(this.context.table._tdElement.nodeName)) {\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\r\n        }\r\n    },\r\n\r\n    setTableStyle: function (styles) {\r\n        const contextTable = this.context.table;\r\n        const tableElement = contextTable._element;\r\n        let icon, span, sizeIcon, text;\r\n\r\n        if (styles.indexOf('width') > -1) {\r\n            icon =  contextTable.resizeButton.querySelector('svg');\r\n            span = contextTable.resizeText;\r\n\r\n            if (!contextTable._maxWidth) {\r\n                sizeIcon = contextTable.icons.expansion;\r\n                text = contextTable.maxText;\r\n                contextTable.columnFixedButton.style.display = 'none';\r\n                this.util.removeClass(tableElement, 'se-table-size-100');\r\n                this.util.addClass(tableElement, 'se-table-size-auto');\r\n            } else {\r\n                sizeIcon = contextTable.icons.reduction;\r\n                text = contextTable.minText;\r\n                contextTable.columnFixedButton.style.display = 'block';\r\n                this.util.removeClass(tableElement, 'se-table-size-auto');\r\n                this.util.addClass(tableElement, 'se-table-size-100');\r\n            }\r\n            \r\n            this.util.changeElement(icon, sizeIcon);\r\n            this.util.changeTxt(span, text);\r\n        }\r\n\r\n        if (styles.indexOf('column') > -1) {\r\n            if (!contextTable._fixedColumn) {\r\n                this.util.removeClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(tableElement, 'se-table-layout-auto');\r\n                this.util.removeClass(contextTable.columnFixedButton, 'active');\r\n            } else {\r\n                this.util.removeClass(tableElement, 'se-table-layout-auto');\r\n                this.util.addClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(contextTable.columnFixedButton, 'active');\r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setActiveButton: function (fixedCell, selectedCell) {\r\n        const contextTable = this.context.table;\r\n\r\n        if (/^TH$/i.test(fixedCell.nodeName)) {\r\n            contextTable.insertRowAboveButton.setAttribute('disabled', true);\r\n            contextTable.insertRowBelowButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.insertRowAboveButton.removeAttribute('disabled');\r\n            contextTable.insertRowBelowButton.removeAttribute('disabled');\r\n        }\r\n\r\n        if (!selectedCell || fixedCell === selectedCell) {\r\n            contextTable.splitButton.removeAttribute('disabled');\r\n            contextTable.mergeButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.splitButton.setAttribute('disabled', true);\r\n            contextTable.mergeButton.removeAttribute('disabled');\r\n        }\r\n    },\r\n\r\n    // multi selecte\r\n    _bindOnSelect: null,\r\n    _bindOffSelect: null,\r\n    _bindOffShift: null,\r\n    _selectedCells: null,\r\n    _shift: false,\r\n    _fixedCell: null,\r\n    _fixedCellName: null,\r\n    _selectedCell: null,\r\n    _selectedTable: null,\r\n    _ref: null,\r\n    _toggleEditor: function (enabled) {\r\n        this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\r\n        if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');\r\n        else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\r\n    },\r\n\r\n    _offCellMultiSelect: function (e) {\r\n        e.stopPropagation();\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._removeEvents.call(this);\r\n            tablePlugin._toggleEditor.call(this, true);\r\n        } else if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\r\n        \r\n        tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\r\n        tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\r\n\r\n        tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._fixedCell = null;\r\n            tablePlugin._selectedCell = null;\r\n            tablePlugin._fixedCellName = null;\r\n        }\r\n    },\r\n\r\n    _onCellMultiSelect: function (e) {\r\n        this._antiBlur = true;\r\n        const tablePlugin = this.plugins.table;\r\n        const target = this.util.getParentElement(e.target, this.util.isCell);\r\n\r\n        if (tablePlugin._shift) {\r\n            if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        } else if (!tablePlugin._ref) {\r\n            if (target === tablePlugin._fixedCell) return;\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        }\r\n\r\n        if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || \r\n            tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\r\n            return;\r\n        }\r\n\r\n        tablePlugin._selectedCell = target;\r\n        tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\r\n    },\r\n\r\n    _setMultiCells: function (startCell, endCell) {\r\n        const tablePlugin = this.plugins.table;\r\n        const rows = tablePlugin._selectedTable.rows;\r\n        const util = this.util;\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        if (startCell === endCell) {\r\n            util.addClass(startCell, 'se-table-selected-cell');\r\n            if (!tablePlugin._shift) return;\r\n        }\r\n\r\n        let findSelectedCell = true;\r\n        let spanIndex = [];\r\n        let rowSpanArr = [];\r\n        const ref = tablePlugin._ref = {_i: 0, cs: null, ce: null, rs: null, re: null};\r\n\r\n        for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\r\n            cells = rows[i].cells;\r\n            colSpan = 0;\r\n\r\n            for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\r\n                cell = cells[c];\r\n                cs = cell.colSpan - 1;\r\n                rs = cell.rowSpan - 1;\r\n                logcalIndex = c + colSpan;\r\n\r\n                if (spanIndex.length > 0) {\r\n                    for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                        arr = spanIndex[r];\r\n                        if (arr.row > i) continue;\r\n                        if (logcalIndex >= arr.index) {\r\n                            colSpan += arr.cs;\r\n                            logcalIndex += arr.cs;\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        } else if (c === cLen - 1) {\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (findSelectedCell) {\r\n                    if (cell === startCell || cell === endCell) {\r\n                        ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                        ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                        ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\r\n                        ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\r\n                        ref._i += 1;\r\n                    }\r\n                    \r\n                    if (ref._i === 2) {\r\n                        findSelectedCell = false;\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        i = -1;\r\n                        break;\r\n                    }\r\n                } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\r\n                    const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                    const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                    const newRs = ref.rs < i ? ref.rs : i;\r\n                    const newRe = ref.re > i + rs ? ref.re : i + rs;\r\n\r\n                    if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\r\n                        ref.cs = newCs;\r\n                        ref.ce = newCe;\r\n                        ref.rs = newRs;\r\n                        ref.re = newRe;\r\n                        i = -1;\r\n\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        break;\r\n                    }\r\n\r\n                    util.addClass(cell, 'se-table-selected-cell');\r\n                }\r\n\r\n                if (rs > 0) {\r\n                    rowSpanArr.push({\r\n                        index: logcalIndex,\r\n                        cs: cs + 1,\r\n                        rs: rs,\r\n                        row: -1\r\n                    });\r\n                }\r\n\r\n                colSpan += cell.colSpan - 1;\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n        }\r\n    },\r\n\r\n    _removeEvents: function () {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOnSelect) {\r\n            this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\r\n            this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\r\n            tablePlugin._bindOnSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffSelect) {\r\n            this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\r\n            tablePlugin._bindOffSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffShift) {\r\n            this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\r\n            tablePlugin._bindOffShift = null;\r\n        }\r\n    },\r\n\r\n    _initBind: null,\r\n    onTableCellMultiSelect: function (tdElement, shift) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n        this.controllersOff();\r\n\r\n        tablePlugin._shift = shift;\r\n        tablePlugin._fixedCell = tdElement;\r\n        tablePlugin._fixedCellName = tdElement.nodeName;\r\n        tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        this.util.addClass(tdElement, 'se-table-selected-cell');\r\n        \r\n        tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\r\n        tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\r\n\r\n        if (!shift) {\r\n            this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\r\n        } else {\r\n            tablePlugin._bindOffShift = function () {\r\n                this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), this.focus.bind(this), tdElement, 'table');\r\n                if (!tablePlugin._ref) this.controllersOff();\r\n            }.bind(this);\r\n\r\n            this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\r\n            this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\r\n        }\r\n\r\n        this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\r\n\r\n        tablePlugin._initBind = tablePlugin.init.bind(this);\r\n        this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\r\n    },\r\n\r\n    onClick_tableController: function (e) {\r\n        e.stopPropagation();\r\n        const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\r\n\r\n        if (target.getAttribute('disabled')) return;\r\n\r\n        const command = target.getAttribute('data-command');\r\n        const value = target.getAttribute('data-value');\r\n        const option = target.getAttribute('data-option');\r\n        const tablePlugin = this.plugins.table;\r\n        \r\n        if (typeof tablePlugin._closeSplitMenu === 'function') {\r\n            tablePlugin._closeSplitMenu();\r\n            if (command === 'onsplit') return;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n        const contextTable = this.context.table;\r\n\r\n        switch (command) {\r\n            case 'insert':\r\n            case 'delete':\r\n                tablePlugin.editTable.call(this, value, option);\r\n                break;\r\n            case 'header':\r\n                tablePlugin.toggleHeader.call(this);\r\n                break;\r\n            case 'onsplit':\r\n                tablePlugin.openSplitMenu.call(this);\r\n                break;\r\n            case 'split':\r\n                tablePlugin.splitCells.call(this, value);\r\n                break;\r\n            case 'merge':\r\n                tablePlugin.mergeCells.call(this);\r\n                break;\r\n            case 'resize':\r\n                contextTable._maxWidth = !contextTable._maxWidth;\r\n                tablePlugin.setTableStyle.call(this, 'width');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'layout':\r\n                contextTable._fixedColumn = !contextTable._fixedColumn;\r\n                tablePlugin.setTableStyle.call(this, 'column');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'remove':\r\n                const emptyDiv = contextTable._element.parentNode;\r\n                this.util.removeItem(contextTable._element);\r\n                this.controllersOff();\r\n\r\n                if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n        }\r\n\r\n        this.focus();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.template = {};\n\n        /** set submenu */\n        let templateDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, templateDiv);\n\n        /** empty memory */\n        templateDiv = null;\n    },\n\n    setSubmenu: function () {\n        const templateList = this.context.option.templates;\n        if (!templateList || templateList.length === 0) {\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n        }\n\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-list-layer';\n\n        let list = '<div class=\"se-submenu se-list-inner\">' +\n                '<ul class=\"se-list-basic\">';\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\n            t = templateList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const temp = this.context.option.templates[e.target.getAttribute('data-value')];\n\n        if (temp.html) {\n            this.setContents(temp.html);\n        } else {\n            this.submenuOff();\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n        }\n        \n        this.submenuOff();\n    }\n});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.textStyle = {\n            _styleList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const defaultList = {\n            translucent: {\n                name: this.lang.menu.translucent,\n                style: 'opacity: 0.5;',\n                tag: 'span',\n            },\n            shadow: {\n                name: this.lang.menu.shadow,\n                class: '__se__t-shadow',\n                tag: 'span',\n            }\n        };\n        const styleList = !option.textStyles ? ['translucent', 'shadow'] : option.textStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic se-list-format\">';\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n            t = styleList[i];\n            attrs = '', value = '', command = [];\n\n            if (typeof t === 'string') {\n                const defaultStyle = defaultList[t.toLowerCase()];\n                if (!defaultStyle) continue;\n                t = defaultStyle;\n            }\n\n            name = t.name;\n            tag = t.tag || 'span';\n            _class = t._class;\n\n            if (t.style) {\n                attrs += ' style=\"' + t.style + '\"';\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n                command.push('style');\n            }\n            if (t.class) {\n                attrs += ' class=\"' + t.class + '\"';\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n                command.push('class');\n            }\n\n            value = value.replace(/,$/, '');\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' +\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @overriding submenu\n     */\n    on: function () {\n        const util = this.util;\n        const textStyleContext = this.context.textStyle;\n        const styleButtonList = textStyleContext._styleList;\n        const selectionNode = this.getSelectionNode();\n\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n            btn = styleButtonList[i];\n            data = btn.getAttribute('data-value').split(',');\n            \n            for (let v = 0, node, value; v < data.length; v++) {\n                node = selectionNode;\n                active = false;\n                \n                while (!util.isFormatElement(node)) {\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n                        value = data[v];\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                            active = true;\n                            break;\n                        }\n                    }\n                    node = node.parentNode;\n                }\n\n                if (!active) break;\n            }\n\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n        }\n\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, tag = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n        checkStyles.pop();\n\n        const classes = tag.classList;\n        for (let i = 0, len = classes.length; i < len; i++) {\n            checkStyles.push('.' + classes[i]);\n        }\n\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n        const removeNodes = newNode ? null : [tag.nodeName];\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default.a]);\n        \n        const context = core.context;\n        const contextImage = context.image = {\n            _imagesInfo: [],\n            _imageIndex: 0,\n            sizeUnit: context.option._imageSizeUnit,\n            _altText: '',\n            _linkElement: null,\n            _linkValue: '',\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _uploadFileLength: 0,\n            _xmlHttp: null,\n            // @overriding resizing properties\n            inputX: null,\n            inputY: null,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n            _proportionChecked: true,\n            _resizing: context.option.imageResizing,\n            _resizeDotHide: !context.option.imageHeightShow,\n            _rotation: context.option.imageRotation,\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: true,\n            _captionChecked: false,\n            _caption: null,\n            captionCheckEl: null\n        };\n\n        /** image dialog */\n        let image_dialog = this.setDialog.call(core);\n        contextImage.modal = image_dialog;\n        contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n        contextImage.imgUrlFile = image_dialog.querySelector('.se-input-url');\n        contextImage.focusElement = (contextImage.imgInputFile || contextImage.imgUrlFile);\n        contextImage.altText = image_dialog.querySelector('._se_image_alt');\n        contextImage.imgLink = image_dialog.querySelector('._se_image_link');\n        contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\n        contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n\n        /** add event listeners */\n        image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n        image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        image_dialog.querySelector('.se-dialog-files-remove').addEventListener('click', this._removeSelectedFiles.bind(core, contextImage.imgInputFile, contextImage.imgUrlFile));\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n        \n        contextImage.proportion = {};\n        contextImage.inputX = {};\n        contextImage.inputY = {};\n        if (context.option.imageResizing) {\n            contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n            contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n            contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n            contextImage.inputX.value = context.option.imageWidth;\n            contextImage.inputY.value = context.option.imageHeight;\n            \n            contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n            \n            image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(image_dialog);\n\n        /** empty memory */\n        image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n\n        let html = '' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    this.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-tabs\">' +\n                '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\n                '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\n            '</div>' +\n            '<form class=\"editor_image\" method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"_se_tab_content _se_tab_content_image\">' +\n                    '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n            if (option.imageFileInput) {\n                html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.imageBox.file + '</label>' +\n                            '<div class=\"se-dialog-form-files\">' +\n                                '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" />' +\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\n                            '</div>' +\n                        '</div>' ;\n            }\n\n            if (option.imageUrlInput) {\n                html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.imageBox.url + '</label>' +\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\n                        '</div>';\n            }\n\n            html += '</div>' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' +\n                        '</div>';\n\n            if (option.imageResizing) {\n                const onlyPercentage = option.imageSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n                html += '<div class=\"se-dialog-form\">';\n                        if (onlyPercentage || !option.imageHeightShow) {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' +\n                            '</div>';\n                        } else {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                                '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                                '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' +\n                            '</div>';\n                        }\n                        html += '' +\n                            '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' +\n                            '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                            '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                            '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                            '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\n                        '</div>' ;\n            }\n\n            html += '' +\n                        '<div class=\"se-dialog-form se-dialog-form-footer\">' +\n                            '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' +\n                    '<div class=\"se-dialog-body\">' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form _se_image_link\" type=\"text\" />' +\n                        '</div>' +\n                        '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    _fileInputChange: function () {\n        if (!this.imgInputFile.value) this.imgUrlFile.removeAttribute('disabled');\n        else this.imgUrlFile.setAttribute('disabled', true);\n    },\n\n    _removeSelectedFiles: function (fileInput, urlInput) {\n        fileInput.value = '';\n        if (urlInput) urlInput.removeAttribute('disabled');\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n\n    openTab: function (e) {\n        const modal = this.context.image.modal;\n        const targetElement = (e === 'init' ? modal.querySelector('._se_tab_link') : e.target);\n\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\n            return false;\n        }\n\n        // Declare all variables\n        const tabName = targetElement.getAttribute('data-tab-link');\n        const contentClassName = '_se_tab_content';\n        let i, tabContent, tabLinks;\n\n        // Get all elements with class=\"tabcontent\" and hide them\n        tabContent = modal.getElementsByClassName(contentClassName);\n        for (i = 0; i < tabContent.length; i++) {\n            tabContent[i].style.display = 'none';\n        }\n\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\n        tabLinks = modal.getElementsByClassName('_se_tab_link');\n        for (i = 0; i < tabLinks.length; i++) {\n            this.util.removeClass(tabLinks[i], 'active');\n        }\n\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\n        modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n        this.util.addClass(targetElement, 'active');\n\n        // focus\n        if (tabName === 'image' && this.context.image.focusElement) {\n            this.context.image.focusElement.focus();\n        } else if (tabName === 'url' && this.context.image.imgLink) {\n            this.context.image.imgLink.focus();\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length > 0) {\n            let fileSize = 0;\n            const files = [];\n            for (let i = 0, len = fileList.length; i < len; i++) {\n                if (/image/i.test(fileList[i].type)) {\n                    files.push(fileList[i]);\n                    fileSize += fileList[i].size;\n                }\n            }\n\n            const limitSize = this.context.option.imageUploadSizeLimit;\n            if (limitSize > 0) {\n                let infoSize = 0;\n                const imagesInfo = this.context.image._imagesInfo;\n                for (let i = 0, len = imagesInfo.length; i < len; i++) {\n                    infoSize += imagesInfo[i].size * 1;\n                }\n\n                if ((fileSize + infoSize) > limitSize) {\n                    const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + (limitSize/1000) + 'KB';\n                    if (this._imageUploadError(err, {\n                        'limitSize': limitSize,\n                        'currentSize': infoSize,\n                        'uploadSize': fileSize\n                    })) {\n                        this.functions.noticeOpen(err);\n                    }\n\n                    this.closeLoading();\n                    return;\n                }\n            }\n\n            const contextImage = this.context.image;\n            contextImage._uploadFileLength = files.length;\n            const imageUploadUrl = this.context.option.imageUploadUrl;\n            const imageUploadHeader = this.context.option.imageUploadHeader;\n            const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n            const info = {\n                linkValue: contextImage._linkValue,\n                linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\n                inputWidth: contextImage.inputX.value,\n                inputHeight: contextImage.inputY.value,\n                align: contextImage._align,\n                isUpdate: this.context.dialog.updateModal,\n                currentImage: contextImage._element\n            };\n\n            if (!this._imageUploadBefore(files, info)) return;\n\n            if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n                const formData = new FormData();\n\n                for (let i = 0; i < filesLen; i++) {\n                    formData.append('file-' + i, files[i]);\n                }\n\n                contextImage._xmlHttp = this.util.getXMLHttpRequest();\n                contextImage._xmlHttp.onreadystatechange = this.plugins.image.callBack_imgUpload.bind(this, info);\n                contextImage._xmlHttp.open('post', imageUploadUrl, true);\n                if(imageUploadHeader !== null && typeof imageUploadHeader === 'object' && this._w.Object.keys(imageUploadHeader).length > 0){\n                    for(let key in imageUploadHeader){\n                        contextImage._xmlHttp.setRequestHeader(key, imageUploadHeader[key]);\n                    }\n                }\n                contextImage._xmlHttp.send(formData);\n            }\n            else {\n                for (let i = 0; i < filesLen; i++) {\n                    this.plugins.image.setup_reader.call(this, files[i], info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, i, filesLen - 1);\n                }\n            }\n        }\n    },\n\n    onRender_imgInput: function () {\n        try {\n            this.plugins.image.submitAction.call(this, this.context.image.imgInputFile.files);\n        } catch (e) {\n            throw Error('[SUNEDITOR.imageUpload.fail] cause : \"' + e.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    setup_reader: function (file, imgLinkValue, newWindowCheck, width, height, align, index, filesLen) {\n        const reader = new FileReader();\n        \n        if (this.context.dialog.updateModal) {\n            this.context.image._element.setAttribute('data-file-name', file.name);\n            this.context.image._element.setAttribute('data-file-size', file.size);\n        }\n\n        reader.onload = function (update, updateElement, file) {\n            try {\n                this.context.image.inputX.value = width;\n                this.context.image.inputY.value = height;\n                if (update) this.plugins.image.update_src.call(this, reader.result, updateElement, file);\n                else this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, width, height, align, file);\n\n                if (index === filesLen) this.closeLoading();\n            } catch (e) {\n                this.closeLoading();\n                throw Error('[SUNEDITOR.imageFileRendering.fail] cause : \"' + e.message + '\"');\n            }\n        }.bind(this, this.context.dialog.updateModal, this.context.image._element, file);\n\n        reader.readAsDataURL(file);\n    },\n\n    callBack_imgUpload: function (info) {\n        if (this.context.image._xmlHttp.readyState === 4) {\n            if (this.context.image._xmlHttp.status === 200) {\n                \n                if (!this._imageUploadHandler(this.context.image._xmlHttp, info)) {\n                    const response = JSON.parse(this.context.image._xmlHttp.responseText);\n\n                    if (response.errorMessage) {\n                        if (this._imageUploadError(response.errorMessage, response.result)) {\n                            this.functions.noticeOpen(response.errorMessage);\n                        }\n                    } else {\n                        const fileList = response.result;\n                        for (let i = 0, len = fileList.length, file; i < len; i++) {\n                            file = {name: fileList[i].name, size: fileList[i].size};\n                            if (info.isUpdate) this.plugins.image.update_src.call(this, fileList[i].url, info.currentImage, file);\n                            else this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\n                        }\n                    }\n                }\n\n                this.closeLoading();\n            }\n            // error\n            else {\n                this.closeLoading();\n                throw Error('[SUNEDITOR.imageUpload.fail] status: ' + this.context.image._xmlHttp.status + ', responseText: ' + this.context.image._xmlHttp.responseText);\n            }\n        }\n    },\n\n    onRender_imgUrl: function () {\n        const contextImage = this.context.image;\n        if (contextImage.imgUrlFile.value.trim().length === 0) return false;\n\n        try {\n            const file = {name: contextImage.imgUrlFile.value.split('/').pop(), size: 0};\n            if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage.imgUrlFile.value, contextImage._element, file);\n            else this.plugins.image.create_image.call(this, contextImage.imgUrlFile.value, contextImage._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n        } catch (e) {\n            throw Error('[SUNEDITOR.imageURLRendering.fail] cause : \"' + e.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n        if (imgLinkValue.trim().length > 0) {\n            const link = this.util.createElement('A');\n            link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n            link.target = (newWindowCheck ? '_blank' : '');\n            link.setAttribute('data-image-link', 'image');\n            imgTag.setAttribute('data-image-link', imgLinkValue);\n\n            link.appendChild(imgTag);\n            return link;\n        }\n\n        return imgTag;\n    },\n\n    /**\n     * @overriding resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    submit: function (e) {\n        const contextImage = this.context.image;\n        const imagePlugin = this.plugins.image;\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        contextImage._linkValue = contextImage.imgLink.value;\n        contextImage._altText = contextImage.altText.value;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked;\n        if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n        try {\n            if (this.context.dialog.updateModal) {\n                imagePlugin.update_image.call(this, false, false, false);\n            }\n            \n            if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n                imagePlugin.onRender_imgInput.call(this);\n            } else if (contextImage.imgUrlFile && contextImage.imgUrlFile.value.trim().length > 0) {\n                imagePlugin.onRender_imgUrl.call(this);\n            } else {\n                this.closeLoading();\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    setImagesInfo: function (img, file) {\n        const _resize_plugin = this.context.resizing._resize_plugin;\n        this.context.resizing._resize_plugin = 'image';\n\n        const imagesInfo = this.context.image._imagesInfo;\n        let dataIndex = img.getAttribute('data-index');\n        let info = null;\n        let state = '';\n\n        // create\n        if (!dataIndex || this._componentsInfoInit) {\n            state = 'create';\n            dataIndex = this.context.image._imageIndex++;\n\n            img.setAttribute('data-index', dataIndex);\n            img.setAttribute('data-file-name', file.name);\n            img.setAttribute('data-file-size', file.size);\n\n            info = {\n                src: img.src,\n                index: dataIndex * 1,\n                name: file.name,\n                size: file.size\n            };\n\n            imagesInfo.push(info);\n        } else { // update\n            state = 'update';\n            dataIndex *= 1;\n\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\n                if (dataIndex === imagesInfo[i].index) {\n                    info = imagesInfo[i];\n                    break;\n                }\n            }\n\n            if (!info) {\n                dataIndex = this.context.image._imageIndex++;\n                info = { index: dataIndex };\n                imagesInfo.push(info);\n            }\n\n            info.src = img.src;\n            info.name = img.getAttribute(\"data-file-name\");\n            info.size = img.getAttribute(\"data-file-size\") * 1;\n        }\n\n        // method bind\n        info.element = img;\n        info.delete = this.plugins.image.destroy.bind(this, img);\n        info.select = function () {\n            img.scrollIntoView(true);\n            this._w.setTimeout(function () {\n                this.plugins.image.onModifyMode.call(this, img, this.plugins.resizing.call_controller_resize.call(this, img, 'image'));\n            }.bind(this));\n        }.bind(this);\n\n        if (!img.getAttribute('origin-size')) {\n            img.setAttribute('origin-size', img.naturalWidth + ',' + img.naturalHeight);\n        }\n        if (!img.getAttribute('data-origin')) {\n            const container = this.util.getParentElement(img, this.util.isMediaComponent);\n            const cover = this.util.getParentElement(img, 'FIGURE');\n\n            const w = this.plugins.resizing._module_getSizeX.call(this, this.context.image, img, cover, container);\n            const h = this.plugins.resizing._module_getSizeY.call(this, this.context.image, img, cover, container);\n            img.setAttribute('data-origin', w + ',' + h);\n            img.setAttribute('data-size', w + ',' + h);\n        }\n\n        if (!img.style.width) {\n            const size = (img.getAttribute('data-size') || img.getAttribute('data-origin') || '').split(',');\n            this.plugins.image.onModifyMode.call(this, img, null);\n            this.plugins.image.applySize.call(this, (size[0] || this.context.option.imageWidth), (size[1] || this.context.option.imageHeight));\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n        this._imageUpload(img, dataIndex, state, info, --this.context.image._uploadFileLength < 0 ? 0 : this.context.image._uploadFileLength);\n    },\n\n    /**\n     * @overriding core\n     */\n    checkComponentInfo: function () {\n        const images = [].slice.call(this.context.element.wysiwyg.getElementsByTagName('IMG'));\n        const imagePlugin = this.plugins.image;\n        const imagesInfo = this.context.image._imagesInfo;\n\n        if (images.length === imagesInfo.length) {\n            // reset\n            if (this._componentsInfoReset) {\n                for (let i = 0, len = images.length, img; i < len; i++) {\n                    img = images[i];\n                    imagePlugin.setImagesInfo.call(this, img, {\n                        'name': img.getAttribute('data-file-name') || img.src.split('/').pop(),\n                        'size': img.getAttribute('data-file-size') || 0\n                    });\n                }\n                return;\n            } else {\n                let infoUpdate = false;\n                for (let i = 0, len = imagesInfo.length, info; i < len; i++) {\n                    info = imagesInfo[i];\n                    if (images.filter(function (img) { return info.src === img.src && info.index.toString() === img.getAttribute('data-index'); }).length === 0) {\n                        infoUpdate = true;\n                        break;\n                    }\n                }\n                // pass\n                if (!infoUpdate) return;\n            }\n        }\n\n        // check images\n        const _resize_plugin = this.context.resizing._resize_plugin;\n        this.context.resizing._resize_plugin = 'image';\n        const currentImages = [];\n        const infoIndex = [];\n        for (let i = 0, len = imagesInfo.length; i < len; i++) {\n            infoIndex[i] = imagesInfo[i].index;\n        }\n        \n        for (let i = 0, len = images.length, img; i < len; i++) {\n            img = images[i];\n            if (!this.util.getParentElement(img, this.util.isMediaComponent)) {\n                currentImages.push(this.context.image._imageIndex);\n                imagePlugin.onModifyMode.call(this, img, null);\n                imagePlugin.openModify.call(this, true);\n                imagePlugin.update_image.call(this, true, false, true);\n            } else if (!img.getAttribute('data-index') || infoIndex.indexOf(img.getAttribute('data-index') * 1) < 0) {\n                currentImages.push(this.context.image._imageIndex);\n                img.removeAttribute('data-index');\n                imagePlugin.setImagesInfo.call(this, img, {\n                    'name': img.getAttribute('data-file-name') || img.src.split('/').pop(),\n                    'size': img.getAttribute('data-file-size') || 0\n                });\n            } else {\n                currentImages.push(img.getAttribute('data-index') * 1);\n            }\n        }\n\n        for (let i = 0, dataIndex; i < imagesInfo.length; i++) {\n            dataIndex = imagesInfo[i].index;\n            if (currentImages.indexOf(dataIndex) > -1) continue;\n\n            imagesInfo.splice(i, 1);\n            this._imageUpload(null, dataIndex, 'delete', null, 0);\n            i--;\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n    },\n\n    /**\n     * @overriding core\n     */\n    resetComponentInfo: function () {\n        this.context.image._imagesInfo = [];\n        this.context.image._imageIndex = 0;\n    },\n\n    create_image: function (src, linkValue, linkNewWindow, width, height, align, file) {\n        const contextImage = this.context.image;\n        this.context.resizing._resize_plugin = 'image';\n\n        let oImg = this.util.createElement('IMG');\n        oImg.src = src;\n        oImg.alt = contextImage._altText;\n        oImg = this.plugins.image.onRender_link.call(this, oImg, linkValue, linkNewWindow);\n        oImg.setAttribute('data-rotate', '0');\n\n        if (contextImage._resizing) {\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n        }\n\n        const cover = this.plugins.resizing.set_cover.call(this, oImg);\n        const container = this.plugins.resizing.set_container.call(this, cover, 'se-image-container');\n\n        // caption\n        if (contextImage._captionChecked) {\n            contextImage._caption = this.plugins.resizing.create_caption.call(this);\n            contextImage._caption.setAttribute('contenteditable', false);\n            cover.appendChild(contextImage._caption);\n        }\n\n        contextImage._element = oImg;\n        contextImage._cover = cover;\n        contextImage._container = container;\n\n        // set size\n        this.plugins.image.applySize.call(this, width, height);\n\n        // align\n        this.plugins.image.setAlign.call(this, align, oImg, cover, container);\n\n        this.insertComponent(container, true);\n        this.plugins.image.setImagesInfo.call(this, oImg, file || {\n            'name': oImg.getAttribute('data-file-name') || oImg.src.split('/').pop(),\n            'size': oImg.getAttribute('data-file-size') || 0\n        });\n\n        this.context.resizing._resize_plugin = '';\n    },\n\n    update_image: function (init, openController, notHistoryPush) {\n        const contextImage = this.context.image;\n        const linkValue = contextImage._linkValue;\n        let imageEl = contextImage._element;\n        let cover = contextImage._cover;\n        let container = contextImage._container;\n        let isNewContainer = false;\n\n        if (cover === null) {\n            isNewContainer = true;\n            imageEl = contextImage._element.cloneNode(true);\n            cover = this.plugins.resizing.set_cover.call(this, imageEl);\n        }\n\n        if (container === null) {\n            cover = cover.cloneNode(true);\n            imageEl = cover.querySelector('img');\n            isNewContainer = true;\n            container = this.plugins.resizing.set_container.call(this, cover, 'se-image-container');\n        } else if (isNewContainer) {\n            container.innerHTML = '';\n            container.appendChild(cover);\n        }\n\n        // check size\n        let changeSize;\n        const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n        const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n        if (/%$/.test(imageEl.style.width)) {\n            changeSize = x !== container.style.width || y !== container.style.height;\n        } else {\n            changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n        }\n\n        // alt\n        imageEl.alt = contextImage._altText;\n        \n        // caption\n        if (contextImage._captionChecked) {\n            if (!contextImage._caption) {\n                contextImage._caption = this.plugins.resizing.create_caption.call(this);\n                cover.appendChild(contextImage._caption);\n            }\n        } else {\n            if (contextImage._caption) {\n                this.util.removeItem(contextImage._caption);\n                contextImage._caption = null;\n            }\n        }\n\n        // link\n        if (linkValue.trim().length > 0) {\n            if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\n                contextImage._linkElement.href = linkValue;\n                contextImage._linkElement.target = (contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '');\n                imageEl.setAttribute('data-image-link', linkValue);\n            } else {\n                let newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n                cover.insertBefore(newEl, contextImage._caption);\n            }\n        }\n        else if (contextImage._linkElement !== null) {\n            const imageElement = imageEl;\n\n            imageElement.setAttribute('data-image-link', '');\n            let newEl = imageElement.cloneNode(true);\n            cover.removeChild(contextImage._linkElement);\n            cover.insertBefore(newEl, contextImage._caption);\n            imageEl = newEl;\n        }\n\n        if (isNewContainer) {\n            const existElement = (this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode)) ? \n                contextImage._element : \n                /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n                \n            existElement.parentNode.replaceChild(container, existElement);\n            imageEl = container.querySelector('img');\n\n            contextImage._element = imageEl;\n            contextImage._cover = cover;\n            contextImage._container = container;\n        }\n\n        // transform\n        if (!contextImage._onlyPercentage && changeSize) {\n            if (!init && (/\\d+/.test(imageEl.style.height) || (this.context.resizing._rotateVertical && contextImage._captionChecked))) {\n                if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n                    this.plugins.resizing.resetTransform.call(this, imageEl);\n                } else {\n                    this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n                }\n            }\n        }\n\n        // size\n        let isPercent = false;\n        if (contextImage._resizing) {\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n            if (changeSize) {\n                this.plugins.image.applySize.call(this);\n            }\n        }\n\n        // align\n        if (!(isPercent && contextImage._align === 'center')) {\n            this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n        }\n\n        // set imagesInfo\n        if (init) {\n            this.plugins.image.setImagesInfo.call(this, imageEl, {\n                'name': imageEl.getAttribute('data-file-name') || imageEl.src.split('/').pop(),\n                'size': imageEl.getAttribute('data-file-size') || 0\n            });\n        }\n\n        if (openController) {\n            this.plugins.image.init.call(this);\n            const size = this.plugins.resizing.call_controller_resize.call(this, imageEl, 'image');\n            this.plugins.image.onModifyMode.call(this, imageEl, size);\n        }\n\n        // history stack\n        if (!notHistoryPush) this.history.push(false);\n    },\n\n    update_src: function (src, element, file) {\n        element.src = src;\n        this._w.setTimeout(this.plugins.image.setImagesInfo.bind(this, element, file));\n    },\n\n    /**\n     * @overriding resizing\n     */\n    onModifyMode: function (element, size) {\n        if (!element) return;\n        \n        const contextImage = this.context.image;\n        contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n        contextImage._element = element;\n        contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n        contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n        contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n        contextImage._align = element.getAttribute('data-align') || 'none';\n\n        if (size) {\n            contextImage._element_w = size.w;\n            contextImage._element_h = size.h;\n            contextImage._element_t = size.t;\n            contextImage._element_l = size.l;\n        }\n\n        let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n        if (userSize) {\n            userSize = userSize.split(',');\n            contextImage._origin_w = userSize[0];\n            contextImage._origin_h = userSize[1];\n        } else if (size) {\n            contextImage._origin_w = size.w;\n            contextImage._origin_h = size.h;\n        }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    openModify: function (notOpen) {\n        const contextImage = this.context.image;\n        contextImage.imgUrlFile.value = contextImage._element.src;\n        contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n        contextImage._linkValue = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n        contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n        \n        if (contextImage._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function (update) {\n        const contextImage = this.context.image;\n        \n        if (!update) {\n            contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n            contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n            if (contextImage.imgInputFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n        } else {\n            if (contextImage.imgInputFile) contextImage.imgInputFile.removeAttribute('multiple');\n        }\n    },\n\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    applySize: function (w, h) {\n        const contextImage = this.context.image;\n\n        if (!w) w = contextImage.inputX.value;\n        if (!h) h = contextImage.inputY.value;\n        \n        if ((contextImage._onlyPercentage && !!w) || /%$/.test(w)) {\n            this.plugins.image.setPercentSize.call(this, w, h);\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.image.setAutoSize.call(this);\n        } else {\n            this.plugins.image.setSize.call(this, w, h, false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextImage = this.context.image;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n        if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n        if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAutoSize: function () {\n        const contextImage = this.context.image;\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        contextImage._element.style.maxWidth = '';\n        contextImage._element.style.width = '';\n        contextImage._element.style.height = '';\n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n\n        this.plugins.image.setAlign.call(this, null, null, null, null);\n        contextImage._element.setAttribute('data-percentage', 'auto,auto');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n    \n    /**\n     * @overriding resizing\n     */\n    setOriginSize: function () {\n        const contextImage = this.context.image;\n        contextImage._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (originSize) {\n            if (contextImage._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.image.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.image.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n        }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextImage = this.context.image;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : (h || '');\n        const heightPercentage = /%$/.test(h);\n\n        contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextImage._container.style.height = '';\n        contextImage._cover.style.width = '100%';\n        contextImage._cover.style.height = !heightPercentage ? '' : h;\n        contextImage._element.style.width = '100%';\n        contextImage._element.style.height = heightPercentage ? '' : h;\n        contextImage._element.style.maxWidth = '';\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n        contextImage._element.setAttribute('data-percentage', w + ',' + h);\n        this.plugins.resizing.setCaptionPosition.call(this, contextImage._element);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    cancelPercentAttr: function () {\n        const contextImage = this.context.image;\n        \n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n        contextImage._container.style.width = '';\n        contextImage._container.style.height = '';\n\n        this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n        this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextImage = this.context.image;\n        \n        if (!align) align = contextImage._align;\n        if (!element) element = contextImage._element;\n        if (!cover) cover = contextImage._cover;\n        if (!container) container = contextImage._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : ((!element.style.width || element.style.width === 'auto') ? '' : element.style.width || '100%');\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextImage._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    resetAlign: function () {\n        const contextImage = this.context.image;\n\n        contextImage._element.setAttribute('data-align', '');\n        contextImage._align = 'none';\n        contextImage._cover.style.margin = '0';\n        this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    destroy: function (element) {\n        const imageEl = element || this.context.image._element;\n        const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n        const dataIndex = imageEl.getAttribute('data-index') * 1;\n        let focusEl = (imageContainer.previousElementSibling || imageContainer.nextElementSibling);\n        \n        const emptyDiv = imageContainer.parentNode;\n        this.util.removeItem(imageContainer);\n        this.plugins.image.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n        \n        // event\n        if (dataIndex >= 0) {\n            const imagesInfo = this.context.image._imagesInfo;\n\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\n                if (dataIndex === imagesInfo[i].index) {\n                    imagesInfo.splice(i, 1);\n                    this._imageUpload(null, dataIndex, 'delete', null, 0);\n                    return;\n                }\n            }\n        }\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function () {\n        const contextImage = this.context.image;\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.value = '';\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgUrlFile.removeAttribute('disabled');\n        contextImage.altText.value = '';\n        contextImage.imgLink.value = '';\n        contextImage.imgLinkNewWindowCheck.checked = false;\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n        contextImage.captionCheckEl.checked = false;\n        contextImage._element = null;\n        this.plugins.image.openTab.call(this, 'init');\n\n        if (contextImage._resizing) {\n            contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n            contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n            contextImage.proportion.checked = true;\n            contextImage._ratio = false;\n            contextImage._ratioX = 1;\n            contextImage._ratioY = 1;\n        }\n    }\n});\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.link = {\n            focusElement: null,\n            linkNewWindowCheck: null,\n            linkAnchorText: null,\n            _linkAnchor: null\n        };\n\n        /** link dialog */\n        let link_dialog = this.setDialog.call(core);\n        context.link.modal = link_dialog;\n        context.link.focusElement = link_dialog.querySelector('._se_link_url');\n        context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\n        context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\n\n        /** link controller */\n        let link_controller = this.setController_LinkButton.call(core);\n        context.link.linkController = link_controller;\n        context.link._linkAnchor = null;\n        link_controller.addEventListener('mousedown', function (e) { e.stopPropagation(); }, false);\n\n        /** add event listeners */\n        link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(link_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(link_controller);\n\n        /** empty memory */\n        link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        dialog.innerHTML = '' +\n            '<form class=\"editor_link\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        this.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<label>' + lang.dialogBox.linkBox.url + '</label>' +\n                        '<input class=\"se-input-form _se_link_url\" type=\"text\" />' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form-footer\">' +\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const link_btn = this.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.unlink +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.link.focusElement.value.trim().length === 0) return false;\n\n            const contextLink = this.context.link;\n            const url = contextLink.focusElement.value;\n            const anchor = contextLink.linkAnchorText;\n            const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n            if (!this.context.dialog.updateModal) {\n                const oA = this.util.createElement('A');\n                oA.href = url;\n                oA.textContent = anchorText;\n                oA.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\n\n                const selectedFormats = this.getSelectedElements();\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(oA);\n                    this.insertNode(oFormat);\n                } else {\n                    this.insertNode(oA);\n                }\n\n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n            } else {\n                contextLink._linkAnchor.href = url;\n                contextLink._linkAnchor.textContent = anchorText;\n                contextLink._linkAnchor.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\n\n                // set range\n                const textNode = contextLink._linkAnchor.childNodes[0];\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\n            }\n\n            // history stack\n            this.history.push(false);\n\n            contextLink.focusElement.value = '';\n            contextLink.linkAnchorText.value = '';\n        }.bind(this);\n\n        try {\n            submitAction();\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n            this.focus();\n        }\n\n        return false;\n    },\n\n    /**\n     * @overriding core\n     */\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n                this.controllersOff();\n            }\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n                this.plugins.link.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function (update) {\n        if (!update) {\n            this.plugins.link.init.call(this);\n            this.context.link.linkAnchorText.value = this.getSelection().toString();\n        } else if (this.context.link._linkAnchor) {\n            this.context.dialog.updateModal = true;\n            this.context.link.focusElement.value = this.context.link._linkAnchor.href;\n            this.context.link.linkAnchorText.value = this.context.link._linkAnchor.textContent;\n            this.context.link.linkNewWindowCheck.checked = (/_blank/i.test(this.context.link._linkAnchor.target) ? true : false);\n        }\n    },\n\n    call_controller: function (selectionATag) {\n        this.editLink = this.context.link._linkAnchor = selectionATag;\n        const linkBtn = this.context.link.linkController;\n        const link = linkBtn.querySelector('a');\n\n        link.href = selectionATag.href;\n        link.title = selectionATag.textContent;\n        link.textContent = selectionATag.textContent;\n\n        const offset = this.util.getOffset(selectionATag, this.context.element.wysiwygFrame);\n        linkBtn.style.top = (offset.top + selectionATag.offsetHeight + 10) + 'px';\n        linkBtn.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\n\n        linkBtn.style.display = 'block';\n\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (linkBtn.offsetLeft + linkBtn.offsetWidth);\n        if (overLeft < 0) {\n            linkBtn.style.left = (linkBtn.offsetLeft + overLeft) + 'px';\n            linkBtn.firstElementChild.style.left = (20 - overLeft) + 'px';\n        } else {\n            linkBtn.firstElementChild.style.left = '20px';\n        }\n        \n        this.controllersOn(linkBtn, selectionATag, 'link');\n    },\n\n    onClick_linkController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            const contextLink = this.context.link;\n            contextLink.focusElement.value = contextLink._linkAnchor.href;\n            contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n            contextLink.linkNewWindowCheck.checked = (/_blank/i.test(contextLink._linkAnchor.target) ? true : false);\n            this.plugins.dialog.open.call(this, 'link', true);\n        }\n        else if (/unlink/.test(command)) {\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\n            this.setRange(sc, 0, ec, ec.textContent.length);\n            this.nodeChange(null, null, ['A'], false);\n        }\n        else {\n            /** delete */\n            this.util.removeItem(this.context.link._linkAnchor);\n            this.context.link._linkAnchor = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function () {\n        const contextLink = this.context.link;\n        contextLink.linkController.style.display = 'none';\n        contextLink._linkAnchor = null;\n        contextLink.focusElement.value = '';\n        contextLink.linkAnchorText.value = '';\n        contextLink.linkNewWindowCheck.checked = false;\n    }\n});\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_1__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_1___default.a]);\n\n        const context = core.context;\n        const contextVideo = context.video = {\n            _videosInfo: [],\n            _videoIndex: 0,\n            sizeUnit: context.option._videoSizeUnit,\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _youtubeQuery: context.option.youtubeQuery,\n            _videoRatio: (context.option.videoRatio * 100) + '%',\n            _defaultRatio: (context.option.videoRatio * 100) + '%',\n            // @overriding resizing properties\n            inputX: null,\n            inputY: null,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: '100%',\n            _defaultSizeY: (context.option.videoRatio * 100) + '%',\n            _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\n            _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\n            _proportionChecked: true,\n            _resizing: context.option.videoResizing,\n            _resizeDotHide: !context.option.videoHeightShow,\n            _rotation: context.option.videoRotation,\n            _onlyPercentage: context.option.videoSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: false\n        };\n\n        /** video dialog */\n        let video_dialog = this.setDialog.call(core);\n        contextVideo.modal = video_dialog;\n        contextVideo.focusElement = video_dialog.querySelector('._se_video_url');\n\n        /** add event listeners */\n        video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n\n        contextVideo.proportion = {};\n        contextVideo.videoRatioOption = {};\n        contextVideo.inputX = {};\n        contextVideo.inputY = {};\n        if (context.option.videoResizing) {\n            contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n            contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n            contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n            contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n            contextVideo.inputX.value = context.option.videoWidth;\n            contextVideo.inputY.value = context.option.videoHeight;\n\n            contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n\n            video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(video_dialog);\n\n        /** empty memory */\n        video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form class=\"editor_video\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        this.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<label>' + lang.dialogBox.videoBox.url + '</label>' +\n                        '<input class=\"se-input-form _se_video_url\" type=\"text\" />' +\n                    '</div>';\n\n            if (option.videoResizing) {\n                const ratioList = option.videoRatioList || [{name: '16:9', value: 0.5625}, {name: '4:3', value: 0.75}, {name: '21:9', value: 0.4285}];\n                const ratio = option.videoRatio;\n                const onlyPercentage = option.videoSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n                const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                html += '' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<div class=\"se-dialog-size-text\">' +\n                            '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                            '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                            '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' +\n                            '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' +\n                        '</div>' +\n                        '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' +\n                        '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                        '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + (option.videoRatio * 100) + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                        '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n                            if (!heightDisplay) html += '<option value=\"\"> - </option>';\n                            for (let i = 0, len = ratioList.length; i < len; i++) {\n                                html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n                            }\n                        html += '</select>' +\n                        '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' +\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                    '</div>';\n            }\n\n            html += '' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    /**\n     * @overriding dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    \n    setVideoRatio: function (e) {\n        const contextVideo = this.context.video;\n        const value = e.target.options[e.target.selectedIndex].value;\n\n        contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : (value * 100) + '%';\n        contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n        contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @overriding resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        const contextVideo = this.context.video;\n        this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n        if (xy === 'y') {\n            this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n        }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n\n    submitAction: function () {\n        if (this.context.video.focusElement.value.trim().length === 0) return false;\n        this.context.resizing._resize_plugin = 'video';\n\n        const contextVideo = this.context.video;\n        let oIframe = null;\n        let cover = null;\n        let container = null;\n        let url = contextVideo.focusElement.value.trim();\n        contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n        /** iframe source */\n        if (/^<iframe.*\\/iframe>$/.test(url)) {\n            oIframe = (new this._w.DOMParser()).parseFromString(url, 'text/html').querySelector('iframe');\n        }\n        /** url */\n        else {\n            oIframe = this.util.createElement('IFRAME');\n            /** youtube */\n            if (/youtu\\.?be/.test(url)) {\n                if (!/^http/.test(url)) url = 'https://' + url;\n                url = url.replace('watch?v=', '');\n                if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n                    url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n                }\n\n                if (contextVideo._youtubeQuery.length > 0) {\n                    if (/\\?/.test(url)) {\n                        const splitUrl = url.split('?');\n                        url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n                    } else {\n                        url += '?' + contextVideo._youtubeQuery;\n                    }\n                }\n            }\n            oIframe.src = url;\n        }\n\n        let init = false;\n        /** update */\n        if (this.context.dialog.updateModal) {\n            if (contextVideo._element.src !== oIframe.src) {\n                contextVideo._element.src = oIframe.src;\n                init = true;\n            }\n            container = contextVideo._container;\n            cover = this.util.getParentElement(contextVideo._element, 'FIGURE');\n            oIframe = contextVideo._element;\n        }\n        /** create */\n        else {\n            init = true;\n            oIframe.frameBorder = '0';\n            oIframe.allowFullscreen = true;\n            contextVideo._element = oIframe;\n\n            /** cover */\n            cover = this.plugins.resizing.set_cover.call(this, oIframe);\n\n            /** container */\n            container = this.plugins.resizing.set_container.call(this, cover, 'se-video-container');\n        }\n\n        /** rendering */\n        contextVideo._cover = cover;\n        contextVideo._container = container;\n\n        const inputUpdate = (this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (contextVideo.inputX.value || contextVideo._defaultSizeX)) || (this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (contextVideo.inputY.value || contextVideo._videoRatio));\n        const changeSize = !this.context.dialog.updateModal || inputUpdate;\n\n        if (contextVideo._resizing) {\n            this.context.video._proportionChecked = contextVideo.proportion.checked;\n            oIframe.setAttribute('data-proportion', contextVideo._proportionChecked);\n        }\n\n        // size\n        let isPercent = false;\n        if (changeSize) {\n            isPercent = this.plugins.video.applySize.call(this);\n        }\n\n        // align\n        if (!(isPercent && contextVideo._align === 'center')) {\n            this.plugins.video.setAlign.call(this, null, oIframe, cover, container);\n        }\n\n        if (!this.context.dialog.updateModal) {\n            this.insertComponent(container, false);\n        } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n            this.plugins.resizing.setTransformSize.call(this, oIframe, null, null);\n        }\n\n        if (init) {\n            this.plugins.video.setVideosInfo.call(this, oIframe);\n        }\n\n        this.context.resizing._resize_plugin = '';\n\n        // history stack\n        if (this.context.dialog.updateModal) {\n            this.history.push(false);\n        }\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            this.plugins.video.submitAction.call(this);\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n        }\n\n        this.focus();\n\n        return false;\n    },\n\n    _update_videoCover: function (oIframe) {\n        if (!oIframe) return;\n\n        const contextVideo = this.context.video;\n        oIframe.frameBorder = '0';\n        oIframe.allowFullscreen = true;\n        \n        const existElement = this.util.getParentElement(oIframe, this.util.isMediaComponent) || \n            this.util.getParentElement(oIframe, function (current) {\n                return this.isWysiwygDiv(current.parentNode);\n            }.bind(this.util));\n\n        contextVideo._element = oIframe = oIframe.cloneNode(false);\n        const cover = contextVideo._cover = this.plugins.resizing.set_cover.call(this, oIframe);\n        const container = contextVideo._container = this.plugins.resizing.set_container.call(this, cover, 'se-video-container');\n\n        const figcaption = existElement.querySelector('figcaption');\n        let caption = null;\n        if (!!figcaption) {\n            caption = this.util.createElement('DIV');\n            caption.innerHTML = figcaption.innerHTML;\n            this.util.removeItem(figcaption);\n        }\n\n        const size = (oIframe.getAttribute('data-size') || oIframe.getAttribute('data-origin') || '').split(',');\n        this.plugins.video.applySize.call(this, (size[0] || this.context.option.videoWidth), (size[1] || this.context.option.videoHeight));\n\n        existElement.parentNode.replaceChild(container, existElement);\n        if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n        this.plugins.video.setVideosInfo.call(this, oIframe);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    onModifyMode: function (element, size) {\n        const contextVideo = this.context.video;\n        contextVideo._element = element;\n        contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n        contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n\n        contextVideo._align = element.getAttribute('data-align') || 'none';\n\n        if (size) {\n            contextVideo._element_w = size.w;\n            contextVideo._element_h = size.h;\n            contextVideo._element_t = size.t;\n            contextVideo._element_l = size.l;\n        }\n\n        let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n        if (origin) {\n            origin = origin.split(',');\n            contextVideo._origin_w = origin[0];\n            contextVideo._origin_h = origin[1];\n        } else if (size) {\n            contextVideo._origin_w = size.w;\n            contextVideo._origin_h = size.h;\n        }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    openModify: function (notOpen) {\n        const contextVideo = this.context.video;\n\n        contextVideo.focusElement.value = contextVideo._element.src;\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n        if (contextVideo._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n            \n            const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n            const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n            if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    on: function (update) {\n        const contextVideo = this.context.video;\n\n        if (!update) {\n            contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n            contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n            contextVideo.proportion.disabled = true;\n        }\n\n        if (contextVideo._resizing) {\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n        }\n    },\n    \n    setVideoRatioSelect: function (value) {\n        let ratioSelected = false;\n        const contextVideo = this.context.video;\n        const ratioOptions = contextVideo.videoRatioOption.options;\n\n        if (/%$/.test(value) || contextVideo._onlyPercentage) value = (this.util.getNumber(value, 2) / 100) + '';\n        else if (!this.util.isNumber(value) || (value * 1) >= 1) value = '';\n\n        contextVideo.inputY.placeholder = '';\n        for (let i = 0, len = ratioOptions.length; i < len; i++) {\n            if (ratioOptions[i].value === value) {\n                ratioSelected = ratioOptions[i].selected = true;\n                contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n            }\n            else ratioOptions[i].selected = false;\n        }\n\n        return ratioSelected;\n    },\n\n    setVideosInfo: function (frame) {\n        const _resize_plugin = this.context.resizing._resize_plugin;\n        this.context.resizing._resize_plugin = 'video';\n\n        const videosInfo = this.context.video._videosInfo;\n        let dataIndex = frame.getAttribute('data-index');\n        let info = null;\n        let state = '';\n\n        // create\n        if (!dataIndex || this._componentsInfoInit) {\n            state = 'create';\n            dataIndex = this.context.video._videoIndex++;\n\n            frame.setAttribute('data-index', dataIndex);\n\n            info = {\n                src: frame.src,\n                index: dataIndex * 1\n            };\n\n            videosInfo.push(info);\n        } else { // update\n            state = 'update';\n            dataIndex *= 1;\n    \n            for (let i = 0, len = videosInfo.length; i < len; i++) {\n                if (dataIndex === videosInfo[i].index) {\n                    info = videosInfo[i];\n                    break;\n                }\n            }\n\n            if (!info) {\n                dataIndex = this.context.video._videoIndex++;\n                info = { index: dataIndex };\n                videosInfo.push(info);\n            }\n\n            info.src = frame.src;\n        }\n\n        // method bind\n        info.element = frame;\n        info.delete = this.plugins.video.destroy.bind(this, frame);\n        info.select = function () {\n            frame.scrollIntoView(true);\n            this._w.setTimeout(function () {\n                this.plugins.video.onModifyMode.call(this, frame, this.plugins.resizing.call_controller_resize.call(this, frame, 'video'));\n            }.bind(this));\n        }.bind(this);\n\n        if (!frame.getAttribute('data-origin')) {\n            const container = this.util.getParentElement(frame, this.util.isMediaComponent);\n            const cover = this.util.getParentElement(frame, 'FIGURE');\n\n            const w = this.plugins.resizing._module_getSizeX.call(this, this.context.video, frame, cover, container);\n            const h = this.plugins.resizing._module_getSizeY.call(this, this.context.video, frame, cover, container);\n            \n            frame.setAttribute('data-origin', w + ',' + h);\n            frame.setAttribute('data-size', w + ',' + h);\n        }\n\n        if (!frame.style.width) {\n            const size = (frame.getAttribute('data-size') || frame.getAttribute('data-origin') || '').split(',');\n            this.plugins.video.onModifyMode.call(this, frame, null);\n            this.plugins.video.applySize.call(this, (size[0] || this.context.option.videoWidth), (size[1] || this.context.option.videoHeight));\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n        this._videoUpload(frame, dataIndex, state, info, 0);\n    },\n\n    /**\n     * @overriding core\n     */\n    checkComponentInfo: function () {\n        const videos = [].slice.call(this.context.element.wysiwyg.getElementsByTagName('IFRAME'));\n        const videoPlugin = this.plugins.video;\n        const videosInfo = this.context.video._videosInfo;\n\n        if (videos.length === videosInfo.length) {\n            // reset\n            if (this._componentsInfoReset) {\n                for (let i = 0, len = videos.length, frame; i < len; i++) {\n                    frame = videos[i];\n                    videoPlugin.setVideosInfo.call(this, frame);\n                }\n                return;\n            } else {\n                let infoUpdate = false;\n                for (let i = 0, len = videosInfo.length, info; i < len; i++) {\n                    info = videosInfo[i];\n                    if (videos.filter(function (frame) { return info.src === frame.src && info.index.toString() === frame.getAttribute('data-index'); }).length === 0) {\n                        infoUpdate = true;\n                        break;\n                    }\n                }\n                // pass\n                if (!infoUpdate) return;\n            }\n        }\n\n        const _resize_plugin = this.context.resizing._resize_plugin;\n        this.context.resizing._resize_plugin = 'video';\n        const currentVideos = [];\n        const infoIndex = [];\n        for (let i = 0, len = videosInfo.length; i < len; i++) {\n            infoIndex[i] = videosInfo[i].index;\n        }\n\n        for (let i = 0, len = videos.length, video, container; i < len; i++) {\n            video = videos[i];\n            container = this.util.getParentElement(video, this.util.isMediaComponent);\n            if (!container || container.getElementsByTagName('figcaption').length > 0) {\n                currentVideos.push(this.context.video._videoIndex);\n                videoPlugin._update_videoCover.call(this, video);\n            } else if (!video.getAttribute('data-index') || infoIndex.indexOf(video.getAttribute('data-index') * 1) < 0) {\n                currentVideos.push(this.context.video._videoIndex);\n                video.removeAttribute('data-index');\n                videoPlugin.setVideosInfo.call(this, video);\n            } else {\n                currentVideos.push(video.getAttribute('data-index') * 1);\n            }\n        }\n\n        for (let i = 0, dataIndex; i < videosInfo.length; i++) {\n            dataIndex = videosInfo[i].index;\n            if (currentVideos.indexOf(dataIndex) > -1) continue;\n\n            videosInfo.splice(i, 1);\n            this._videoUpload(null, dataIndex, 'delete', null, 0);\n            i--;\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n    },\n\n    /**\n     * @overriding core\n     */\n    resetComponentInfo: function () {\n        this.context.video._videosInfo = [];\n        this.context.video._videoIndex = 0;\n    },\n\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    applySize: function (w, h) {\n        const contextVideo = this.context.video;\n\n        if (!w) w = contextVideo.inputX.value;\n        if (!h) h = contextVideo.inputY.value;\n        \n        if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n            this.plugins.video.setPercentSize.call(this, (w || '100%'), (h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio)));\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.video.setAutoSize.call(this);\n        } else {\n            this.plugins.video.setSize.call(this, w, (h || contextVideo._videoRatio || contextVideo._defaultRatio), false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextVideo = this.context.video;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        if (!onlyH) w = this.util.getNumber(w, 0);\n        if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n\n        if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n        if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n        if (!onlyH && !/%$/.test(w)) {\n            contextVideo._cover.style.width = '';\n            contextVideo._container.style.width = '';\n        }\n\n        if (!onlyW && !/%$/.test(h)) {\n            contextVideo._element.style.height = h;\n        } else {\n            contextVideo._element.style.height = '';\n        }\n\n        if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAutoSize: function () {\n        this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setOriginSize: function (dataSize) {\n        const contextVideo = this.context.video;\n        contextVideo._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n        this.plugins.video.cancelPercentAttr.call(this);\n\n        const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n        \n        if (originSize) {\n            const w = originSize[0];\n            const h = originSize[1];\n\n            if (contextVideo._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.video.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.video.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n        }\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextVideo = this.context.video;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : (h || contextVideo._defaultRatio);\n\n        contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextVideo._container.style.height = '';\n        contextVideo._cover.style.width = '100%';\n        contextVideo._cover.style.height = h;\n        contextVideo._cover.style.paddingBottom = h;\n        contextVideo._element.style.width = '100%';\n        contextVideo._element.style.height = '100%';\n        contextVideo._element.style.maxWidth = '';\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n        contextVideo._element.setAttribute('data-percentage', w + ',' + h);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    cancelPercentAttr: function () {\n        const contextVideo = this.context.video;\n        \n        contextVideo._cover.style.width = '';\n        contextVideo._cover.style.height = '';\n        contextVideo._cover.style.paddingBottom = '';\n        contextVideo._container.style.width = '';\n        contextVideo._container.style.height = '';\n\n        this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n        this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextVideo = this.context.video;\n        \n        if (!align) align = contextVideo._align;\n        if (!element) element = contextVideo._element;\n        if (!cover) cover = contextVideo._cover;\n        if (!container) container = contextVideo._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n            cover.style.height = cover.style.height;\n            cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber((this.util.getNumber(cover.style.height, 2) / 100) * this.util.getNumber(cover.style.width, 2), 2) + '%';\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : (element.style.width || '100%');\n            cover.style.paddingBottom = cover.style.height;\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextVideo._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    resetAlign: function () {\n        const contextVideo = this.context.video;\n\n        contextVideo._element.setAttribute('data-align', '');\n        contextVideo._align = 'none';\n        contextVideo._cover.style.margin = '0';\n        this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    /**\n     * @overriding resizing\n     */\n    destroy: function (element) {\n        const frame = element || this.context.video._element;\n        const container = this.context.video._container;\n        const dataIndex = frame.getAttribute('data-index') * 1;\n        let focusEl = (container.previousElementSibling || container.nextElementSibling);\n\n        const emptyDiv = container.parentNode;\n        this.util.removeItem(container);\n        this.plugins.video.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n\n        // event\n        if (dataIndex >= 0) {\n            const videosInfo = this.context.video._videosInfo;\n\n            for (let i = 0, len = videosInfo.length; i < len; i++) {\n                if (dataIndex === videosInfo[i].index) {\n                    videosInfo.splice(i, 1);\n                    this._videoUpload(null, dataIndex, 'delete', null, 0);\n                    break;\n                }\n            }\n        }\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @overriding dialog\n     */\n    init: function () {\n        const contextVideo = this.context.video;\n        contextVideo.focusElement.value = '';\n        contextVideo._origin_w = this.context.option.videoWidth;\n        contextVideo._origin_h = this.context.option.videoHeight;\n\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n        \n        if (contextVideo._resizing) {\n            contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n            contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n            contextVideo.proportion.checked = true;\n            contextVideo.proportion.disabled = true;\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n        }\n    }\n});\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * \n * Danish translation by davidkonrad at github or gmail\n *\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'da',\n        toolbar: {\n            default: 'Default',\n            save: 'Gem',\n            font: 'Skrifttype',\n            formats: 'Format',\n            fontSize: 'Skriftstørrelse',\n            bold: 'Fed',\n            underline: 'Understreget',\n            italic: 'Skråskrift',\n            strike: 'Overstreget',\n            subscript: 'Sænket skrift',\n            superscript: 'Hævet skrift',\n            removeFormat: 'Fjern formatering',\n            fontColor: 'Skriftfarve',\n            hiliteColor: 'Baggrundsfarve',\n            indent: 'Ryk ind',\n            outdent: 'Ryk ud',\n            align: 'Justering',\n            alignLeft: 'Venstrejustering',\n            alignRight: 'Højrejustering',\n            alignCenter: 'Midterjustering',\n            alignJustify: 'Tilpas margin',\n            list: 'Lister',\n            orderList: 'Nummereret liste',\n            unorderList: 'Uordnet liste',\n            horizontalRule: 'Horisontal linie',\n            hr_solid: 'Almindelig',\n            hr_dotted: 'Punkteret',\n            hr_dashed: 'Streget',\n            table: 'Tabel',\n            link: 'Link',\n            math: 'Math',\n            image: 'Billede',\n            video: 'Video',\n            fullScreen: 'Fuld skærm',\n            showBlocks: 'Vis blokke',\n            codeView: 'Vis koder',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'Print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Overskrift',\n            tag_blockquote: 'Citer',\n            tag_pre: 'Code',\n            template: 'Schablone',\n            lineHeight: 'Linjehøjde',\n            paragraphStyle: 'Afsnitstil',\n            textStyle: 'Tekststil'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Indsæt link',\n                url: 'URL til link',\n                text: 'Tekst for link',\n                newWindowCheck: 'Åben i nyt faneblad'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Matematisk notation',\n                fontSizeLabel: 'Skriftstørrelse',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Indsæt billede',\n                file: 'Indsæt fra fil',\n                url: 'Indsæt fra URL',\n                altText: 'Alternativ tekst'\n            },\n            videoBox: {\n                title: 'Indsæt Video',\n                url: 'Indlejr video / YouTube'\n            },\n            caption: 'Indsæt beskrivelse',\n            close: 'Luk',\n            submitButton: 'Gennemfør',\n            revertButton: 'Gendan',\n            proportion: 'Bevar proportioner',\n            basic: 'Basis',\n            left: 'Venstre',\n            right: 'Højre',\n            center: 'Center',\n            width: 'Bredde',\n            height: 'Højde',\n            size: 'Størrelse',\n            ratio: 'Forhold'\n        },\n        controller: {\n            edit: 'Rediger',\n            unlink: 'Fjern link',\n            remove: 'Fjern',\n            insertRowAbove: 'Indsæt række foroven',\n            insertRowBelow: 'Indsæt række nedenfor',\n            deleteRow: 'Slet række',\n            insertColumnBefore: 'Indsæt kolonne før',\n            insertColumnAfter: 'Indsæt kolonne efter',\n            deleteColumn: 'Slet kolonne',\n            fixedColumnWidth: 'Fast søjlebredde',\n            resize100: 'Forstør 100%',\n            resize75: 'Forstør 75%',\n            resize50: 'Forstør 50%',\n            resize25: 'Forstør 25%',\n            autoSize: 'Auto størrelse',\n            mirrorHorizontal: 'Spejling, horisontal',\n            mirrorVertical: 'Spejling, vertikal',\n            rotateLeft: 'Roter til venstre',\n            rotateRight: 'Toter til højre',\n            maxSize: 'Max størrelse',\n            minSize: 'Min størrelse',\n            tableHeader: 'Tabel overskrift',\n            mergeCells: 'Sammenlæg celler (merge)',\n            splitCells: 'Opdel celler',\n            HorizontalSplit: 'Opdel horisontalt',\n            VerticalSplit: 'Opdel vertikalt'\n        },\n        menu: {\n            spaced: 'Brev Afstand',\n            bordered: 'Afgrænsningslinje',\n            neon: 'Neon',\n            translucent: 'Gennemsigtig',\n            shadow: 'Skygge'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.da = lang;\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 @Gundolf68\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'de',\n        toolbar: {\n            default: 'Standard',\n            save: 'Speichern',\n            font: 'Schriftart',\n            formats: 'Format',\n            fontSize: 'Schriftgröße',\n            bold: 'Fett',\n            underline: 'Unterstrichen',\n            italic: 'Kursiv',\n            strike: 'Durchgestrichen',\n            subscript: 'Tiefgestellt',\n            superscript: 'Hochgestellt',\n            removeFormat: 'Format entfernen',\n            fontColor: 'Schriftfarbe',\n            hiliteColor: 'Farbe für Hervorhebungen',\n            indent: 'Einzug vergrößern',\n            outdent: 'Einzug verkleinern',\n            align: 'Ausrichtung',\n            alignLeft: 'Links ausrichten',\n            alignRight: 'Rechts ausrichten',\n            alignCenter: 'Zentriert ausrichten',\n            alignJustify: 'Blocksatz',\n            list: 'Liste',\n            orderList: 'Nummerierte Liste',\n            unorderList: 'Aufzählung',\n            horizontalRule: 'Horizontale Linie',\n            hr_solid: 'Strich',\n            hr_dotted: 'Gepunktet',\n            hr_dashed: 'Gestrichelt',\n            table: 'Tabelle',\n            link: 'Link',\n            math: 'Mathematik',\n            image: 'Bild',\n            video: 'Video',\n            fullScreen: 'Vollbild',\n            showBlocks: 'Blockformatierungen anzeigen',\n            codeView: 'Quelltext anzeigen',\n            undo: 'Rückgängig',\n            redo: 'Wiederholen',\n            preview: 'Vorschau',\n            print: 'Drucken',\n            tag_p: 'Absatz',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Zitat',\n            tag_pre: 'Quellcode',\n            template: 'Vorlage',\n            lineHeight: 'Zeilenhöhe',\n            paragraphStyle: 'Absatzstil',\n            textStyle: 'Textstil'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Link einfügen',\n                url: 'Link-URL',\n                text: 'Link-Text',\n                newWindowCheck: 'In neuem Fenster anzeigen'\n            },\n            mathBox: {\n                title: 'Mathematik',\n                inputLabel: 'Mathematische Notation',\n                fontSizeLabel: 'Schriftgröße',\n                previewLabel: 'Vorschau'\n            },\n            imageBox: {\n                title: 'Bild einfügen',\n                file: 'Datei auswählen',\n                url: 'Bild-URL',\n                altText: 'Alternativer Text'\n            },\n            videoBox: {\n                title: 'Video enfügen',\n                url: 'Video-URL, YouTube'\n            },\n            caption: 'Beschreibung eingeben',\n            close: 'Schließen',\n            submitButton: 'Übernehmen',\n            revertButton: 'Rückgängig',\n            proportion: 'Seitenverhältnis beibehalten',\n            basic: 'Standard',\n            left: 'Links',\n            right: 'Rechts',\n            center: 'Zentriert',\n            width: 'Breite',\n            height: 'Höhe',\n            size: 'Größe',\n            ratio: 'Verhältnis'\n        },\n        controller: {\n            edit: 'Bearbeiten',\n            unlink: 'Link entfernen',\n            remove: 'Löschen',\n            insertRowAbove: 'Zeile oberhalb einfügen',\n            insertRowBelow: 'Zeile unterhalb einfügen',\n            deleteRow: 'Zeile löschen',\n            insertColumnBefore: 'Spalte links einfügen',\n            insertColumnAfter: 'Spalte rechts einfügen',\n            deleteColumn: 'Spalte löschen',\n            fixedColumnWidth: 'Feste Spaltenbreite',\n            resize100: 'Zoom 100%',\n            resize75: 'Zoom 75%',\n            resize50: 'Zoom 50%',\n            resize25: 'Zoom 25%',\n            autoSize: 'Automatische Größenanpassung',\n            mirrorHorizontal: 'Horizontal spiegeln',\n            mirrorVertical: 'Vertikal spiegeln',\n            rotateLeft: 'Nach links drehen',\n            rotateRight: 'Nach rechts drehen',\n            maxSize: 'Maximale Größe',\n            minSize: 'Mindestgröße',\n            tableHeader: 'Tabellenüberschrift',\n            mergeCells: 'Zellen verbinden',\n            splitCells: 'Zellen teilen',\n            HorizontalSplit: 'Horizontal teilen',\n            VerticalSplit: 'Vertikal teilen'\n        },\n        menu: {\n            spaced: 'Buchstabenabstand',\n            bordered: 'Umrandet',\n            neon: 'Neon',\n            translucent: 'Durchscheinend',\n            shadow: 'Schatten'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.de = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n\tif ( true && typeof module.exports === 'object') {\n\t\tmodule.exports = global.document ?\n\t\t\tfactory(global, true) :\n\t\t\tfunction (w) {\n\t\t\t\tif (!w.document) {\n\t\t\t\t\tthrow new Error('SUNEDITOR_LANG a window with a document');\n\t\t\t\t}\n\t\t\t\treturn factory(w);\n\t\t\t};\n\t} else {\n\t\tfactory(global);\n\t}\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n\tconst lang = {\n\t\tcode: 'es',\n\t\ttoolbar: {\n\t\t\tdefault: 'Valor por defecto',\n\t\t\tsave: 'Guardar',\n\t\t\tfont: 'Fuente',\n\t\t\tformats: 'Formato',\n\t\t\tfontSize: 'Tamaño de fuente',\n\t\t\tbold: 'Negrita',\n\t\t\tunderline: 'Subrayado',\n\t\t\titalic: 'Cursiva',\n\t\t\tstrike: 'Tachado',\n\t\t\tsubscript: 'Subíndice',\n\t\t\tsuperscript: 'Superíndice',\n\t\t\tremoveFormat: 'Eliminar formato',\n\t\t\tfontColor: 'Color de fuente',\n\t\t\thiliteColor: 'Color de resaltado',\n\t\t\tindent: 'Más tabulación',\n\t\t\toutdent: 'Menos tabulación',\n\t\t\talign: 'Alinear',\n\t\t\talignLeft: 'Alinear a la izquierda',\n\t\t\talignRight: 'Alinear a la derecha',\n\t\t\talignCenter: 'Alinear al centro',\n\t\t\talignJustify: 'Justificar',\n\t\t\tlist: 'Lista',\n\t\t\torderList: 'Lista ordenada',\n\t\t\tunorderList: 'Lista desordenada',\n\t\t\thorizontalRule: 'Horizontal line',\n\t\t\thr_solid: 'Línea horizontal solida',\n\t\t\thr_dotted: 'Línea horizontal punteada',\n\t\t\thr_dashed: 'Línea horizontal discontinua',\n\t\t\ttable: 'Tabla',\n\t\t\tlink: 'Link',\n\t\t\tmath: 'Matemáticas',\n\t\t\timage: 'Imagen',\n\t\t\tvideo: 'Video',\n\t\t\tfullScreen: 'Pantalla completa',\n\t\t\tshowBlocks: 'Ver bloques',\n\t\t\tcodeView: 'Ver código fuente',\n\t\t\tundo: 'UndoDeshacer última acción',\n\t\t\tredo: 'Rehacer última acción',\n\t\t\tpreview: 'Vista previa',\n\t\t\tprint: 'Imprimir',\n\t\t\ttag_p: 'Párrafo',\n\t\t\ttag_div: 'Normal (DIV)',\n\t\t\ttag_h: 'Header',\n\t\t\ttag_blockquote: 'Cita',\n\t\t\ttag_pre: 'Código',\n\t\t\ttemplate: 'Plantilla',\n\t\t\tlineHeight: 'Altura de la línea',\n\t\t\tparagraphStyle: 'Estilo del parrafo',\n\t\t\ttextStyle: 'Estilo del texto'\n\t\t},\n\t\tdialogBox: {\n\t\t\tlinkBox: {\n\t\t\t\ttitle: 'Insertar Link',\n\t\t\t\turl: '¿Hacia que URL lleva el link?',\n\t\t\t\ttext: 'Texto para mostrar',\n\t\t\t\tnewWindowCheck: 'Abrir en una nueva ventana'\n\t\t\t},\n\t\t\tmathBox: {\n                title: 'Matemáticas',\n                inputLabel: 'Notación Matemática',\n                fontSizeLabel: 'Tamaño de fuente',\n                previewLabel: 'Vista previa'\n            },\n\t\t\timageBox: {\n\t\t\t\ttitle: 'Insertar imagen',\n\t\t\t\tfile: 'Seleccionar desde los archivos',\n\t\t\t\turl: 'URL de la imagen',\n\t\t\t\taltText: 'Texto alternativo'\n\t\t\t},\n\t\t\tvideoBox: {\n\t\t\t\ttitle: 'Insertar Video',\n\t\t\t\turl: '¿URL del vídeo? Youtube'\n\t\t\t},\n\t\t\tcaption: 'Insertar descripción',\n\t\t\tclose: 'Cerrar',\n\t\t\tsubmitButton: 'Enviar',\n\t\t\trevertButton: 'revertir',\n\t\t\tproportion: 'Restringir las proporciones',\n\t\t\tbasic: 'Basico',\n\t\t\tleft: 'Izquierda',\n\t\t\tright: 'derecha',\n\t\t\tcenter: 'Centro',\n\t\t\twidth: 'Ancho',\n\t\t\theight: 'Alto',\n\t\t\tsize: 'Tamaño',\n\t\t\tratio: 'Proporción'\n\t\t},\n\t\tcontroller: {\n\t\t\tedit: 'Editar',\n\t\t\tunlink: 'Desvincular',\n\t\t\tremove: 'RemoveQuitar',\n\t\t\tinsertRowAbove: 'Insertar fila arriba',\n\t\t\tinsertRowBelow: 'Insertar fila debajo',\n\t\t\tdeleteRow: 'Eliminar fila',\n\t\t\tinsertColumnBefore: 'Insertar columna antes',\n\t\t\tinsertColumnAfter: 'Insertar columna después',\n\t\t\tdeleteColumn: 'Eliminar columna',\n\t\t\tfixedColumnWidth: 'Ancho de columna fijo',\n\t\t\tresize100: 'Redimensionar 100%',\n\t\t\tresize75: 'Redimensionar 75%',\n\t\t\tresize50: 'Redimensionar 50%',\n\t\t\tresize25: 'Redimensionar 25%',\n\t\t\tautoSize: 'Tamaño automático',\n\t\t\tmirrorHorizontal: 'Espejo, Horizontal',\n\t\t\tmirrorVertical: 'Espejo, Vertical',\n\t\t\trotateLeft: 'Girar a la izquierda',\n\t\t\trotateRight: 'Girar a la derecha',\n\t\t\tmaxSize: 'Tamaño máximo',\n\t\t\tminSize: 'Tamaño minímo',\n\t\t\ttableHeader: 'Encabezado de tabla',\n\t\t\tmergeCells: 'Combinar celdas',\n\t\t\tsplitCells: 'Dividir celdas',\n\t\t\tHorizontalSplit: 'División horizontal',\n\t\t\tVerticalSplit: 'División vertical'\n\t\t},\n\t\tmenu: {\n\t\t\tspaced: 'Espaciado',\n\t\t\tbordered: 'Bordeado',\n\t\t\tneon: 'Neón',\n\t\t\ttranslucent: 'Translúcido',\n\t\t\tshadow: 'Sombreado'\n\t\t}\n\t};\n\n\tif (typeof noGlobal === typeof undefined) {\n\t\tif (!window.SUNEDITOR_LANG) {\n\t\t\twindow.SUNEDITOR_LANG = {};\n\t\t}\n\n\t\twindow.SUNEDITOR_LANG.es = lang;\n\t}\n\n\treturn lang;\n}));\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'fr',\n        toolbar: {\n            default: 'Défaut',\n            save: 'Sauvegarder',\n            font: 'Police',\n            formats: 'Formats',\n            fontSize: 'Taille',\n            bold: 'Gras',\n            underline: 'Souligné',\n            italic: 'Italique',\n            strike: 'Barré',\n            subscript: 'Indice',\n            superscript: 'Exposant',\n            removeFormat: 'Éffacer  le Formatage',\n            fontColor: 'Couleur du texte',\n            hiliteColor: 'Couleur en arrière plan',\n            indent: 'Indenter',\n            outdent: 'Désindenter',\n            align: 'Alignenement',\n            alignLeft: 'À gauche',\n            alignRight: 'À droite',\n            alignCenter: 'Centré',\n            alignJustify: 'Justifié',\n            list: 'Liste',\n            orderList: 'Ordonnée',\n            unorderList: 'Non-ordonnée',\n            horizontalRule: 'Ligne horizontale',\n            hr_solid: 'Solide',\n            hr_dotted: 'Points',\n            hr_dashed: 'Tirets',\n            table: 'Table',\n            link: 'Lien',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            fullScreen: 'Plein écran',\n            showBlocks: 'Voir les blocs',\n            codeView: 'Voir le code',\n            undo: 'Annuler',\n            redo: 'Rétablir',\n            preview: 'Previsualiser',\n            print: 'Imprimer',\n            tag_p: 'Paragraphe',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Titre',\n            tag_blockquote: 'Citation',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Hauteur de la ligne',\n            paragraphStyle: 'Style de paragraphe',\n            textStyle: 'Style de texte'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insérer un lien',\n                url: 'Adresse URL du lien',\n                text: 'Texte à afficher',\n                newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Notation mathématique',\n                fontSizeLabel: 'Taille',\n                previewLabel: 'Previsualiser'\n            },\n            imageBox: {\n                title: 'Insérer une image',\n                file: 'Sélectionner le fichier',\n                url: 'Adresse URL du fichier',\n                altText: 'Texte Alternatif'\n            },\n            videoBox: {\n                title: 'Insérer une Vidéo',\n                url: 'URL d’intégration du média, YouTube'\n            },\n            caption: 'Insérer une description',\n            close: 'Fermer',\n            submitButton: 'Appliquer',\n            revertButton: 'Revenir en arrière',\n            proportion: 'Maintenir le rapport hauteur/largeur',\n            basic: 'Basique',\n            left: 'Gauche',\n            right: 'Droite',\n            center: 'Centré',\n            width: 'Largeur',\n            height: 'Hauteur',\n            size: 'La taille',\n            ratio: 'Rapport'\n        },\n        controller: {\n            edit: 'Modifier',\n            unlink: 'Supprimer un lien',\n            remove: 'Effacer',\n            insertRowAbove: 'Insérer une ligne en dessous',\n            insertRowBelow: 'Insérer une ligne au dessus',\n            deleteRow: 'Effacer la ligne',\n            insertColumnBefore: 'Insérer une colonne avant',\n            insertColumnAfter: 'Insérer une colonne après',\n            deleteColumn: 'Effacer la colonne',\n            fixedColumnWidth: 'Largeur de colonne fixe',\n            resize100: 'Redimensionner à 100%',\n            resize75: 'Redimensionner à 75%',\n            resize50: 'Redimensionner à 50%',\n            resize25: 'Redimensionner à 25%',\n            autoSize: 'Taille automatique',\n            mirrorHorizontal: 'Mirroir, Horizontal',\n            mirrorVertical: 'Mirroir, Vertical',\n            rotateLeft: 'Rotation à gauche',\n            rotateRight: 'Rotation à droite',\n            maxSize: 'Taille max',\n            minSize: 'Taille min',\n            tableHeader: 'En-tête de table',\n            mergeCells: 'Fusionner les cellules',\n            splitCells: 'Diviser les Cellules',\n            HorizontalSplit: 'Scission horizontale',\n            VerticalSplit: 'Scission verticale'\n        },\n        menu: {\n            spaced: 'Espacement',\n            bordered: 'Ligne de démarcation',\n            neon: 'Néon',\n            translucent: 'Translucide',\n            shadow: 'L\\'ombre'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.fr = lang;\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ja',\n        toolbar: {\n            default: 'デフォルト',\n            save: '保存',\n            font: 'フォント',\n            formats: '段落形式',\n            fontSize: 'サイズ',\n            bold: '太字',\n            underline: '下線',\n            italic: 'イタリック',\n            strike: '取り消し線',\n            subscript: '下付き',\n            superscript: '上付き',\n            removeFormat: '形式を削除',\n            fontColor: '文字色',\n            hiliteColor: '文字の背景色',\n            indent: 'インデント',\n            outdent: 'インデント',\n            align: 'ソート',\n            alignLeft: '左揃え',\n            alignRight: '右揃え',\n            alignCenter: '中央揃え',\n            alignJustify: '両端揃え',\n            list: 'リスト',\n            orderList: '数値ブリット',\n            unorderList: '円形ブリット',\n            horizontalRule: '水平線を挿入',\n            hr_solid: '実線',\n            hr_dotted: '点線',\n            hr_dashed: 'ダッシュ',\n            table: 'テーブル',\n            link: 'リンク',\n            math: '数学',\n            image: '画像',\n            video: '動画',\n            fullScreen: 'フルスクリーン',\n            showBlocks: 'ブロック表示',\n            codeView: 'HTMLの編集',\n            undo: '元に戻す',\n            redo: '再実行',\n            preview: 'プレビュー',\n            print: '印刷',\n            tag_p: '本文',\n            tag_div: '基本（DIV）',\n            tag_h: 'タイトル',\n            tag_blockquote: '引用',\n            tag_pre: 'コード',\n            template: 'テンプレート',\n            lineHeight: '行の高さ',\n            paragraphStyle: '段落スタイル',\n            textStyle: 'テキストスタイル'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'リンクの挿入',\n                url: 'インターネットアドレス',\n                text: '画面のテキスト',\n                newWindowCheck: '別ウィンドウで開く'\n            },\n            mathBox: {\n                title: '数学',\n                inputLabel: '数学表記',\n                fontSizeLabel: 'サイズ',\n                previewLabel: 'プレビュー'\n            },\n            imageBox: {\n                title: '画像の挿入',\n                file: 'ファイルの選択',\n                url: 'イメージアドレス',\n                altText: '置換文字列'\n            },\n            videoBox: {\n                title: '動画を挿入',\n                url: 'メディア埋め込まアドレス,YouTube'\n            },\n            caption: '説明付け',\n            close: '閉じる',\n            submitButton: '確認',\n            revertButton: '元に戻す',\n            proportion: 'の割合カスタマイズ',\n            basic: '基本',\n            left: '左',\n            right: '右',\n            center: '中央',\n            width: '横',\n            height: '縦',\n            size: 'サイズ',\n            ratio: '比率'\n        },\n        controller: {\n            edit: '編集',\n            unlink: 'リンク解除',\n            remove: '削除',\n            insertRowAbove: '上に行を挿入',\n            insertRowBelow: '下に行を挿入',\n            deleteRow: '行の削除',\n            insertColumnBefore: '左に列を挿入',\n            insertColumnAfter: '右に列を挿入',\n            deleteColumn: '列を削除する',\n            fixedColumnWidth: '固定列幅',\n            resize100: '100％ サイズ',\n            resize75: '75％ サイズ',\n            resize50: '50％ サイズ',\n            resize25: '25％ サイズ',\n            autoSize: '自動サイズ',\n            mirrorHorizontal: '左右反転',\n            mirrorVertical: '上下反転',\n            rotateLeft: '左に回転',\n            rotateRight: '右に回転',\n            maxSize: '最大サイズ',\n            minSize: '最小サイズ',\n            tableHeader: '表のヘッダー',\n            mergeCells: 'セルの結合',\n            splitCells: 'セルを分割',\n            HorizontalSplit: '横分割',\n            VerticalSplit: '垂直分割'\n        },\n        menu: {\n            spaced: '文字間隔',\n            bordered: '境界線',\n            neon: 'ネオン',\n            translucent: '半透明',\n            shadow: '影'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.ja = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ko',\n        toolbar: {\n            default: '기본값',\n            save: '저장',\n            font: '글꼴',\n            formats: '문단 형식',\n            fontSize: '크기',\n            bold: '굵게',\n            underline: '밑줄',\n            italic: '기울임',\n            strike: '취소선',\n            subscript: '아래 첨자',\n            superscript: '위 첨자',\n            removeFormat: '형식 제거',\n            fontColor: '글자색',\n            hiliteColor: '배경색',\n            indent: '들여쓰기',\n            outdent: '내어쓰기',\n            align: '정렬',\n            alignLeft: '왼쪽 정렬',\n            alignRight: '오른쪽 정렬',\n            alignCenter: '가운데 정렬',\n            alignJustify: '양쪽 정렬',\n            list: '리스트',\n            orderList: '숫자형 리스트',\n            unorderList: '원형 리스트',\n            horizontalRule: '가로 줄 삽입',\n            hr_solid: '실선',\n            hr_dotted: '점선',\n            hr_dashed: '대시',\n            table: '테이블',\n            link: '링크',\n            math: '수식',\n            image: '이미지',\n            video: '동영상',\n            fullScreen: '전체 화면',\n            showBlocks: '블록 보기',\n            codeView: 'HTML 편집',\n            undo: '실행 취소',\n            redo: '다시 실행',\n            preview: '미리보기',\n            print: '인쇄',\n            tag_p: '본문',\n            tag_div: '기본 (DIV)',\n            tag_h: '제목',\n            tag_blockquote: '인용문',\n            tag_pre: '코드',\n            template: '템플릿',\n            lineHeight: '줄 높이',\n            paragraphStyle: '문단 스타일',\n            textStyle: '글자 스타일'\n        },\n        dialogBox: {\n            linkBox: {\n                title: '링크 삽입',\n                url: '인터넷 주소',\n                text: '화면 텍스트',\n                newWindowCheck: '새창으로 열기'\n            },\n            mathBox: {\n                title: '수식',\n                inputLabel: '수학적 표기법',\n                fontSizeLabel: '글자 크기',\n                previewLabel: '미리보기'\n            },\n            imageBox: {\n                title: '이미지 삽입',\n                file: '파일 선택',\n                url: '이미지 주소',\n                altText: '대체 문자열'\n            },\n            videoBox: {\n                title: '동영상 삽입',\n                url: '미디어 임베드 주소, 유튜브'\n            },\n            caption: '설명 넣기',\n            close: '닫기',\n            submitButton: '확인',\n            revertButton: '되돌리기',\n            proportion: '비율 맞춤',\n            basic: '기본',\n            left: '왼쪽',\n            right: '오른쪽',\n            center: '가운데',\n            width: '가로',\n            height: '세로',\n            size: '크기',\n            ratio: '비율'\n        },\n        controller: {\n            edit: '편집',\n            unlink: '링크 해제',\n            remove: '삭제',\n            insertRowAbove: '위에 행 삽입',\n            insertRowBelow: '아래에 행 삽입',\n            deleteRow: '행 삭제',\n            insertColumnBefore: '왼쪽에 열 삽입',\n            insertColumnAfter: '오른쪽에 열 삽입',\n            deleteColumn: '열 삭제',\n            fixedColumnWidth: '고정 된 열 너비',\n            resize100: '100% 크기',\n            resize75: '75% 크기',\n            resize50: '50% 크기',\n            resize25: '25% 크기',\n            autoSize: '자동 크기',\n            mirrorHorizontal: '좌우 반전',\n            mirrorVertical: '상하 반전',\n            rotateLeft: '왼쪽으로 회전',\n            rotateRight: '오른쪽으로 회전',\n            maxSize: '최대화',\n            minSize: '최소화',\n            tableHeader: '테이블 제목',\n            mergeCells: '셀 병합',\n            splitCells: '셀 분할',\n            HorizontalSplit: '가로 분할',\n            VerticalSplit: '세로 분할'\n        },\n        menu: {\n            spaced: '글자 간격',\n            bordered: '경계선',\n            neon: '네온',\n            translucent: '반투명',\n            shadow: '그림자'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.ko = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * Brazilian Portuguese translation by lpeil github\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'pt_br',\n        toolbar: {\n            default: 'Padrão',\n            save: 'Salvar',\n            font: 'Fonte',\n            formats: 'Formatos',\n            fontSize: 'Tamanho',\n            bold: 'Negrito',\n            underline: 'Sublinhado',\n            italic: 'Itálico',\n            strike: 'Riscado',\n            subscript: 'Subescrito',\n            superscript: 'Sobrescrito',\n            removeFormat: 'Remover Formatação',\n            fontColor: 'Cor da Fonte',\n            hiliteColor: 'Cor de destaque',\n            indent: 'Recuo',\n            outdent: 'Avançar',\n            align: 'Alinhar',\n            alignLeft: 'Alinhar à esquerda',\n            alignRight: 'Alinhar à direita',\n            alignCenter: 'Alinhar ao centro',\n            alignJustify: 'Alinhat justificado',\n            list: 'Lista',\n            orderList: 'Lista ordenada',\n            unorderList: 'Lista desordenada',\n            horizontalRule: 'Linha horizontal',\n            hr_solid: 'solida',\n            hr_dotted: 'pontilhada',\n            hr_dashed: 'tracejada',\n            table: 'Tabela',\n            link: 'Link',\n            math: 'Matemática',\n            image: 'Imagem',\n            video: 'Vídeo',\n            fullScreen: 'Tela cheia',\n            showBlocks: 'Mostrar blocos',\n            codeView: 'Mostrar códigos',\n            undo: 'Voltar',\n            redo: 'Refazer',\n            preview: 'Prever',\n            print: 'imprimir',\n            tag_p: 'Paragráfo',\n            tag_div: '(DIV) Normal',\n            tag_h: 'Cabeçalho',\n            tag_blockquote: 'Citar',\n            tag_pre: 'Código',\n            template: 'Modelo',\n            lineHeight: 'Altura da linha',\n            paragraphStyle: 'Estilo do parágrafo',\n            textStyle: 'Estilo do texto'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserir link',\n                url: 'URL para link',\n                text: 'Texto à mostrar',\n                newWindowCheck: 'Abrir em nova guia'\n            },\n            mathBox: {\n                title: 'Matemática',\n                inputLabel: 'Notação matemática',\n                fontSizeLabel: 'Tamanho',\n                previewLabel: 'Prever'\n            },\n            imageBox: {\n                title: 'Inserir imagens',\n                file: 'Selecionar arquivos',\n                url: 'URL da imagem',\n                altText: 'Texto alternativo'\n            },\n            videoBox: {\n                title: 'Inserir vídeo',\n                url: 'URL do YouTube'\n            },\n            caption: 'Inserir descrição',\n            close: 'Fechar',\n            submitButton: 'Enviar',\n            revertButton: 'Reverter',\n            proportion: 'restringir proporções',\n            basic: 'Básico',\n            left: 'Esquerda',\n            right: 'Direita',\n            center: 'Centro',\n            width: 'Largura',\n            height: 'Altura',\n            size: 'Tamanho',\n            ratio: 'Proporções'\n        },\n        controller: {\n            edit: 'Editar',\n            unlink: 'Retirar link',\n            remove: 'Remover',\n            insertRowAbove: 'Inserir linha acima',\n            insertRowBelow: 'Inserir linha abaixo',\n            deleteRow: 'Deletar linha',\n            insertColumnBefore: 'Inserir coluna antes',\n            insertColumnAfter: 'Inserir coluna depois',\n            deleteColumn: 'Deletar coluna',\n            fixedColumnWidth: 'Largura fixa da coluna',\n            resize100: 'Redimensionar para 100%',\n            resize75: 'Redimensionar para 75%',\n            resize50: 'Redimensionar para 50%',\n            resize25: 'Redimensionar para 25%',\n            autoSize: 'Tamanho automático',\n            mirrorHorizontal: 'Espelho, Horizontal',\n            mirrorVertical: 'Espelho, Vertical',\n            rotateLeft: 'Girar para esquerda',\n            rotateRight: 'Girar para direita',\n            maxSize: 'Tam max',\n            minSize: 'Tam min',\n            tableHeader: 'Cabeçalho da tabela',\n            mergeCells: 'Mesclar células',\n            splitCells: 'Dividir células',\n            HorizontalSplit: 'Divisão horizontal',\n            VerticalSplit: 'Divisão vertical'\n        },\n        menu: {\n            spaced: 'Espaçado',\n            bordered: 'Com borda',\n            neon: 'Néon',\n            translucent: 'Translúcido',\n            shadow: 'Sombreado'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.pt_br = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ru',\n        toolbar: {\n            default: 'По умолчанию',\n            save: 'Сохранить',\n            font: 'Гарнитура',\n            formats: 'Стиль абзаца',\n            fontSize: 'Кегль',\n            bold: 'Полужирный',\n            underline: 'Подчёркнутый',\n            italic: 'Курсив',\n            strike: 'Зачеркнутый',\n            subscript: 'Нижний индекс',\n            superscript: 'Верхний индекс',\n            removeFormat: 'Очистить форматирование',\n            fontColor: 'Цвет текста',\n            hiliteColor: 'Цвет фона',\n            indent: 'Увеличить отступ',\n            outdent: 'Уменьшить отступ',\n            align: 'Выравнивание',\n            alignLeft: 'Слева',\n            alignRight: 'Справа',\n            alignCenter: 'По центру',\n            alignJustify: 'По ширине',\n            list: 'Списки',\n            orderList: 'Нумерованный',\n            unorderList: 'Маркированный',\n            horizontalRule: 'Горизонтальная линия',\n            hr_solid: 'Сплошная',\n            hr_dotted: 'Пунктир',\n            hr_dashed: 'Штриховая',\n            table: 'Таблица',\n            link: 'Ссылка',\n            math: 'математический',\n            image: 'Изображение',\n            video: 'Видео',\n            fullScreen: 'Полный экран',\n            showBlocks: 'Блочный вид',\n            codeView: 'Редактировать HTML',\n            undo: 'Отменить',\n            redo: 'Вернуть',\n            preview: 'Предварительный просмотр',\n            print: 'Печать',\n            tag_p: 'Текст',\n            tag_div: 'Базовый',\n            tag_h: 'Заголовок',\n            tag_blockquote: 'Цитата',\n            tag_pre: 'Код',\n            template: 'Шаблон',\n            lineHeight: 'Высота линии',\n            paragraphStyle: 'Стиль абзаца',\n            textStyle: 'Стиль текста'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Вставить ссылку',\n                url: 'Ссылка',\n                text: 'Текст',\n                newWindowCheck: 'Открывать в новом окне'\n            },\n            mathBox: {\n                title: 'математический',\n                inputLabel: 'Математическая запись',\n                fontSizeLabel: 'Кегль',\n                previewLabel: 'Предварительный просмотр'\n            },\n            imageBox: {\n                title: 'Вставить изображение',\n                file: 'Выберите файл',\n                url: 'Адрес изображения',\n                altText: 'Текстовое описание изображения'\n            },\n            videoBox: {\n                title: 'Вставить видео',\n                url: 'Ссылка на видео'\n            },\n            caption: 'Добавить подпись',\n            close: 'Закрыть',\n            submitButton: 'Подтвердить',\n            revertButton: 'Сбросить',\n            proportion: 'Сохранить пропорции',\n            basic: 'Без обтекания',\n            left: 'Слева',\n            right: 'Справа',\n            center: 'По центру',\n            width: 'Ширина',\n            height: 'Высота',\n            size: 'Размер',\n            ratio: 'Соотношение'\n        },\n        controller: {\n            edit: 'Изменить',\n            unlink: 'Убрать ссылку',\n            remove: 'Удалить',\n            insertRowAbove: 'Вставить строку выше',\n            insertRowBelow: 'Вставить строку ниже',\n            deleteRow: 'Удалить строку',\n            insertColumnBefore: 'Вставить столбец слева',\n            insertColumnAfter: 'Вставить столбец справа',\n            deleteColumn: 'Удалить столбец',\n            fixedColumnWidth: 'Фиксированная ширина столбца',\n            resize100: 'Размер 100%',\n            resize75: 'Размер 75%',\n            resize50: 'Размер 50%',\n            resize25: 'Размер 25%',\n            autoSize: 'Авто размер',\n            mirrorHorizontal: 'Отразить по горизонтали',\n            mirrorVertical: 'Отразить по вертикали',\n            rotateLeft: 'Повернуть против часовой стрелки',\n            rotateRight: 'Повернуть по часовой стрелке',\n            maxSize: 'Ширина по размеру страницы',\n            minSize: 'Ширина по содержимому',\n            tableHeader: 'Строка заголовков',\n            mergeCells: 'Объединить ячейки',\n            splitCells: 'Разделить ячейку',\n            HorizontalSplit: 'Разделить горизонтально',\n            VerticalSplit: 'Разделить вертикально'\n        },\n        menu: {\n            spaced: 'интервал',\n            bordered: 'Граничная Линия',\n            neon: 'неон',\n            translucent: 'полупрозрачный',\n            shadow: 'Тень'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.ru = lang;\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'zh_cn',\n        toolbar: {\n            default: '默认',\n            save: '保存',\n            font: '字体',\n            formats: '格式',\n            fontSize: '字号',\n            bold: '粗体',\n            underline: '下划线',\n            italic: '斜体',\n            strike: '删除线',\n            subscript: '下标',\n            superscript: '上标',\n            removeFormat: '清除格式',\n            fontColor: '字体颜色',\n            hiliteColor: '背景颜色',\n            indent: '增加缩进',\n            outdent: '减少缩进',\n            align: '对齐方式',\n            alignLeft: '左对齐',\n            alignRight: '右对齐',\n            alignCenter: '居中',\n            alignJustify: '两端对齐',\n            list: '列表',\n            orderList: '有序列表',\n            unorderList: '无序列表',\n            horizontalRule: '水平线',\n            hr_solid: '实线',\n            hr_dotted: '点线',\n            hr_dashed: '虚线',\n            table: '表格',\n            link: '超链接',\n            math: '数学',\n            image: '图片',\n            video: '视频',\n            fullScreen: '全屏',\n            showBlocks: '显示块区域',\n            codeView: '代码视图',\n            undo: '撤消',\n            redo: '恢复',\n            preview: '预览',\n            print: '打印',\n            tag_p: '段落',\n            tag_div: '正文 (DIV)',\n            tag_h: '标题',\n            tag_blockquote: '引用',\n            tag_pre: '代码',\n            template: '模板',\n            lineHeight: '行高',\n            paragraphStyle: '段落样式',\n            textStyle: '文字样式'\n        },\n        dialogBox: {\n            linkBox: {\n                title: '插入超链接',\n                url: '网址',\n                text: '字体',\n                newWindowCheck: '在新标签页中打开'\n            },\n            mathBox: {\n                title: '数学',\n                inputLabel: '数学符号',\n                fontSizeLabel: '字号',\n                previewLabel: '预览'\n            },\n            imageBox: {\n                title: '插入图片',\n                file: '上传图片',\n                url: '图片网址',\n                altText: '替换文字'\n            },\n            videoBox: {\n                title: '插入视频',\n                url: '嵌入网址'\n            },\n            caption: '标题',\n            close: '取消',\n            submitButton: '确定',\n            revertButton: '恢复',\n            proportion: '比例',\n            basic: '基本',\n            left: '左',\n            right: '右',\n            center: '居中',\n            width: '宽度',\n            height: '高度',\n            size: '尺寸',\n            ratio: '比'\n        },\n        controller: {\n            edit: '编辑',\n            unlink: '去除链接',\n            remove: '删除',\n            insertRowAbove: '在上方插入',\n            insertRowBelow: '在下方插入',\n            deleteRow: '删除行',\n            insertColumnBefore: '在左侧插入',\n            insertColumnAfter: '在右侧插入',\n            deleteColumn: '删除列',\n            fixedColumnWidth: '固定列宽',\n            resize100: '放大 100%',\n            resize75: '放大 75%',\n            resize50: '放大 50%',\n            resize25: '放大 25%',\n            mirrorHorizontal: '翻转左右',\n            mirrorVertical: '翻转上下',\n            rotateLeft: '向左旋转',\n            rotateRight: '向右旋转',\n            maxSize: '最大尺寸',\n            minSize: '最小尺寸',\n            tableHeader: '表格标题',\n            mergeCells: '合并单元格',\n            splitCells: '分割单元格',\n            HorizontalSplit: '水平分割',\n            VerticalSplit: '垂直分割'\n        },\n        menu: {\n            spaced: '间隔开',\n            bordered: '边界线',\n            neon: '霓虹灯',\n            translucent: '半透明',\n            shadow: '阴影'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            window.SUNEDITOR_LANG = {};\n        }\n\n        window.SUNEDITOR_LANG.zh_cn = lang;\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(34);\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"buttonList\", function() { return /* reexport */ buttonList_namespaceObject; });\n\n// NAMESPACE OBJECT: ./misc/buttonList.js\nvar buttonList_namespaceObject = {};\n__webpack_require__.r(buttonList_namespaceObject);\n__webpack_require__.d(buttonList_namespaceObject, \"basic\", function() { return basic; });\n__webpack_require__.d(buttonList_namespaceObject, \"complex\", function() { return complex; });\n__webpack_require__.d(buttonList_namespaceObject, \"formatting\", function() { return formatting; });\n__webpack_require__.d(buttonList_namespaceObject, \"default\", function() { return buttonList; });\n\n// CONCATENATED MODULE: ./misc/buttonList.js\nvar basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\nvar complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\nvar formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n/* harmony default export */ var buttonList = ({\n  basic: basic,\n  complex: complex,\n  formatting: formatting\n});\n// EXTERNAL MODULE: external \"react\"\nvar external_react_ = __webpack_require__(5);\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2020 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var defaultIcons = ({\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M7 21L14.9 3H17L9.1 21H7Z\" /></svg>',\n   // Not currently used\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>',\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>'\n});\n// EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\nvar en = __webpack_require__(2);\nvar en_default = /*#__PURE__*/__webpack_require__.n(en);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util_util = {\r\n    _d: document,\r\n    _w: window,\r\n    isIE: window.navigator.userAgent.match(/(MSIE|Trident.*rv[ :])([0-9]+)/) !== null,\r\n    isIE_Edge: (window.navigator.userAgent.match(/(MSIE|Trident.*rv[ :])([0-9]+)/) !== null) || (window.navigator.appVersion.indexOf('Edge') > -1),\r\n\r\n    /**\r\n     * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n     * @param {String} text \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _tagConvertor: function (text) {\r\n        const ec = {'b': 'strong', 'i': 'em', 'ins': 'u', 'strike': 'del', 's': 'del'};\r\n        return text.replace(/(<\\/?)(b|strong|i|em|ins|u|s|strike|del)\\b\\s*(?:[^>^<]+)?\\s*(?=>)/ig, function (m, t, n) {\r\n            return t + ((typeof ec[n] === 'string') ? ec[n] : n);\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: '\\u200B',\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n        \r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n            \r\n            for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                cssText += rules[c].cssText;\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        if (element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName))) return true;\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI)\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return (element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TD|TH)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD)\r\n     * * Range format element is wrap the format element  (util.isFormatElement)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return (element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)')));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE)\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * Free format elements is included in the format element.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return (element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(element className - \".se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(element className - \".se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl) {\r\n        if (copyEl.style.cssText) {\r\n            originEl.style.cssText += copyEl.style.cssText;\r\n        }\r\n\r\n        const classes = copyEl.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            this.addClass(originEl, classes[i]);\r\n        }\r\n\r\n        if (!originEl.style.cssText) originEl.removeAttribute('style');\r\n        if (!originEl.className.trim()) originEl.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Object}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n        \r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n        \r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return null;\r\n        \r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return null;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - wysiwyg.scrollTop) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        }\r\n        else {\r\n            element.className += ' ' + className;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\r\n    toggleDisabledButtons: function (disabled, buttonList) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            buttonList[i].disabled = disabled;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n        try {\r\n            item.remove();\r\n        } catch (e) {\r\n            item.parentNode.removeChild(item);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util_util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util_util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n        \r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n        \r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n        \r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        const bp = baseNode.parentNode;\r\n        let index = 0, newEl, children, temp;\r\n        let next = true;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + 1;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util_util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                }\r\n                newEl.appendChild(temp);\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n        \r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        let offsets = null;\r\n        if (nodePathArray && nodePathArray.length > 0) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathArray.length)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n            \r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathArray) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n in nodePathArray) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathArray) {\r\n                            let path = null;\r\n                            for (let n in nodePathArray) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathArray) {\r\n                            let path = null;\r\n                            for (let n in nodePathArray) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n                    \r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || current.getAttribute('contenteditable') === 'false') return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) element.innerHTML = '<br>';\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.trim(); });\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element.nodeType !== 3 && (element.getAttribute('contenteditable') === 'false' || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element.nodeType !== 3 && /^(a|label)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Check not Allowed tags\r\n     * @param {Node} element Element to check\r\n     * @private\r\n     */\r\n    _notAllowedTags: function (element) {\r\n        return  /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?(\" + (?!\\\\b list[i] \\\\b) + \")[^>^<])+>\", \"g\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        const exclusionTags = list.split('|');\r\n        let regStr = '<\\\\/?(';\r\n\r\n        for (let i = 0, len = exclusionTags.length; i < len; i++) {\r\n            regStr += '(?!\\\\b' + exclusionTags[i] + '\\\\b)';\r\n        }\r\n\r\n        regStr += '[^>^<])+>';\r\n\r\n        return new RegExp(regStr, 'g');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\r\n        // empty whitelist\r\n        const emptyWhitelistTags = [];\r\n        // wrong position\r\n        const wrongTags = this.getListChildren(documentFragment, function (current) {\r\n            if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0) {\r\n                emptyWhitelistTags.push(current);\r\n                return false;\r\n            }\r\n            return current.parentNode !== documentFragment &&\r\n             (this.isFormatElement(current) || this.isComponent(current) || this.isList(current) || (((this.isMedia(current) && !this.isAnchor(current.parentNode)) || (this.isMedia(current.firstElementChild) && this.isAnchor(current))) && !this.getParentElement(current, this.isComponent))) &&\r\n              !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode);\r\n        }.bind(this));\r\n\r\n        for (let i in emptyWhitelistTags) {\r\n            this.removeItem(emptyWhitelistTags[i]);\r\n        }\r\n        \r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, tp; i < len; i++) {\r\n            t = wrongTags[i];\r\n            tp = t.parentNode;\r\n            tp.parentNode.insertBefore(t, tp);\r\n            checkTags.push(tp);\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        // remove empty tags\r\n        const emptyTags = this.getListChildren(documentFragment, function (current) {\r\n            return (!this.isTable(current) && !this.isListCell(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && !util_util.getParentElement(current, '.katex');\r\n        }.bind(this));\r\n\r\n        for (let i in emptyTags) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        // wrong list\r\n        const wrongList = this.getListChildren(documentFragment, function (current) {\r\n            return this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current);\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children; i < len; i++) {\r\n            t = wrongList[i];\r\n\r\n            tp = this.createElement('LI');\r\n            children = t.childNodes;\r\n            while (children[0]) {\r\n                tp.appendChild(children[0]);\r\n            }\r\n            \r\n            t.parentNode.insertBefore(tp, t);\r\n            this.removeItem(t);\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        return optionStyle;\r\n    }\r\n};\r\n\r\n/* harmony default export */ var lib_util = (util_util);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ var lib_constructor = ({\r\n    icons: null,\r\n    /**\r\n     * @description document create - call _createToolBar()\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor';\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options.lang);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + this.icons.line_break + '</button>';\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(wysiwyg_div);\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _icons: this.icons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode;\r\n        const isNewPlugins = !!mergeOptions.plugins;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), (isNewPlugins ? mergeOptions.plugins : plugins), mergeOptions.lang);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            relative.replaceChild(tool_bar.element, el.toolbar);\r\n            el.toolbar = tool_bar.element;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n\r\n        editorArea.removeChild(el.wysiwygFrame);\r\n        editorArea.removeChild(el.code);\r\n        editorArea.appendChild(wysiwygFrame);\r\n        editorArea.appendChild(code);\r\n\r\n        if (el.placeholder) editorArea.removeChild(el.placeholder);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        return {\r\n            callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\r\n            plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.width = options.width;\r\n        topDiv.style.minWidth = options.minWidth;\r\n        topDiv.style.maxWidth = options.maxWidth;\r\n        topDiv.style.display = options.display;\r\n        if (typeof options.position === 'string') topDiv.style.position = options.position;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' sun-editor-editable';\r\n        } else {\r\n            const cssTags = (function () {\r\n                const linkNames = options.iframeCSSFileName;\r\n                let tagString = '';\r\n\r\n                for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n                    path = [];\r\n\r\n                    if (/^https?:\\/\\//.test(linkNames[f])) {\r\n                        path.push(linkNames[f]);\r\n                    } else {\r\n                        const CSSFileName = new RegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n        \r\n                        for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                            styleTag = c[i].href.match(CSSFileName);\r\n                            if (styleTag) path.push(styleTag[0]);\r\n                        }\r\n                    }\r\n        \r\n                    if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n        \r\n                    for (let i = 0, len = path.length; i < len; i++) {\r\n                        tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n                    }\r\n                }\r\n\r\n                return tagString;\r\n            })() + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.addEventListener('load', function () {\r\n                this.setAttribute('scrolling', 'auto');\r\n                this.contentDocument.head.innerHTML = '' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title></title>' + \r\n                    cssTags;\r\n                this.contentDocument.body.className = 'sun-editor-editable';\r\n                this.contentDocument.body.setAttribute('contenteditable', true);\r\n            });\r\n        }\r\n        \r\n        wysiwygDiv.style.cssText = lib_util._setDefaultOptionStyle(options);\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.display = 'none';\r\n\r\n        textarea.style.height = options.height;\r\n        textarea.style.minHeight = options.minHeight;\r\n        textarea.style.maxHeight = options.maxHeight;\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** user options */\r\n        options.lang = options.lang || en_default.a;\r\n        /** Whitelist */\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup';\r\n        options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\r\n        options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.toolbarWidth = options.toolbarWidth ? (lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.stickyToolbar = /balloon/i.test(options.mode) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1);\r\n        // options.fullPage = options.fullPage;\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** Display */\r\n        // options.position = options.position;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (lib_util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (lib_util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = lib_util._setDefaultOptionStyle(options) + (typeof options.defaultStyle === 'string' ? options.defaultStyle : '');\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = options.imageUploadUrl || null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (lib_util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        /** Math (katex) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        /** Buttons */\r\n        options.buttonList = options.buttonList || [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** --- Define icons --- */\r\n        this.icons = (!options.icons || typeof options.icons !== 'object') ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @private\r\n     */\r\n    _defaultButtons: function (lang) {\r\n        const icons = this.icons;\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + ' (CTRL+B)', 'STRONG', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + ' (CTRL+U)', 'U', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + ' (CTRL+I)', 'EM', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + ' (CTRL+SHIFT+S)', 'DEL', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + ' (CTRL+])', 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + ' (CTRL+[)', 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + ' (CTRL+Z)', 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + ' (CTRL+Y / CTRL+SHIFT+Z)', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', icons.align_left],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function (oneModule) {\r\n        const oDiv = lib_util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module' + (oneModule ? '' : ' se-btn-module-border');\r\n\r\n        const oUl = lib_util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled) {\r\n        const oLi = lib_util.createElement('LI');\r\n        const oButton = lib_util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array} lang option.lang\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, lang) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        /** create button list */\r\n        const defaultButtonList = this._defaultButtons(lang);\r\n        const pluginCallButtons = {};\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const oneModule = buttonList.length === 1;\r\n\r\n        for (let i = 0; i < buttonList.length; i++) {\r\n\r\n            const buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup(oneModule);\r\n\r\n            /** button object */\r\n            if (typeof buttonGroup === 'object') {\r\n                for (let j = 0; j < buttonGroup.length; j++) {\r\n\r\n                    button = buttonGroup[j];\r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        module = defaultButtonList[button];\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5]);\r\n                    moduleElement.ul.appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n                }\r\n\r\n                if (vertical) tool_bar.appendChild(separator_vertical.cloneNode(false));\r\n                tool_bar.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                tool_bar.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons\r\n        };\r\n    }\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: options.iframe ? cons._wysiwygArea.contentDocument.body : cons._wysiwygArea,\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('._se_command_bold'),\r\n            underline: cons._toolBar.querySelector('._se_command_underline'),\r\n            italic: cons._toolBar.querySelector('._se_command_italic'),\r\n            strike: cons._toolBar.querySelector('._se_command_strike'),\r\n            subscript: cons._toolBar.querySelector('._se_command_subscript'),\r\n            superscript: cons._toolBar.querySelector('._se_command_superscript'),\r\n            undo: cons._toolBar.querySelector('._se_command_undo'),\r\n            redo: cons._toolBar.querySelector('._se_command_redo'),\r\n            save: cons._toolBar.querySelector('._se_command_save'),\r\n            outdent: cons._toolBar.querySelector('._se_command_outdent'),\r\n            indent: cons._toolBar.querySelector('._se_command_indent')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\n/* harmony default export */ var lib_context = (_Context);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var lib_history = (function (core, change) {\n    const _w = window;\n    const editor = core.context.element;\n    const util = core.util;\n    const undo = core.context.tool.undo;\n    const redo = core.context.tool.redo;\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack () {\n        const item = stack[stackIndex];\n        editor.wysiwyg.innerHTML = item.contents;\n\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n        core.focus();\n\n        if (stackIndex === 0) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.removeAttribute('disabled');\n        } else if (stackIndex === stack.length - 1) {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.setAttribute('disabled', true);\n        } else {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.removeAttribute('disabled');\n        }\n\n        core.controllersOff();\n        core._checkComponents();\n        core._charCount('');\n        core._resourcesStateChange();\n        \n        // onChange\n        change();\n    }\n\n    function pushStack () {\n        core._checkComponents();\n        const current = core.getContents(true);\n        if (!!stack[stackIndex] && current === stack[stackIndex].contents) return;\n\n        stackIndex++;\n        const range = core._variable._range;\n\n        if (stack.length > stackIndex) {\n            stack = stack.slice(0, stackIndex);\n            if (redo) redo.setAttribute('disabled', true);\n        }\n\n        if (!range) {\n            stack[stackIndex] = {\n                contents: current,\n                s: { path: [0, 0], offset: [0, 0] },\n                e: { path: 0, offset: 0 }\n            };\n        } else {\n            stack[stackIndex] = {\n                contents: current,\n                s: {\n                    path: util.getNodePath(range.startContainer, null, null),\n                    offset: range.startOffset\n                },\n                e: {\n                    path: util.getNodePath(range.endContainer, null, null),\n                    offset: range.endOffset\n                }\n            };\n        }\n\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n        core._charCount('');\n        // onChange\n        change();\n    }\n\n    return {\n        /**\n         * @description History stack\n         */\n        stack: stack,\n\n        /**\n         * @description Saving the current status to the history object stack\n         * If \"delay\" is true, it will be saved after 500 miliseconds\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n         * You can specify the delay time by sending a number.\n         * @param {Boolean|Number} delay If true, delays 400 milliseconds\n         */\n        push: function (delay) {\n            _w.setTimeout(core._resourcesStateChange);\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : 400);\n            \n            if (!time || pushDelay) {\n                _w.clearTimeout(pushDelay);\n                if (!time) {\n                    pushStack();\n                    return;\n                }\n            }\n\n            pushDelay = _w.setTimeout(function () {\n                _w.clearTimeout(pushDelay);\n                pushDelay = null;\n                pushStack();\n            }, time);\n        },\n\n        /**\n         * @description Undo function\n         */\n        undo: function () {\n            if (stackIndex > 0) {\n                stackIndex--;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Redo function\n         */\n        redo: function () {\n            if (stack.length - 1 > stackIndex) {\n                stackIndex++;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Go to the history stack for that index.\n         * If \"index\" is -1, go to the last stack\n         * @param {Number} index Stack index\n         */\n        go: function (index) {\n            stackIndex = index < 0 ? (stack.length - 1) : index;\n            setContentsFromStack();\n        },\n        \n        /**\n         * @description Reset the history object\n         */\n        reset: function (ignoreChangeEvent) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.setAttribute('disabled', true);\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            \n            stack.splice(0);\n            stackIndex = 0;\n\n            // pushStack\n            stack[stackIndex] = {\n                contents: core.getContents(true),\n                s: {\n                    path: [0, 0],\n                    offset: 0\n                },\n                e: {\n                    path: [0, 0],\n                    offset: 0\n                }\n            };\n\n            if (!ignoreChangeEvent) change();\n        },\n\n        /**\n         * @description Remove all stacks and remove the timeout function.\n         * @private\n         */\n        _destroy: function () {\n            if (pushDelay) _w.clearTimeout(pushDelay);\n            stack = null;\n        }\n    };\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var _notice = ({\n    name: 'notice',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        const context = core.context;\n        context.notice = {};\n\n        /** dialog */\n        let notice_div = core.util.createElement('DIV');\n        let notice_span = core.util.createElement('SPAN');\n        let notice_button = core.util.createElement('BUTTON');\n\n        notice_div.className = 'se-notice';\n        notice_button.className = 'close';\n        notice_button.setAttribute('aria-label', 'Close');\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\n        notice_button.innerHTML = core.icons.cancel;\n        \n        notice_div.appendChild(notice_span);\n        notice_div.appendChild(notice_button);\n\n        context.notice.modal = notice_div;\n        context.notice.message = notice_span;\n\n        /** add event listeners */\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n        \n        /** append html */\n        context.element.relative.insertBefore(notice_div, context.element.editorArea);\n        \n        /** empty memory */\n        notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function (text)  {\n        this.context.notice.message.textContent = text;\n        this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function () {\n        this.context.notice.modal.style.display = 'none';\n    }\n});\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _icons\r\n * @returns {Object} functions Object\r\n */\r\n/* harmony default export */ var lib_core = (function (context, pluginCallButtons, plugins, lang, options, _icons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = lib_util;\r\n    const icons = _icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n        \r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current resizing component name\r\n         * @private\r\n         */\r\n        _resizingName: '',\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description An user event function before image uploaded\r\n         * @private\r\n         */\r\n        _imageUploadBefore: function (files, info) {\r\n            if (typeof functions.onImageUploadBefore === 'function') return functions.onImageUploadBefore(files, info, this);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description An user event function when image info is changed\r\n         * @private\r\n         */\r\n        _imageUpload: function (targetElement, index, state, imageInfo, remainingFilesCount) {\r\n            if (typeof functions.onImageUpload === 'function') functions.onImageUpload(targetElement, index * 1, state, imageInfo, remainingFilesCount, this);\r\n        },\r\n\r\n        /**\r\n         * @description An user event function when image upload failed\r\n         * @private\r\n         */\r\n        _imageUploadError: function (errorMessage, result) {\r\n            if (typeof functions.onImageUploadError === 'function') return functions.onImageUploadError(errorMessage, result, this);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description An user callback function of the image upload\r\n         * @private\r\n         */\r\n        _imageUploadHandler: function (response, info) {\r\n            if (typeof functions.imageUploadHandler === 'function') {\r\n                functions.imageUploadHandler(response, info, this);\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description An user event function when video info is changed\r\n         * @private\r\n         */\r\n        _videoUpload: function (targetElement, index, state, videoInfo, remainingFilesCount) {\r\n            if (typeof functions.onVideoUpload === 'function') functions.onVideoUpload(targetElement, index * 1, state, videoInfo, remainingFilesCount, this);\r\n        },\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Plugins array with \"checkComponentInfo\" and \"resetComponentInfo\" methods.\r\n         * \"componentInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkComponentInfo\" method is always call just before the \"change\" event.\r\n         */\r\n        componentInfoPlugins: null,\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: null,\r\n\r\n        /**\r\n         * @description Map of default command\r\n         * @private\r\n         */\r\n        _defaultCommand: {\r\n            bold: 'STRONG',\r\n            underline: 'U',\r\n            italic: 'EM',\r\n            strike: 'DEL',\r\n            subscript: 'SUB',\r\n            superscript: 'SUP'\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (4)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 4,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]){\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n                \r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                target.parentNode.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n\r\n            this.submenu = element.nextElementSibling;\r\n            this.submenu.style.top = '-10000px';\r\n            this.submenu.style.visibility = 'hidden';\r\n            this.submenu.style.display = 'block';\r\n            util.addClass(element, 'on');\r\n            this.submenuActiveButton = element;\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const menuW = this.submenu.offsetWidth;\r\n            const overLeft = toolbarW <= menuW ? 0 : toolbarW - (element.parentElement.offsetLeft + menuW);\r\n            if (overLeft < 0) this.submenu.style.left = overLeft + 'px';\r\n            else this.submenu.style.left = '1px';\r\n\r\n\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            const space = t + this.submenu.offsetHeight - context.element.wysiwyg.offsetHeight + 3;\r\n            if (space > 0 && event._getPageBottomSpace() < space) {\r\n                this.submenu.style.top = (-1 * (this.submenu.offsetHeight + 3)) + 'px';\r\n            } else {\r\n                this.submenu.style.top = '';\r\n            }\r\n\r\n            this.submenu.style.visibility = '';\r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Enabled container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n\r\n            this.container = element.nextElementSibling;\r\n            this.container.style.display = 'block';\r\n            util.addClass(element, 'on');\r\n            this.containerActiveButton = element;\r\n\r\n            const toolbarW = this.context.element.toolbar.offsetWidth;\r\n            const menuW = this.container.offsetWidth;\r\n            const overLeft = toolbarW <= menuW ? 0 : toolbarW - (element.parentElement.offsetLeft + menuW);\r\n            if (overLeft < 0) this.container.style.left = overLeft + 'px';\r\n            else this.container.style.left = '1px';\r\n\r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) {\r\n                const tempName = this._resizingName;\r\n                this._bindControllersOff();\r\n                this._resizingName = tempName;\r\n            }\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray[i] = arg;\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    continue;\r\n                }\r\n                if (arg.style) arg.style.display = 'block';\r\n                this.controllerArray[i] = arg;\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            if (this._resizingName && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n\r\n            this._resizingName = '';\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            const len = this.controllerArray.length;\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean} showDefaultUI javascript execCommand function property\r\n         * @param {String} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const format = util.createElement('P');\r\n                        const br = util.createElement('BR');\r\n                        format.appendChild(br);\r\n                        this.setRange(br, 0, br, 0);\r\n                    } else {\r\n                        this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                    }\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (core._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            if (util.isComponent(focusEl)) {\r\n                const imageComponent = focusEl.querySelector('IMG');\r\n                const videoComponent = focusEl.querySelector('IFRAME');\r\n    \r\n                if (imageComponent) {\r\n                    this.selectComponent(imageComponent, 'image');\r\n                } else if (videoComponent) {\r\n                    this.selectComponent(videoComponent, 'video');\r\n                }\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.nativeFocus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n            if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            \r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                this.nativeFocus();\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n            if (options.iframe) this.nativeFocus();\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            this.getSelection().removeAllRanges();\r\n\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                }\r\n                else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                }\r\n                else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                }\r\n                else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            return this._variable._range || this._createDefaultRange();\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            return this._ww.getSelection();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if (!this._variable._selectionNode || util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\r\n            return this._variable._selectionNode || context.element.wysiwyg.firstChild;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = this.getSelection();\r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            }\r\n            else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            context.element.wysiwyg.focus();\r\n            const range = this._wd.createRange();\r\n            if (!context.element.wysiwyg.firstChild) this.execCommand('formatBlock', false, 'P');\r\n\r\n            range.setStart(context.element.wysiwyg.firstChild, 0);\r\n            range.setEnd(context.element.wysiwyg.firstChild, 0);\r\n            \r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff];\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff];\r\n                endOff = 0;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n\r\n                if (children.length === 0) return null;\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n            \r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n            \r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ? \r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n            \r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset) {\r\n            return (offset === 0) || (!container.nodeValue && offset === 1) || (offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : 'P';\r\n            const oFormat = util.createElement(oFormatName);\r\n            oFormat.innerHTML = '<br>';\r\n\r\n            if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element. (used elements : table, hr, image, video)\r\n         * This method is add the element next line and insert the new line.\r\n         * When used in a tag in \"LI\", it is inserted into the LI tag.\r\n         * Returns the first node of next line added.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush) {\r\n            const r = this.removeNode();\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                if (/^HR$/i.test(element.nodeName)) {\r\n                    const newLi = util.createElement('LI');\r\n                    const textNode = util.createTextNode(util.zeroWidthSpace);\r\n                    newLi.appendChild(element);\r\n                    newLi.appendChild(textNode);\r\n                    formatEl.parentNode.insertBefore(newLi, formatEl.nextElementSibling);\r\n                    this.setRange(textNode, 1, textNode, 1);\r\n                } else {\r\n                    this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling);\r\n                    if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n                    oNode = util.createElement('LI');\r\n                    formatEl.parentNode.insertBefore(oNode, formatEl.nextElementSibling);\r\n                }\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n\r\n                this.insertNode(element, formatEl);\r\n                if (!oNode) oNode = this.appendFormatTag(element, util.isFormatElement(formatEl) ? formatEl : null);\r\n            }\r\n\r\n            const edgeNode = util.getEdgeChildNodes(oNode, null).sc;\r\n            oNode = edgeNode || oNode;\r\n            this.setRange(oNode, 0, oNode, 0);\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img or iframe)\r\n         * @param {String} componentName Component name (image or video)\r\n         */\r\n        selectComponent: function (element, componentName) {\r\n            if (componentName === 'image') {\r\n                if (!core.plugins.image) return;\r\n\r\n                core.removeRange();\r\n                core.callPlugin('image', function () {\r\n                    const size = core.plugins.resizing.call_controller_resize.call(core, element, 'image');\r\n                    core.plugins.image.onModifyMode.call(core, element, size);\r\n                    \r\n                    if (!util.getParentElement(element, '.se-image-container')) {\r\n                        core.plugins.image.openModify.call(core, true);\r\n                        core.plugins.image.update_image.call(core, true, true, true);\r\n                    }\r\n                }, null);\r\n            } else if (componentName === 'video') {\r\n                if (!core.plugins.video) return;\r\n\r\n                core.removeRange();\r\n                core.callPlugin('video', function () {\r\n                    const size = core.plugins.resizing.call_controller_resize.call(core, element, 'video');\r\n                    core.plugins.video.onModifyMode.call(core, element, size);\r\n                }, null);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @returns {undefined|Object}\r\n         */\r\n        insertNode: function (oNode, afterNode) {\r\n            const isComp = util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || util.isComponent(oNode);\r\n\r\n            if (!afterNode && isComp) {\r\n                const r = this.removeNode();\r\n                if (r.container.nodeType === 3 || util.isBreak(r.container)) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (afterNode) afterNode = afterNode.previousSibling;\r\n                }\r\n            }\r\n\r\n            const range = this.getRange();\r\n            const startCon = range.startContainer;\r\n            const startOff = range.startOffset;\r\n            const endCon = range.endContainer;\r\n            const endOff = range.endOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n            let parentNode, originAfter = null;\r\n\r\n            if (!afterNode) {\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                        else afterNode = commonCon.nextSibling;\r\n                    } else {\r\n                        if (!util.isBreak(parentNode)) {\r\n                            let c = parentNode.childNodes[startOff];\r\n                            const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                            if (focusNode) {\r\n                                if (!focusNode.nextSibling) {\r\n                                    parentNode.removeChild(focusNode);\r\n                                    afterNode = null;\r\n                                } else {\r\n                                    afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = parentNode;\r\n                            parentNode = parentNode.parentNode;\r\n                        }\r\n                    }\r\n                } else { /** Select range nodes */\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                        else afterNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                        if (parentNode.childNodes.length === 0 && isComp) {\r\n                            parentNode.innerHTML = '<br>';\r\n                        }\r\n                    }\r\n                    else {\r\n                        const removedTag = this.removeNode();\r\n                        const container = removedTag.container;\r\n                        const prevContainer = removedTag.prevContainer;\r\n                        if (container && container.childNodes.length === 0 && isComp) {\r\n                            if (util.isFormatElement(container)) {\r\n                                container.innerHTML = '<br>';\r\n                            } else if (util.isRangeFormatElement(container)) {\r\n                                container.innerHTML = '<p><br></p>';\r\n                            }\r\n                        }\r\n\r\n                        if (!isComp && prevContainer) {\r\n                            parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                            if (parentNode.contains(container)) {\r\n                                afterNode = container;\r\n                                while (afterNode.parentNode === parentNode) {\r\n                                    afterNode = afterNode.parentNode;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            parentNode = isComp ? commonCon : container;\r\n                            afterNode = isComp ? endCon : null;\r\n                        }\r\n\r\n                        while (afterNode && afterNode.parentNode !== commonCon) {\r\n                            afterNode = afterNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // has afterNode\r\n            else {\r\n                parentNode = afterNode.parentNode;\r\n                afterNode = afterNode.nextSibling;\r\n                originAfter = true;\r\n            }\r\n\r\n            // --- insert node ---\r\n            try {\r\n                if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                    const oldParent = parentNode;\r\n                    if (util.isList(afterNode)) {\r\n                        parentNode = afterNode;\r\n                        afterNode = null;\r\n                    } else if (!originAfter && !afterNode) {\r\n                        const r = this.removeNode();\r\n                        const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                        const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                        parentNode = rangeCon ? container : container.parentNode;\r\n                        afterNode = rangeCon ? null : container.nextSibling;\r\n                    }\r\n\r\n                    if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                }\r\n\r\n                if (isComp && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                    afterNode = parentNode.nextElementSibling;\r\n                    parentNode = parentNode.parentNode;\r\n                }\r\n                parentNode.insertBefore(oNode, afterNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            } finally {\r\n                let offset = 1;\r\n                if (oNode.nodeType === 3) {\r\n                    const previous = oNode.previousSibling;\r\n                    const next = oNode.nextSibling;\r\n                    const previousText = (!previous ||  previous.nodeType !== 3 || util.onlyZeroWidthSpace(previous)) ? '' : previous.textContent;\r\n                    const nextText = (!next || next.nodeType !== 3 || util.onlyZeroWidthSpace(next)) ? '' : next.textContent;\r\n    \r\n                    if (previous && previousText.length > 0) {\r\n                        oNode.textContent = previousText + oNode.textContent;\r\n                        util.removeItem(previous);\r\n                    }\r\n    \r\n                    if (next && next.length > 0) {\r\n                        oNode.textContent += nextText;\r\n                        util.removeItem(next);\r\n                    }\r\n\r\n                    return {\r\n                        startOffset: previousText.length,\r\n                        endOffset: oNode.textContent.length - nextText.length\r\n                    };\r\n                } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\r\n                    let zeroWidth = null;\r\n                    if (!oNode.previousSibling) {\r\n                        zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                        oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                    }\r\n                    if (!oNode.nextSibling) {\r\n                        zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                        oNode.parentNode.appendChild(zeroWidth);\r\n                    }\r\n\r\n                    if (util._isIgnoreNodeChange(oNode)) {\r\n                        oNode = oNode.nextSibling;\r\n                        offset = 0;\r\n                    }\r\n                }\r\n\r\n                this.setRange(oNode, offset, oNode, offset);\r\n\r\n                // history stack\r\n                this.history.push(true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            const range = this.getRange();\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n    \r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon)) {\r\n                        return {\r\n                            container: startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            function remove (item) {\r\n                const format = util.getFormatElement(item, null);\r\n                util.removeItem(item);\r\n\r\n                if(util.isListCell(format)) {\r\n                    const list = util.getArrayItem(format.children, util.isList, false);\r\n                    if (list) {\r\n                        const child = list.firstElementChild;\r\n                        const children = child.childNodes;\r\n                        while (children[0]) {\r\n                            format.insertBefore(children[0], list);\r\n                        }\r\n                        util.removeItemAllParents(child, null, null);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    remove(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        remove(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        remove(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                remove(item);\r\n            }\r\n\r\n            container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n            \r\n            if (!util.isWysiwygDiv(container)) {\r\n                const rc = util.removeItemAllParents(container, null, null);\r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: startCon && startCon.parentNode ? startCon : null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n            \r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n            \r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                }\r\n                else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n                    \r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            }\r\n            // basic\r\n            else {\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            const so = range.startOffset;\r\n            const eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n            \r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n                \r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                }\r\n                else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : 'P');\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n    \r\n                            if (selectedFormats) {\r\n                                lastNode = insNode;\r\n                                if (!firstNode) {\r\n                                    firstNode = insNode;\r\n                                }\r\n                            } else if (!firstNode) {\r\n                                firstNode = lastNode = insNode;\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n                    } else {\r\n                        reset = moveComplete = false;\r\n                        children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                        rangeEl = rangeElement.cloneNode(false);\r\n                        parent = rangeElement.parentNode;\r\n                        i = -1;\r\n                        len = children.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n            \r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    ec: rangeRight,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    ec: childEdge.ec\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n            \r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            let range = this.getRange();\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n\r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && startCon.getAttribute('contenteditable') === 'false')) {\r\n                return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            startCon.removeChild(focusNode);\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff];\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff];\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n                \r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new _w.RegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n    \r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n    \r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new _w.RegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new _w.RegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new _w.RegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (_w.Boolean(styleRegExp) !== _w.Boolean(originStyle)) || (_w.Boolean(classRegExp) !== _w.Boolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            \r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr, _isMaintainedNode) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (_isMaintainedNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray, util._isMaintainedNode));\r\n\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n                if (start.container === end.container && util.zeroWidthRegExp.test(start.container.textContent)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n            }\r\n            // multi line \r\n            else {\r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1; i > 0; i--) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n            \r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Boolean} isRemove Delete maintained tag\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (isRemove, element) {\r\n            return element && !isRemove ? this.getParentElement(element, function (current) {return this._isMaintainedNode(current);}.bind(this)) : null;\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Boolean} isRemove Delete maintained tag\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (isRemove, element) {\r\n            return element && !isRemove && element.nodeType !== 3 && this._isMaintainedNode(element);\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n    \r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n    \r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n        \r\n                        return {\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            function checkCss (vNode) {\r\n                const regExp = new _w.RegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, \r\n                                isSameNode ? \r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) : \r\n                                startContainer.data.length - startOffset)\r\n                            );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (vNode) {\r\n                                    if (_isMaintainedNode(vNode)) {\r\n                                        if (!anchorNode) anchors.push(vNode);\r\n                                    } else {\r\n                                        pCurrent.push(vNode);\r\n                                    }\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n                    \r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n                \r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(vNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    container: startCon,\r\n                    offset: startOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n                        pNode.appendChild(child.cloneNode(true));\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return;\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n            \r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(vNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        \r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null);\r\n                    return {\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n                \r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/submenu/.test(display) && (target.nextElementSibling === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/container/.test(display) && (target.nextElementSibling === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                }                \r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (undo, redo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n         * @param {Element} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'selectAll':\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    const first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    const last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    this.setRange(first, 0, last, last.textContent.length);\r\n                    this.focus();\r\n                    break;\r\n                case 'codeView':\r\n                    util.toggleClass(target, 'active');\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    util.toggleClass(target, 'active');\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    util.toggleClass(target, 'active');\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false));\r\n                    } else if (typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'\r\n                    command = this._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const btn = util.hasClass(this.commandMap[command], 'active') ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && util.hasClass(this.commandMap.SUP, 'active')) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && util.hasClass(this.commandMap.SUB, 'active')) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(btn, null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style.marginLeft) ? util.getNumber(f.style.marginLeft, 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, 'marginLeft', (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            util.toggleClass(context.element.wysiwyg, 'se-show-block');\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.toggleDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n                \r\n                this._variable.isCodeView = false;\r\n                \r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();    \r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n                \r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n                \r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n                const headChildren = parseDocument.head.children;\r\n\r\n                for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                    if (/script/i.test(headChildren[i].tagName)) {\r\n                        parseDocument.head.removeChild(headChildren[i]);\r\n                        i--, len--;\r\n                    }\r\n                }\r\n\r\n                this._wd.head.innerHTML = parseDocument.head.innerHTML;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) util.addClass(this._wd.body, 'sun-editor-editable');\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<p><br></p>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n                \r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ( true && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = _var.innerHeight_fullScreen + 'px';\r\n\r\n                util.changeElement(element.querySelector('svg'), icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n            }\r\n            else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n\r\n                event.onScroll_window();\r\n                util.changeElement(element.querySelector('svg'), icons.expansion);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const contentsHTML = this.getContents(true);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>' + util.getPageStyle(wDoc) + '</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const contents = util.createElement('DIV');\r\n                const style = util.createElement('STYLE');\r\n\r\n                style.innerHTML = util.getPageStyle(wDoc);\r\n                contents.className = 'sun-editor-editable';\r\n                contents.innerHTML = contentsHTML;\r\n\r\n                printDocument.head.appendChild(style);\r\n                printDocument.body.appendChild(contents);\r\n            }\r\n\r\n            try {\r\n                iframe.focus();\r\n                // IE or Edge\r\n                if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\r\n                    try {\r\n                        iframe.contentWindow.document.execCommand('print', false, null);\r\n                    } catch (e) {\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } else {\r\n                    // Other browsers\r\n                    iframe.contentWindow.print();\r\n                }\r\n            } catch (error) {\r\n                throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n            } finally {\r\n                util.removeItem(iframe);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            const contentsHTML = this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow: auto !important;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    '<style>' + util.getPageStyle(wDoc) + '</style>' +\r\n                    '</head>' +\r\n                    '<body class=\"sun-editor-editable\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            const convertValue = this.convertContentsForEditor(html);\r\n            this._resetComponents();\r\n\r\n            if (!core._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                // history stack\r\n                core.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue);\r\n                core._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = context.element.wysiwyg.innerHTML;\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = util.getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\", \"convertContentsForEditor\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (util._notAllowedTags(node)) return '';\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return node.outerHTML;\r\n                } else {\r\n                    return '<p>' + node.outerHTML + '</p>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return node.textContent;\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<p>' + text + '</p>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<__comment__>' + node.textContent.trim() + '</__comment__>';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist) {\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._notAllowedTags(t)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], requireFormat);\r\n            }\r\n\r\n            cleanHTML = cleanHTML\r\n                .replace(/\\n/g, '')\r\n                .replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/g, '')\r\n                .replace(this.editorTagsWhitelistRegExp, '')\r\n                .replace(/<__comment__>/g, '<!-- ')\r\n                .replace(/<\\/__comment__>/g, ' -->')\r\n                .replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\r\n                    let v = null;\r\n                    const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z]+/)[0].toLowerCase()];\r\n                    if (tAttr) v = m.match(tAttr);\r\n                    else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n                    if (v) {\r\n                        for (let i = 0, len = v.length; i < len; i++) {\r\n                            if (/^class=\"(?!(__se__|se-))/.test(v[i])) continue;\r\n                            t += ' ' + v[i];\r\n                        }\r\n                    }\r\n\r\n                    return t;\r\n                }.bind(this));\r\n            \r\n            if (!this._attributesTagsWhitelist.span) cleanHTML = cleanHTML.replace(/<\\/?(span[^>^<]*)>/g, '');\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            \r\n            return util._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            const dom = _d.createRange().createContextualFragment(contents);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            let returnHTML = '';\r\n            const domTree = dom.childNodes;\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                returnHTML += this._makeLine(domTree[i], true);\r\n            }\r\n\r\n            if (returnHTML.length === 0) return '<p><br></p>';\r\n\r\n            returnHTML = util.htmlRemoveWhiteSpace(returnHTML);\r\n            returnHTML = returnHTML\r\n                .replace(this.editorTagsWhitelistRegExp, '')\r\n                .replace(/\\n/g, '')\r\n                .replace(/<__comment__>/g, '<!-- ')\r\n                .replace(/<\\/__comment__>/g, ' -->');\r\n\r\n            return util._tagConvertor(returnHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html) {\r\n            let returnHTML = '';\r\n            const reg = _w.RegExp;\r\n            const brReg = new reg('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const isFormatElement = util.isFormatElement.bind(util);\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n\r\n            let indentSize = this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent, lineBR) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? '\\n' : '';\r\n                    lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        returnHTML += util._HTMLConvertor((/^\\n+$/.test(node.data) ? '' : node.data));\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^(HR)$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n                    \r\n                    node.innerHTML = node.innerHTML;\r\n                    const tag = node.nodeName.toLowerCase();\r\n                    returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(reg('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                    recursionFunc(node, indent + indentSize, '');\r\n                    returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' :  false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\r\n                }\r\n            }(wDoc, '', '\\n'));\r\n\r\n            return returnHTML.trim() + '\\n';\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n         * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const charCounter = context.element.charCounter;\r\n            const maxCharCount = options.maxCharCount;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = core._getCharLength(inputText, options.charCounterType);\r\n\r\n            if (charCounter) {\r\n                _w.setTimeout(function () { charCounter.textContent = functions.getCharCount(null); });\r\n            }\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(null);\r\n                \r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n    \r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    const charWrapper = context.element.charWrapper;\r\n                    if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                        util.addClass(charWrapper, 'se-blink');\r\n                        _w.setTimeout(function () {\r\n                            util.removeClass(charWrapper, 'se-blink');\r\n                        }, 600);\r\n                    }\r\n\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Method used only in \"_charCount\".\r\n         * Depending on the option, the length of the character is taken.\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType option - charCounterType\r\n         * @returns {Number}\r\n         */\r\n        _getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i in this.componentInfoPlugins) {\r\n                this.componentInfoPlugins[i].checkComponentInfo.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i in this.componentInfoPlugins) {\r\n                this.componentInfoPlugins[i].resetComponentInfo.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string when \"reload\" is true\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            if (options.iframe && options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            \r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\r\n            this._htmlCheckWhitelistRegExp = new _w.RegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|__comment__'));\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\r\n\r\n            const _attr = options.attributesWhitelist;\r\n            const tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_attr) {\r\n                for (let k in _attr) {\r\n                    if (k === 'all') {\r\n                        allAttr = _attr[k] + '|';\r\n                    } else {\r\n                        tagsAttr[k] = new _w.RegExp('((?:' + _attr[k] + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n                    }\r\n                }\r\n            }\r\n            \r\n            this._attributesWhitelistRegExp = new _w.RegExp('((?:' + allAttr + 'contenteditable|colspan|rowspan|target|href|src|class|type|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size)\\s*=\\s*\"[^\"]*\")', 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\r\n            this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            this.commandMap = {\r\n                STRONG: context.tool.bold,\r\n                U: context.tool.underline,\r\n                EM: context.tool.italic,\r\n                DEL: context.tool.strike,\r\n                SUB: context.tool.subscript,\r\n                SUP: context.tool.superscript,\r\n                OUTDENT: context.tool.outdent,\r\n                INDENT: context.tool.indent\r\n            };\r\n\r\n            // Command plugins registration\r\n            this.activePlugins = [];\r\n            this.componentInfoPlugins = [];\r\n            let c, button;\r\n            for (let key in plugins) {\r\n                c = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (c.active && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof c.checkComponentInfo === 'function' && typeof c.resetComponentInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this.componentInfoPlugins.push(c);\r\n                }\r\n            }\r\n\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = lib_history(this, event._onChange_historyStack);\r\n\r\n            // Init, validate\r\n            if (!options.iframe) this._initWysiwygArea(reload, _initHTML);\r\n            _w.setTimeout(function () {\r\n                // after iframe loaded\r\n                if (options.iframe) {\r\n                    this._wd = context.element.wysiwygFrame.contentDocument;\r\n                    context.element.wysiwyg = this._wd.body;\r\n                    this._initWysiwygArea(reload, _initHTML);\r\n                    if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n                }\r\n\r\n                this._checkComponents();\r\n                this._componentsInfoInit = false;\r\n                this._componentsInfoReset = false;\r\n                \r\n                this.history.reset(true);\r\n                this._resourcesStateChange();\r\n\r\n                if (typeof functions.onload === 'function') return functions.onload(this, reload);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init())\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string when \"reload\" is true\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            // Default style\r\n            if (options.defaultStyle) context.element.wysiwyg.style.cssText = options.defaultStyle;\r\n\r\n            // Set html\r\n            if (!reload) {\r\n                context.element.wysiwyg.innerHTML = this.convertContentsForEditor(context.element.originElement.value);\r\n            } else if (_initHTML) {\r\n                context.element.wysiwyg.innerHTML = _initHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            core._iframeAutoHeight();\r\n            core._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () { context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px'; });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * Alternative code for - execCommand('formatBlock');\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (!!this._resizingName) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            if (util.getParentElement(commonCon, util.isComponent)) return;\r\n            if((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || 'P');\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n                \r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n                this.setRange(br, 1, br, 1);\r\n            }\r\n\r\n            this.execCommand('formatBlock', false, (formatName || 'P'));\r\n            focusNode = util.getEdgeChildNodes(commonCon, commonCon);\r\n            focusNode = focusNode ? focusNode.ec : commonCon;\r\n\r\n            format = util.getFormatElement(focusNode, null);\r\n            if (!format) {\r\n                this.removeRange();\r\n                this._editorRange();\r\n                return;\r\n            }\r\n            \r\n            if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n            if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n            if (util.isBreak(focusNode)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                focusNode = zeroWidth;\r\n            }\r\n\r\n            offset = focusNode.nodeType === 3 ? focusNode.textContent.length : 1;\r\n            this.effectNode = null;\r\n            this.setRange(focusNode, offset, focusNode, offset);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    command = 'STRONG';\r\n                    break;\r\n                case 'S':\r\n                    if (shift) {\r\n                        command = 'DEL';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    command = 'U';\r\n                    break;\r\n                case 'I':\r\n                    command = 'EM';\r\n                    break;\r\n                case 'Z':\r\n                    if (shift) {\r\n                        command = 'redo';\r\n                    } else {\r\n                        command = 'undo';\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    command = 'redo';\r\n                    break;\r\n                case '[':\r\n                    command = 'outdent';\r\n                    break;\r\n                case ']':\r\n                    command = 'indent';\r\n                    break;\r\n            }\r\n\r\n            if (!command) return false;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = this._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                for (let c = 0, name; c < cLen; c++) {\r\n                    name = activePlugins[c];\r\n                    if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                        commandMapNodes.push(name);\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\r\n                        if (util.isListCell(element) || (element.style.marginLeft && util.getNumber(element.style.marginLeft, 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\r\n                        commandMapNodes.push('INDENT');\r\n                        commandMap.INDENT.setAttribute('disabled', true);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1) continue;\r\n                \r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                }\r\n                else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                }\r\n                else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                }\r\n                else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        onMouseDown_toolbar: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            if (!core.hasFocus) core.nativeFocus();\r\n            if (!core._variable.isCodeView) core._editorRange();\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (context.element.wysiwyg.getAttribute('contenteditable') === 'false') return;\r\n            \r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            if (functions.onMouseDown) functions.onMouseDown(e, core);\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            const targetElement = e.target;\r\n            if (context.element.wysiwyg.getAttribute('contenteditable') === 'false') return;\r\n\r\n            if (/^FIGURE$/i.test(targetElement.nodeName)) {\r\n                const imageComponent = targetElement.querySelector('IMG');\r\n                const videoComponent = targetElement.querySelector('IFRAME');\r\n\r\n                if (imageComponent) {\r\n                    e.preventDefault();\r\n                    core.selectComponent(imageComponent, 'image');\r\n                    return;\r\n                } else if (videoComponent) {\r\n                    e.preventDefault();\r\n                    core.selectComponent(videoComponent, 'video');\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (figcaption && (!figcaption.getAttribute('contenteditable') || figcaption.getAttribute('contenteditable') === 'false')) {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            _w.setTimeout(core._editorRange.bind(core));\r\n            core._editorRange();\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if ((!formatEl || formatEl === rangeEl) && targetElement.getAttribute('contenteditable') !== 'false') {\r\n                if (util.isList(rangeEl)) {\r\n                    const oLi = util.createElement('LI');\r\n                    const prevLi = selectionNode.nextElementSibling;\r\n                    oLi.appendChild(selectionNode);\r\n                    rangeEl.insertBefore(oLi, prevLi);\r\n                } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode)) {\r\n                    core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                }\r\n                e.preventDefault();\r\n                core.focus();\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n            if (functions.onClick) functions.onClick(e, core);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            core._editorRange();\r\n            const range = core.getRange();\r\n            if (core.currentControllerName === 'table' || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n            else event._showToolbarBalloon(range);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            let scrollLeft = 0;\r\n            let scrollTop = 0;\r\n            let el = context.element.topArea;\r\n            while (!!el) {\r\n                scrollLeft += el.scrollLeft;\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const editorWidth = context.element.topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets();\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n            \r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n            \r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n            \r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets().top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (-1 - toolbar.offsetHeight) + 'px';\r\n            \r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            core._editorRange();\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';       \r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (functions.onInput) functions.onInput(e, core);\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92;\r\n            const alt = e.altKey;\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            let selectionNode = core.getSelectionNode();\r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const resizingName = core._resizingName;\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (resizingName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[resizingName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core._setDefaultFormat('P');\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (util.isWysiwygDiv(formatEl.parentNode) && (util.isFormatElement(formatEl) && !util.isFreeFormatElement(formatEl)) && !util.isListCell(formatEl) &&\r\n                     (formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))))) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        formatEl.innerHTML = '<br>';\r\n                        const attrs = formatEl.attributes;\r\n                        while (attrs[0]) {\r\n                            formatEl.removeAttribute(attrs[0].name);\r\n                        }\r\n                        core.nativeFocus();\r\n                        return false;\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\r\n                        if (range.collapsed ? selectionNode.textContent.length === 1 : (range.endOffset - range.startOffset) === selectionNode.textContent.length) {\r\n                            e.preventDefault();\r\n\r\n                            let offset = null;\r\n                            let prev = selectionNode.parentNode.previousSibling;\r\n                            const next = selectionNode.parentNode.nextSibling;\r\n                            if (!prev) {\r\n                                if (!next) {\r\n                                    prev = util.createElement('BR');\r\n                                    formatEl.appendChild(prev);\r\n                                } else {\r\n                                    prev = next;\r\n                                    offset = 0;\r\n                                }\r\n                            }\r\n\r\n                            selectionNode.textContent = '';\r\n                            util.removeItemAllParents(selectionNode, null, formatEl);\r\n                            offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\r\n                            core.setRange(prev, offset, prev, offset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                         (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n    \r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && range.startOffset === 0) {\r\n                        if (util.isComponent(commonCon.previousSibling) || (commonCon.nodeType === 3 && !commonCon.previousSibling && range.startOffset === 0 && range.endOffset === 0 && util.isComponent(formatEl.previousSibling))) {\r\n                            let previousEl = formatEl.previousSibling;\r\n                            if (util.hasClass(previousEl, 'se-image-container') || /^IMG$/i.test(previousEl.nodeName)) {\r\n                                previousEl = /^IMG$/i.test(previousEl.nodeName) ? previousEl : previousEl.querySelector('img');\r\n                                core.selectComponent(previousEl, 'image');\r\n                                if(formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                            } else if (util.hasClass(previousEl, 'se-video-container')) {\r\n                                core.selectComponent(previousEl.querySelector('iframe'), 'video');\r\n                                if(formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (resizingName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[resizingName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\r\n                        let nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) {\r\n                            e.preventDefault();\r\n                            break;\r\n                        }\r\n\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // resizing component\r\n                            if (util.hasClass(nextEl, 'se-component') || /^(IMG|IFRAME)$/i.test(nextEl.nodeName)) {\r\n                                e.stopPropagation();\r\n                                if (util.hasClass(nextEl, 'se-image-container') || /^IMG$/i.test(nextEl.nodeName)) {\r\n                                    nextEl = /^IMG$/i.test(nextEl.nodeName) ? nextEl : nextEl.querySelector('img');\r\n                                    core.selectComponent(nextEl, 'image');\r\n                                } else if (util.hasClass(nextEl, 'se-video-container')) {\r\n                                    core.selectComponent(nextEl.querySelector('iframe'), 'video');\r\n                                }\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                     (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n                        \r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (resizingName) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));            \r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n                    \r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                const textRange = core.insertNode(tabText, null);\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = textRange.endOffset;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = textRange.endOffset;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n    \r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n    \r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n        \r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n                                    \r\n                                    break;\r\n                                }\r\n                            }\r\n    \r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n                    \r\n                    break;\r\n                case 13: /** enter key */\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n                    if (!shift && freeFormatEl) {\r\n                        e.preventDefault();\r\n                        const selectionFormat = selectionNode === freeFormatEl;\r\n                        const wSelection = core.getSelection();\r\n                        const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n\r\n                        if (!!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                          (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                            if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                            else util.removeItem(selectionNode);\r\n                            const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\r\n                            util.copyFormatAttributes(newEl, freeFormatEl);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                        \r\n                        if (selectionFormat) {\r\n                            functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true);\r\n\r\n                            let focusNode = wSelection.focusNode;\r\n                            const wOffset = wSelection.focusOffset;\r\n                            if (freeFormatEl === focusNode) {\r\n                                focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                            }\r\n\r\n                            core.setRange(focusNode, 1, focusNode, 1);\r\n                        } else {\r\n                            const focusNext = wSelection.focusNode.nextSibling;\r\n                            const br = util.createElement('BR');\r\n                            core.insertNode(br, null);\r\n\r\n                            const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                            if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                core.setRange(br, 1, br, 1);\r\n                            } else {\r\n                                core.setRange(brNext, 0, brNext, 0);\r\n                            }\r\n                        }\r\n\r\n                        event._onShortcutKey = true;\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n                    \r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        const range = core.getRange();\r\n                        if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\r\n                            e.preventDefault();\r\n                            let newEl = null;\r\n\r\n                            if (util.isListCell(rangeEl.parentNode)) {\r\n                                rangeEl = formatEl.parentNode.parentNode.parentNode;\r\n                                const splitRange = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\r\n                                newEl = util.createElement('LI');\r\n                                rangeEl.insertBefore(newEl, splitRange);\r\n                            } else {\r\n                                const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : 'P';\r\n                                newEl = util.createElement(newFormat);\r\n                                const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                edge.cc.insertBefore(newEl, edge.ec);\r\n                            }\r\n                            \r\n                            newEl.innerHTML = '<br>';\r\n                            util.copyFormatAttributes(newEl, formatEl);\r\n                            util.removeItemAllParents(formatEl, null, null);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        e.preventDefault();\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (resizingName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        const compContext = context[resizingName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : 'P');\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        container.parentNode.insertBefore(newEl, container);\r\n                        \r\n                        core.callPlugin(resizingName, function () {\r\n                            const size = core.plugins.resizing.call_controller_resize.call(core, compContext._element, resizingName);\r\n                            core.plugins[resizingName].onModifyMode.call(core, compContext._element, size);\r\n                        }, null);\r\n                    }\r\n                    \r\n                    break;\r\n                case 27:\r\n                    if (resizingName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (shift && /16/.test(keyCode)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n\r\n            if (functions.onKeyDown) functions.onKeyDown(e, core);\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n            core._editorRange();\r\n\r\n            const range = core.getRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92;\r\n            const alt = e.altKey;\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '') {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : 'P');\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if (((!formatEl && range.collapsed) || formatEl === rangeEl) && !util.isComponent(selectionNode)) {\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && util.getByteLength(e.key) < 3) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (functions.onKeyUp) functions.onKeyUp(e, core);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            core._lineBreaker.style.display = 'none';\r\n            if (core._isBalloon) event._hideToolbar();\r\n            if (functions.onScroll) functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            if (core._isInline) event._showToolbarInline();\r\n            if (functions.onFocus) functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = false;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n            if (functions.onBlur) functions.onBlur(e, core);\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            core.controllersOff();\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n            \r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets().top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar();\r\n                element.toolbar.style.top = (editorHeight + editorTop + options.stickyToolbar -y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar();\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function () {\r\n            let offsetEl = context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets().top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = options.stickyToolbar + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = e.clipboardData;\r\n            if (!clipboardData) return true;\r\n\r\n            const plainText = clipboardData.getData('text/plain').replace(/\\n/g, '');\r\n            const cleanData = core.cleanHTML(clipboardData.getData('text/html'), core.pasteTagsWhitelistRegExp);\r\n            const maxCharCount = core._charCount(options.charCounterType === 'byte-html' ? cleanData : plainText);\r\n\r\n            if (typeof functions.onPaste === 'function' && !functions.onPaste(e, cleanData, maxCharCount, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                functions.insertHTML(cleanData, true);\r\n            } else {\r\n                // history stack\r\n                core.history.push(true);\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function () {\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDragOver_wysiwyg: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n\r\n            // files\r\n            const files = dataTransfer.files;\r\n            if (files.length > 0 && core.plugins.image) {\r\n                event._setDropLocationSelection(e);\r\n                core.callPlugin('image', function () {\r\n                    context.image.imgInputFile.files = files;\r\n                    core.plugins.image.onRender_imgInput.call(core);\r\n                    context.image.imgInputFile.files = null;\r\n                }, null);\r\n            // check char count\r\n            } else if (!core._charCount(dataTransfer.getData('text/plain'))) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            // html paste\r\n            } else {\r\n                const cleanData = core.cleanHTML(dataTransfer.getData('text/html'), core.pasteTagsWhitelistRegExp);\r\n                if (cleanData) {\r\n                    event._setDropLocationSelection(e);\r\n                    functions.insertHTML(cleanData, true);\r\n                }\r\n            }\r\n\r\n            if (functions.onDrop) functions.onDrop(e, core);\r\n        },\r\n\r\n        onmouseMove_wysiwyg: function (e) {\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n\r\n            if (component) {\r\n                let scrollTop = 0;\r\n                let el = context.element.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = context.element.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets();\r\n                const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe ? context.element.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                let dir = '', top = '';\r\n                if (!util.isFormatElement(component.previousElementSibling) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if (!util.isFormatElement(component.nextElementSibling) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                lineBreakerStyle.visibility = 'hidden';\r\n                lineBreakerStyle.display = 'block';\r\n                core._lineBreakerButton.style.left = (component.offsetLeft + (component.offsetWidth / 2) - (core._lineBreakerButton.offsetWidth / 2)) + 'px';\r\n                lineBreakerStyle.visibility = '';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function () {\r\n            const component = core._variable._lineBreakComp;\r\n\r\n            const format = util.createElement('P');\r\n            format.innerHTML = '<br>';\r\n            component.parentNode.insertBefore(format, core._variable._lineBreakDir === 't' ? component : component.nextSibling);\r\n\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            core.setRange(format.firstChild, 1, format.firstChild, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            \r\n            const range = core.getRange();\r\n            core.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n        },\r\n\r\n        _onChange_historyStack: function () {\r\n            event._applyTagEffects();\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            if (functions.onChange) functions.onChange(core.getContents(true), core);\r\n        },\r\n\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event.onMouseDown_toolbar, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('dragover', event.onDragOver_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            eventWysiwyg.addEventListener('mousemove', event.onmouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._onLineBreak, false);\r\n\r\n            /** Events are registered only when there is a table plugin.  */\r\n            if (core.plugins.table) {\r\n                eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            }\r\n            \r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height)) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n            \r\n            /** window event */\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event.onMouseDown_toolbar);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('dragover', event.onDragOver_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onmouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._onLineBreak);\r\n            \r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            \r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n            \r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n            \r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onDrop: null,\r\n        onChange: null,\r\n        onPaste: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - currentImage: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If false is returned, no image upload is performed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info Input information\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Current img element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} imageInfo Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: img element\r\n         * - src: src attribute of img tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Result info Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n\r\n        /**\r\n         * @description Called when the video(iframe) is is uploaded, updated, deleted\r\n         * @param {Element} targetElement Current iframe element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} videoInfo Video info object\r\n         * - index: data index\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: iframe element\r\n         * - src: src attribute of iframe tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onVideoUpload: null,\r\n\r\n        /**\r\n         * @description Add or reset option property\r\n         * @param {Object} options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [_options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, _options);\r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            const _initHTML = context.element.wysiwyg.innerHTML;\r\n            const el = context.element;\r\n            const constructed = {\r\n                _top: el.topArea,\r\n                _relative: el.relative,\r\n                _toolBar: el.toolbar,\r\n                _editorArea: el.editorArea,\r\n                _wysiwygArea: el.wysiwygFrame,\r\n                _codeArea: el.code,\r\n                _placeholder: el.placeholder,\r\n                _resizingBar: el.resizingBar,\r\n                _navigation: el.navigation,\r\n                _charCounter: el.charCounter,\r\n                _charWrapper: el.charWrapper,\r\n                _loading: el.loading,\r\n                _lineBreaker: el.lineBreaker,\r\n                _resizeBack: el.resizeBackground,\r\n                _stickyDummy: el._stickyDummy,\r\n                _arrow: el._arrow\r\n            };\r\n            \r\n            options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n            core.context = context = lib_context(context.element.originElement, constructed, options);\r\n\r\n            core._componentsInfoReset = true;\r\n            core._init(true, _initHTML);\r\n            event._addEvent();\r\n            core._charCount('');\r\n\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const optionStyle = util._setDefaultOptionStyle(options);\r\n\r\n            if (typeof style === 'string' && style.trim().length > 0) {\r\n                context.element.wysiwyg.style.cssText = optionStyle + style;\r\n            } else {\r\n                context.element.wysiwyg.style.cssText = optionStyle;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = core.getContents(false);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core._getCharLength((charCounterType === 'byte-html' ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: img element\r\n         * - src: src attribute of img tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._imagesInfo : [];\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded videos informations\r\n         * - index: data index\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: iframe element\r\n         * - src: src attribute of iframe tag\r\n         * @returns {Array}\r\n         */\r\n        getVideosInfo: function () {\r\n            return context.video ? context.video._videosInfo : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         */\r\n        insertHTML: function (html, notCleaningData) {\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null);\r\n                try {\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n                    let c, a, t;\r\n                    while ((c = domTree[0])) {\r\n                        t = core.insertNode(c, a);\r\n                        a = c;\r\n                    }\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\t\r\n                    }\r\n                    core.insertNode(html, afterNode);\r\n                }\r\n            }\r\n            \r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n            \r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    wysiwyg.appendChild(children[i]);\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', true);\r\n            } else {\r\n                context.element.code.setAttribute('disabled', 'disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', false);\r\n            } else {\r\n                context.element.code.removeAttribute('disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n            \r\n            /** remove element */\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (var k in core) { delete core[k]; }\r\n            for (var k in event) { delete event[k]; }\r\n            for (var k in context) { delete context[k]; }\r\n            for (var k in pluginCallButtons) { delete pluginCallButtons[k]; }\r\n            \r\n            /** remove user object */\r\n            for (var k in this) { delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disabled: function () {\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enabled: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /** initialize core and add event listeners */\r\n    core._init(false, null);\r\n    event._addEvent();\r\n    core._charCount('');\r\n\r\n    // functionss\r\n    core.functions = functions;\r\n\r\n    // register notice module\r\n    core.addModule([_notice]);\r\n\r\n    return functions;\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n/* harmony default export */ var suneditor = ({\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function (init_options) {\n        return {\n            create: function (idOrElement, options) {\n                return this.create(idOrElement, options, init_options);\n            }.bind(this)\n        };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function (idOrElement, options, _init_options) {\n        if (typeof options !== 'object') options = {};\n        if (_init_options) {\n            options =  [_init_options, options].reduce(function (init, option) {\n                            for (let key in option) {\n                                if (key === 'plugins' && option[key] && init[key]) {\n                                    let i = init[key], o = option[key];\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\n                                } else {\n                                    init[key] = option[key];\n                                }\n                            }\n                            return init;\n                        }, {});\n        }\n        \n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n        if (!element) {\n            if (typeof idOrElement === 'string') {\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n            }\n\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n        }\n\n        const cons = lib_constructor.init(element, options);\n\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n        }\n\n        element.style.display = 'none';\n        cons.constructed._top.style.display = 'block';\n\n        /** Create to sibling node */\n        if (typeof element.nextElementSibling === 'object') {\n            element.parentNode.insertBefore(cons.constructed._top, element.nextElementSibling);\n        } else {\n            element.parentNode.appendChild(cons.constructed._top);\n        }\n\n        return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._icons);\n    }\n});\n\n// CONCATENATED MODULE: ./misc/getPlugins.js\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar getPlugins = function getPlugins(_ref) {\n  var buttonList = _ref.buttonList;\n  if (!buttonList) return undefined;\n  if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n    var pluginList = [];\n    buttonList = flatten(buttonList);\n    if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(6).default);\n    if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(7).default);\n    if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(8).default);\n    if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(9).default);\n    if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(10).default);\n    if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(11).default);\n    if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(12).default);\n    if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(13).default);\n    if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(14).default);\n    if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(15).default);\n    if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(16).default);\n    if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(17).default);\n    if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(18).default);\n    if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(19).default);\n    if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(20).default);\n    if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(21).default);\n    if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(22).default);\n    if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(23).default);\n    return pluginList;\n  }\n};\n\nvar flatten = function flatten(arr) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    return [].concat(_toConsumableArray(result), [arr]);\n  }\n\n  for (var a = 0; a < arr.length; a++) {\n    result = flatten(arr[a], result);\n  }\n\n  return result;\n};\n\nvar isArray = function isArray(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\n\n/* harmony default export */ var misc_getPlugins = (getPlugins);\n// CONCATENATED MODULE: ./misc/getLanguage.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar getLanguage = function getLanguage(lang) {\n  switch (_typeof(lang)) {\n    case 'object':\n      return lang;\n\n    case 'string':\n      switch (lang) {\n        case 'en':\n          return __webpack_require__(2);\n\n        case 'da':\n          return __webpack_require__(24);\n\n        case 'de':\n          return __webpack_require__(25);\n\n        case 'es':\n          return __webpack_require__(26);\n\n        case 'fr':\n          return __webpack_require__(27);\n\n        case 'ja':\n          return __webpack_require__(28);\n\n        case 'ko':\n          return __webpack_require__(29);\n\n        case 'pt_br':\n          return __webpack_require__(30);\n\n        case 'ru':\n          return __webpack_require__(31);\n\n        case 'zh_cn':\n          return __webpack_require__(32);\n\n        default:\n          return __webpack_require__(2);\n      }\n\n  }\n\n  return __webpack_require__(2);\n};\n\n/* harmony default export */ var misc_getLanguage = (getLanguage);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(0);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./SunEditor.js\nfunction SunEditor_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { SunEditor_typeof = function _typeof(obj) { return typeof obj; }; } else { SunEditor_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return SunEditor_typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (SunEditor_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n\n\n\n\n\n\nvar SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n  _inherits(SunEditor, _Component);\n\n  function SunEditor(props) {\n    var _this;\n\n    _classCallCheck(this, SunEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SunEditor).call(this, props));\n    _this.txtArea = Object(external_react_[\"createRef\"])();\n    return _this;\n  }\n\n  _createClass(SunEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          lang = _this$props.lang,\n          _this$props$setOption = _this$props.setOptions,\n          setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n          _this$props$width = _this$props.width,\n          width = _this$props$width === void 0 ? \"100%\" : _this$props$width;\n      var editor = suneditor.create(this.txtArea.current, {\n        width: width,\n        lang: misc_getLanguage(lang)\n      });\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          insertHTML = _this$props2.insertHTML,\n          setContents = _this$props2.setContents,\n          setDefaultStyle = _this$props2.setDefaultStyle,\n          appendContents = _this$props2.appendContents,\n          disable = _this$props2.disable,\n          enable = _this$props2.enable,\n          hide = _this$props2.hide,\n          show = _this$props2.show,\n          _this$props2$showTool = _this$props2.showToolbar,\n          showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n          _this$props2$enableTo = _this$props2.enableToolbar,\n          enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n          onScroll = _this$props2.onScroll,\n          onClick = _this$props2.onClick,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyUp = _this$props2.onKeyUp,\n          onDrop = _this$props2.onDrop,\n          onChange = _this$props2.onChange,\n          onImageUpload = _this$props2.onImageUpload,\n          onImageUploadError = _this$props2.onImageUploadError,\n          onPaste = _this$props2.onPaste,\n          autoFocus = _this$props2.autoFocus,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          onLoad = _this$props2.onLoad,\n          onImageUploadBefore = _this$props2.onImageUploadBefore,\n          placeholder = _this$props2.placeholder;\n      if (onChange || name) editor.onChange = function (content) {\n        if (name) _this2.txtArea.current.value = content;\n        if (onChange) onChange(content);\n      };\n      if (onScroll) editor.onScroll = function (e) {\n        return onScroll(e);\n      };\n      if (onClick) editor.onClick = function (e) {\n        return onClick(e);\n      };\n      if (onKeyUp) editor.onKeyUp = function (e) {\n        return onKeyUp(e);\n      };\n      if (onKeyDown) editor.onKeyDown = function (e) {\n        return onKeyDown(e);\n      };\n      if (onBlur) editor.onBlur = function (e) {\n        return onBlur(e, editor.getContents());\n      };\n      if (onFocus) editor.onFocus = function (e) {\n        return onFocus(e);\n      };\n      if (onLoad) editor.onload = function (c, reload) {\n        return onLoad(reload);\n      };\n      if (onImageUploadBefore) editor.onImageUploadBefore = function (files, info) {\n        return onImageUploadBefore(files, info);\n      };\n      if (onDrop) editor.onDrop = function (e) {\n        return onDrop(e);\n      };\n      if (onPaste) editor.onPaste = function (e, cleanData, maxCharCount) {\n        return onPaste(e, cleanData, maxCharCount);\n      };\n      if (onImageUpload) editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n        return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n      };\n      if (onImageUploadError) editor.onImageUploadError = function (errorMessage, result) {\n        return onImageUploadError(errorMessage, result);\n      };\n      if (placeholder) setOptions.placeholder = placeholder;\n      if (!setOptions.plugins) setOptions.plugins = misc_getPlugins(setOptions);\n      editor.setOptions(setOptions);\n\n      if (setContents) {\n        editor.setContents(setContents);\n        editor.core.focusEdge();\n      }\n\n      ;\n      if (setDefaultStyle) editor.setDefaultStyle(setDefaultStyle);\n      if (insertHTML) editor.insertHTML(insertHTML);\n      if (appendContents) editor.appendContents(appendContents);\n      if (enable === true) editor.enabled();\n      if (disable === true) editor.disabled();\n      if (hide === true) editor.hide();\n      if (show === true) editor.show();\n      if (showToolbar === true) editor.toolbar.show();else editor.toolbar.hide();\n      if (enableToolbar === true) editor.toolbar.enabled();else editor.toolbar.disabled();\n      setTimeout(function () {\n        if (autoFocus === false) editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) editor.core.context.element.wysiwyg.focus();\n      }, 0);\n      this.editor = editor; // Contributed by https://github.com/AramRafeq\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Props compared\n      if (prevProps.setContents !== this.props.setContents) {\n        !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n      }\n\n      if (prevProps.appendContents !== this.props.appendContents) {\n        this.editor.appendContents(this.props.appendContents);\n      }\n\n      if (prevProps.enable !== this.props.enable) {\n        if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n      }\n\n      if (prevProps.disable !== this.props.disable) {\n        if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n      }\n\n      if (prevProps.showToolbar !== this.props.showToolbar) {\n        if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n      }\n\n      if (prevProps.enableToolbar !== this.props.enableToolbar) {\n        if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n      }\n\n      if (prevProps.show !== this.props.show) {\n        if (this.props.show === true) this.editor.show();else this.editor.hide();\n      }\n\n      if (prevProps.hide !== this.props.hide) {\n        if (this.props.hide === true) this.editor.hide();else this.editor.show();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dynamicName = {};\n      if (this.props.name) dynamicName.name = this.props.name;\n      return external_react_default.a.createElement(\"textarea\", _extends({\n        ref: this.txtArea\n      }, dynamicName));\n    }\n  }]);\n\n  return SunEditor;\n}(external_react_[\"Component\"]);\n\nSunEditor_SunEditor.propTypes = {\n  onChange: prop_types_default.a.func,\n  onScroll: prop_types_default.a.func,\n  onClick: prop_types_default.a.func,\n  onKeyUp: prop_types_default.a.func,\n  onKeyDown: prop_types_default.a.func,\n  onDrop: prop_types_default.a.func,\n  onBlur: prop_types_default.a.func,\n  onFocus: prop_types_default.a.func,\n  onLoad: prop_types_default.a.func,\n  onPaste: prop_types_default.a.func,\n  onImageUploadBefore: prop_types_default.a.func,\n  onImageUpload: prop_types_default.a.func,\n  onImageUploadError: prop_types_default.a.func,\n  setOptions: prop_types_default.a.object,\n  setContents: prop_types_default.a.string,\n  name: prop_types_default.a.string,\n  appendContents: prop_types_default.a.string,\n  setDefaultStyle: prop_types_default.a.string,\n  enable: prop_types_default.a.bool,\n  showToolbar: prop_types_default.a.bool,\n  enableToolbar: prop_types_default.a.bool,\n  disable: prop_types_default.a.bool,\n  hide: prop_types_default.a.bool,\n  show: prop_types_default.a.bool,\n  autoFocus: prop_types_default.a.bool,\n  placeholder: prop_types_default.a.string,\n  lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n  width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n};\n/* harmony default export */ var SunEditor_0 = (SunEditor_SunEditor);\n// CONCATENATED MODULE: ./main.js\n\n\n\n/* harmony default export */ var main = __webpack_exports__[\"default\"] = (SunEditor_0);\n\n/***/ })\n/******/ ]);"]},"metadata":{},"sourceType":"script"}