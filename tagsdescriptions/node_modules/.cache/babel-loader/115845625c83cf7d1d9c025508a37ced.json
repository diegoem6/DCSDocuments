{"ast":null,"code":"import _defineProperty from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import alertContext from'../../context/alerts/alertContext';import authContext from'../../context/auth/authContext';var Newuser=function Newuser(props){var _useState=useState({name:\"\",email:\"\",password:\"\",rpassword:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];var aContext=useContext(alertContext);var alert=aContext.alert,showAlert=aContext.showAlert;var auContext=useContext(authContext);var authenticated=auContext.authenticated,message=auContext.message,createUser=auContext.createUser,resetMessage=auContext.resetMessage;var name=user.name,email=user.email,password=user.password,rpassword=user.rpassword;useEffect(function(){if(authenticated){props.history.push('/');}if(message){showAlert(message.msg,message.category);resetMessage();}// eslint-disable-next-line\n},[authenticated,message,props.history]);var onChange=function onChange(e){setuser(_objectSpread({},user,_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name.trim()===\"\"||email.trim()===\"\"||password.trim()===\"\"||rpassword.trim()===\"\"){showAlert(\"Todos los campos son obligatorios\",\"alerta-error\");return;}if(password.length<6){showAlert(\"El password debe tener al menos 6 caracteres\",\"alerta-error\");return;}if(password!==rpassword){showAlert(\"Los passwords deben ser iguales\",\"alerta-error\");return;}createUser({name:name,email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alert?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alert.category)},alert.msg,\" \"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Nueva cuenta\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nombre\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Nombre\",onChange:onChange,value:name})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",onChange:onChange,value:email})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Password\",onChange:onChange,value:password})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirmar\"},\"Confirmar password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"rpassword\",name:\"rpassword\",placeholder:\"Repeti tu password\",onChange:onChange,value:rpassword})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrar cuenta\"}))),/*#__PURE__*/React.createElement(Link,{to:'/',className:\"enlace-cuenta\"},\"> Volver a Login\")));};export default Newuser;","map":{"version":3,"sources":["/Users/diegoricca/Documents/React/DCSDocuments/tagsdescriptions/src/components/auth/newUser.js"],"names":["React","useState","useContext","useEffect","Link","alertContext","authContext","Newuser","props","name","email","password","rpassword","user","setuser","aContext","alert","showAlert","auContext","authenticated","message","createUser","resetMessage","history","push","msg","category","onChange","e","target","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React,{useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport alertContext from '../../context/alerts/alertContext'\nimport authContext from '../../context/auth/authContext'\n\nconst Newuser = (props) => {\n    const [user, setuser] = useState({\n        name:\"\", \n        email: \"\" ,\n        password: \"\",\n        rpassword:\"\"\n      });\n    \n\n      const aContext = useContext(alertContext)\n      const {alert, showAlert} = aContext\n\n      const auContext = useContext(authContext)\n      const {authenticated, message, createUser, resetMessage} = auContext\n\n      const {name, email, password, rpassword} = user;\n    \n\n      useEffect(()=>{\n          if(authenticated){\n            props.history.push('/')\n          }\n          if (message){\n            showAlert(message.msg,message.category)\n            resetMessage()\n          }\n          // eslint-disable-next-line\n      },[authenticated, message, props.history])\n\n      const onChange = (e) => {\n            setuser({\n              ...user, \n              [e.target.name] : e.target.value\n            })\n      };\n    \n      const onSubmit = (e) => {\n        \n        e.preventDefault();\n        if (name.trim()===\"\"||\n            email.trim()===\"\"||\n            password.trim()===\"\"||\n            rpassword.trim()===\"\"){\n                \n                showAlert(\"Todos los campos son obligatorios\",\"alerta-error\")\n                return;\n        }\n          \n        if (password.length < 6){\n            showAlert(\"El password debe tener al menos 6 caracteres\",\"alerta-error\")\n            return;\n        }\n\n        if (password !== rpassword){\n            showAlert(\"Los passwords deben ser iguales\",\"alerta-error\")\n          return;\n        }\n        createUser({\n          name,\n          email,\n          password\n        })\n      };\n    \n      return (\n        <div className=\"form-usuario\">\n          {alert? (<div className={`alerta ${alert.category}`}>{alert.msg} </div>)\n                    :null}\n          <div className=\"contenedor-form sombra-dark\">\n            <h1>Nueva cuenta</h1>\n    \n            <form \n                onSubmit = {onSubmit}\n            >\n                <div className=\"campo-form\">\n                <label htmlFor=\"nombre\">Nombre</label>\n                <input\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                  placeholder=\"Nombre\"\n                  onChange={onChange}\n                  value={name}\n                />\n              </div>\n\n              <div className=\"campo-form\">\n                <label htmlFor=\"email\">Email</label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  onChange={onChange}\n                  value={email}\n                />\n              </div>\n    \n              <div className=\"campo-form\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  onChange={onChange}\n                  value={password}\n                />\n              </div>\n\n              <div className=\"campo-form\">\n                <label htmlFor=\"confirmar\">Confirmar password</label>\n                <input\n                  type=\"password\"\n                  id=\"rpassword\"\n                  name=\"rpassword\"\n                  placeholder=\"Repeti tu password\"\n                  onChange={onChange}\n                  value={rpassword}\n                />\n              </div>\n    \n              <div className=\"campo-form\">\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primario btn-block\"\n                  value=\"Registrar cuenta\"\n                />\n              </div>\n            </form>\n            <Link \n                to={'/'}\n                className=\"enlace-cuenta\">\n            >\n                Volver a Login\n            </Link>\n          </div>\n        </div>\n      );\n}\n \n \nexport default Newuser;"]},"metadata":{},"sourceType":"module"}